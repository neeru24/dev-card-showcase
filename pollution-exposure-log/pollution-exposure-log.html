<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pollution Exposure Log - Dev Card Showcase</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../css/pollution-exposure-log.css">
    <link rel="icon" href="../assets/favicon/favicon.ico" type="image/x-icon">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body>
    <!-- Include navbar -->
    <div id="navbar-container"></div>

    <div class="container">
        <header class="page-header">
            <h1><i data-lucide="wind"></i> Pollution Exposure Log</h1>
            <p>Track your daily exposure to polluted environments and monitor your cumulative health risk score.</p>
        </header>

        <div class="log-grid">
            <!-- Daily Exposure Logger -->
            <section class="log-section exposure-logger">
                <h2><i data-lucide="plus-circle"></i> Log Today's Exposure</h2>
                <form id="exposureForm" class="exposure-form">
                    <div class="form-group">
                        <label for="date">Date</label>
                        <input type="date" id="date" required>
                    </div>
                    <div class="form-group">
                        <label for="aqi">Air Quality Index (AQI)</label>
                        <input type="number" id="aqi" min="0" max="500" placeholder="Enter AQI value" required>
                        <small class="help-text">0-50: Good, 51-100: Moderate, 101-150: Unhealthy for Sensitive Groups</small>
                    </div>
                    <div class="form-group">
                        <label for="duration">Exposure Duration (hours)</label>
                        <input type="number" id="duration" min="0" max="24" step="0.5" placeholder="Hours spent outdoors" required>
                    </div>
                    <div class="form-group">
                        <label for="activity">Activity Type</label>
                        <select id="activity" required>
                            <option value="">Select activity</option>
                            <option value="walking">Walking/Running</option>
                            <option value="cycling">Cycling</option>
                            <option value="commuting">Commuting</option>
                            <option value="outdoor-work">Outdoor Work</option>
                            <option value="recreation">Recreation/Sports</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="location">Location</label>
                        <input type="text" id="location" placeholder="City or area" required>
                    </div>
                    <div class="form-group">
                        <label for="notes">Notes (optional)</label>
                        <textarea id="notes" placeholder="Any additional notes about your exposure"></textarea>
                    </div>
                    <button type="submit" class="btn-primary">Log Exposure</button>
                </form>
            </section>

            <!-- Health Risk Score -->
            <section class="log-section risk-score">
                <h2><i data-lucide="activity"></i> Health Risk Assessment</h2>
                <div class="risk-display">
                    <div class="risk-score-circle">
                        <div class="score-value" id="currentRiskScore">--</div>
                        <div class="score-label">Risk Score</div>
                    </div>
                    <div class="risk-details">
                        <div class="risk-level" id="riskLevel">Calculating...</div>
                        <div class="risk-description" id="riskDescription">Based on your recent exposure patterns</div>
                    </div>
                </div>
                <div class="risk-factors">
                    <h3>Risk Factors This Week</h3>
                    <div class="factors-list" id="riskFactors">
                        <!-- Dynamic content -->
                    </div>
                </div>
            </section>

            <!-- Exposure History -->
            <section class="log-section exposure-history">
                <h2><i data-lucide="calendar"></i> Exposure History</h2>
                <div class="history-controls">
                    <button id="viewWeek" class="btn-secondary active">This Week</button>
                    <button id="viewMonth" class="btn-secondary">This Month</button>
                    <button id="viewAll" class="btn-secondary">All Time</button>
                </div>
                <div class="history-list" id="exposureHistory">
                    <!-- Dynamic content -->
                </div>
            </section>

            <!-- Cumulative Impact -->
            <section class="log-section cumulative-impact">
                <h2><i data-lucide="trending-up"></i> Cumulative Impact</h2>
                <div class="impact-stats">
                    <div class="stat-item">
                        <div class="stat-value" id="totalDays">0</div>
                        <div class="stat-label">Days Logged</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="avgAQI">--</div>
                        <div class="stat-label">Avg AQI</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="totalHours">0</div>
                        <div class="stat-label">Total Hours</div>
                    </div>
                </div>
                <div class="impact-chart">
                    <canvas id="exposureChart"></canvas>
                </div>
            </section>
        </div>

        <!-- Health Recommendations -->
        <section class="health-recommendations">
            <h2><i data-lucide="heart"></i> Health Recommendations</h2>
            <div class="recommendations-grid" id="recommendations">
                <!-- Dynamic content -->
            </div>
        </section>
    </div>

    <script src="../js/pollution-exposure-log.js"></script>
</body>
</html>