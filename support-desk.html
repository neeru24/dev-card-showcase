<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Support Desk Lite - DEV Card Showcase</title>
    <link rel="stylesheet" href="css/support-desk.css">
</head>
<body>
    <!-- Skip to main content link -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Navigation -->
    <nav class="navbar" aria-label="Main navigation">
        <div class="nav-container">
            <a href="index.html" class="nav-logo" aria-label="DEV Card Showcase - Home">üéÆ DEV Card Showcase</a>
            <div class="nav-menu" role="menubar">
                <a href="index.html" class="nav-link" role="menuitem">Home</a>
                <a href="arcade.html" class="nav-link" role="menuitem">Arcade</a>
            </div>
        </div>
    </nav>

    <div class="container" id="main-content" role="main">
        <!-- Header -->
        <div class="page-header">
            <h1 class="page-title">üìû Customer Support Desk Lite</h1>
            <p class="page-subtitle">Manage tickets, track SLA, and resolve issues efficiently</p>
            <div id="globalAlert" class="sr-only" role="alert" aria-live="assertive"></div>
            <div id="globalStatus" class="sr-only" role="status" aria-live="polite"></div>
        </div>

        <!-- Main Dashboard -->
        <div class="dashboard-grid">
            <!-- Left Sidebar -->
            <aside class="dashboard-sidebar">
                <!-- Agent Status Section -->
                <section class="sidebar-section">
                    <h2 class="section-title">üó£Ô∏è Your Status</h2>
                    <fieldset class="agent-status-box">
                        <legend class="sr-only">Change your agent status</legend>
                        <div class="status-buttons">
                            <button class="status-btn status-online active" data-status="online" aria-label="Set status to online" title="Online">
                                <span class="status-indicator online"></span>
                                Online
                            </button>
                            <button class="status-btn status-busy" data-status="busy" aria-label="Set status to busy" title="Busy">
                                <span class="status-indicator busy"></span>
                                Busy
                            </button>
                            <button class="status-btn status-offline" data-status="offline" aria-label="Set status to offline" title="Offline">
                                <span class="status-indicator offline"></span>
                                Offline
                            </button>
                        </div>
                    </fieldset>
                </section>

                <!-- Quick Stats -->
                <section class="sidebar-section">
                    <h2 class="section-title">üìä Quick Stats</h2>
                    <div class="stats-box">
                        <div class="stat-item">
                            <span class="stat-label">Total Tickets</span>
                            <span class="stat-number" id="totalTickets">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Open</span>
                            <span class="stat-number open" id="openCount">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">In Progress</span>
                            <span class="stat-number in-progress" id="inProgressCount">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Closed</span>
                            <span class="stat-number closed" id="closedCount">0</span>
                        </div>
                    </div>
                </section>

                <!-- Canned Responses -->
                <section class="sidebar-section">
                    <h2 class="section-title">üìã Canned Responses</h2>
                    <div class="canned-responses" id="cannedResponsesList">
                        <button class="canned-response-btn" data-response="Thanks for contacting us! We'll look into your issue right away." aria-label="Use response: Thanks for contacting us">
                            üëã Thanks
                        </button>
                        <button class="canned-response-btn" data-response="I'm looking into this and will update you shortly." aria-label="Use response: Looking into">
                            üîç Investigating
                        </button>
                        <button class="canned-response-btn" data-response="Your issue has been resolved. Please let us know if you need anything else." aria-label="Use response: Resolved">
                            ‚úÖ Resolved
                        </button>
                        <button class="canned-response-btn" data-response="I apologize for the inconvenience. Let me help you with that." aria-label="Use response: Apology">
                            üòî Apologize
                        </button>
                        <button class="canned-response-btn" data-response="Please provide more details so I can assist you better." aria-label="Use response: Need info">
                            ‚ùì Need Info
                        </button>
                    </div>
                </section>
            </aside>

            <!-- Main Content -->
            <main class="dashboard-main">
                <!-- Tabs Navigation -->
                <div class="tabs-container" role="tablist">
                    <button class="tab-button active" data-tab="board" role="tab" aria-selected="true" aria-controls="board-panel">
                        üéØ Ticket Board
                    </button>
                    <button class="tab-button" data-tab="intake" role="tab" aria-selected="false" aria-controls="intake-panel">
                        üìù New Ticket
                    </button>
                    <button class="tab-button" data-tab="reports" role="tab" aria-selected="false" aria-controls="reports-panel">
                        üìà Reports
                    </button>
                </div>

                <!-- Tab 1: Ticket Board -->
                <div id="board-panel" class="tab-panel active" role="tabpanel" aria-labelledby="board-tab">
                    <div class="board-controls">
                        <div class="search-box">
                            <input type="text" id="searchTickets" class="search-input" placeholder="Search tickets..." 
                                   aria-label="Search tickets by ID or customer name">
                            <button class="search-btn" aria-label="Search">üîç</button>
                        </div>
                        <div class="filter-group">
                            <select id="filterStatus" class="filter-select" aria-label="Filter by status">
                                <option value="">All Statuses</option>
                                <option value="open">Open</option>
                                <option value="in-progress">In Progress</option>
                                <option value="closed">Closed</option>
                            </select>
                            <select id="filterPriority" class="filter-select" aria-label="Filter by priority">
                                <option value="">All Priorities</option>
                                <option value="high">High</option>
                                <option value="medium">Medium</option>
                                <option value="low">Low</option>
                            </select>
                        </div>
                    </div>

                    <!-- Ticket List -->
                    <div class="ticket-board" id="ticketBoard" role="region" aria-label="Ticket list">
                        <p class="empty-state">No tickets yet. Create a new one to get started.</p>
                    </div>
                </div>

                <!-- Tab 2: New Ticket Intake -->
                <div id="intake-panel" class="tab-panel" role="tabpanel" aria-labelledby="intake-tab">
                    <div class="form-container">
                        <h2 class="form-title">Create New Ticket</h2>
                        <form id="intakeForm" class="intake-form" aria-label="New ticket intake form">
                            <div class="form-group">
                                <label for="customerName">Customer Name *</label>
                                <input type="text" id="customerName" required aria-label="Customer name" 
                                       placeholder="Enter customer name">
                                <span class="error-message" id="errorCustomerName"></span>
                            </div>

                            <div class="form-group">
                                <label for="customerEmail">Email *</label>
                                <input type="email" id="customerEmail" required aria-label="Customer email"
                                       placeholder="customer@example.com">
                                <span class="error-message" id="errorCustomerEmail"></span>
                            </div>

                            <div class="form-group">
                                <label for="ticketSubject">Subject *</label>
                                <input type="text" id="ticketSubject" required aria-label="Ticket subject"
                                       placeholder="Brief description of the issue">
                                <span class="error-message" id="errorTicketSubject"></span>
                            </div>

                            <div class="form-group">
                                <label for="ticketDescription">Description *</label>
                                <textarea id="ticketDescription" required rows="5" aria-label="Detailed description of the issue"
                                          placeholder="Provide detailed information about the issue..."></textarea>
                                <span class="error-message" id="errorTicketDescription"></span>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="ticketPriority">Priority *</label>
                                    <select id="ticketPriority" required aria-label="Select priority level">
                                        <option value="">Select Priority</option>
                                        <option value="low">Low - Can wait</option>
                                        <option value="medium">Medium - Normal</option>
                                        <option value="high">High - Urgent</option>
                                    </select>
                                    <span class="error-message" id="errorTicketPriority"></span>
                                </div>

                                <div class="form-group">
                                    <label for="ticketCategory">Category *</label>
                                    <select id="ticketCategory" required aria-label="Select issue category">
                                        <option value="">Select Category</option>
                                        <option value="technical">Technical Issue</option>
                                        <option value="billing">Billing</option>
                                        <option value="account">Account</option>
                                        <option value="feature">Feature Request</option>
                                        <option value="other">Other</option>
                                    </select>
                                    <span class="error-message" id="errorTicketCategory"></span>
                                </div>
                            </div>

                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary" aria-label="Submit new ticket">
                                    Create Ticket
                                </button>
                                <button type="reset" class="btn btn-secondary" aria-label="Clear form">
                                    Clear
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Tab 3: Reports -->
                <div id="reports-panel" class="tab-panel" role="tabpanel" aria-labelledby="reports-tab">
                    <div class="reports-container">
                        <h2 class="section-title">üìà Daily Resolution Reports</h2>

                        <!-- Summary Cards -->
                        <div class="report-cards" role="region" aria-label="Report summary">
                            <div class="report-card">
                                <h3>Today's Statistics</h3>
                                <div class="report-stat">
                                    <span class="label">Tickets Created:</span>
                                    <span class="value" id="todayCreated">0</span>
                                </div>
                                <div class="report-stat">
                                    <span class="label">Tickets Resolved:</span>
                                    <span class="value" id="todayResolved">0</span>
                                </div>
                                <div class="report-stat">
                                    <span class="label">Avg Resolution Time:</span>
                                    <span class="value" id="avgTime">0m</span>
                                </div>
                            </div>

                            <div class="report-card">
                                <h3>Queue Status</h3>
                                <div class="report-stat">
                                    <span class="label">Average Wait Time:</span>
                                    <span class="value" id="avgWait">2m</span>
                                </div>
                                <div class="report-stat">
                                    <span class="label">SLA Compliance:</span>
                                    <span class="value" id="slaCompliance">95%</span>
                                </div>
                                <div class="report-stat">
                                    <span class="label">Customer Satisfaction:</span>
                                    <span class="value" id="satisfaction">4.8/5</span>
                                </div>
                            </div>
                        </div>

                        <!-- Ticket Breakdown Table -->
                        <div class="table-container">
                            <h3>Ticket Breakdown by Status</h3>
                            <table class="report-table" aria-label="Ticket breakdown table">
                                <thead>
                                    <tr>
                                        <th>Status</th>
                                        <th>Count</th>
                                        <th>Percentage</th>
                                        <th>Avg Time</th>
                                    </tr>
                                </thead>
                                <tbody id="reportTableBody">
                                    <tr>
                                        <td>Open</td>
                                        <td id="reportOpen">0</td>
                                        <td id="reportOpenPct">0%</td>
                                        <td>--</td>
                                    </tr>
                                    <tr>
                                        <td>In Progress</td>
                                        <td id="reportInProgress">0</td>
                                        <td id="reportInProgressPct">0%</td>
                                        <td>--</td>
                                    </tr>
                                    <tr>
                                        <td>Closed</td>
                                        <td id="reportClosed">0</td>
                                        <td id="reportClosedPct">0%</td>
                                        <td id="reportAvgClosed">--</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <!-- Export Button -->
                        <div class="report-actions">
                            <button class="btn btn-primary" id="exportReportBtn" aria-label="Export report as CSV">
                                üì• Export Report
                            </button>
                            <button class="btn btn-secondary" id="refreshReportBtn" aria-label="Refresh report data">
                                üîÑ Refresh
                            </button>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- Ticket Detail Modal -->
        <div id="ticketModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="modalTitle">Ticket Details</h2>
                    <button class="close-btn" aria-label="Close ticket details">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="ticket-details" id="ticketDetails"></div>
                    <div class="response-section">
                        <label for="responseText">Add Response:</label>
                        <textarea id="responseText" rows="4" placeholder="Type your response..." 
                                  aria-label="Response text area"></textarea>
                        <div class="response-actions">
                            <button class="btn btn-primary" id="sendResponseBtn" aria-label="Send response">
                                Send Response
                            </button>
                            <button class="btn btn-secondary" id="closeTicketBtn" aria-label="Close ticket">
                                Close Ticket
                            </button>
                        </div>
                    </div>
                    <div id="responseHistory" class="response-history" role="log" aria-label="Response history"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <p>&copy; 2026 DEV Card Showcase | Customer Support Desk Lite</p>
    </footer>

    <script src="js/support-desk.js"></script>
</body>
</html>
