<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Advanced Image Gallery with Real-time Filters">
    <title>Snap | Advanced Gallery</title>

    <!-- Preconnect to external resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;700&family=Space+Grotesk:wght@300;400;500;600&display=swap"
        rel="stylesheet">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/gallery.css">
    <link rel="stylesheet" href="css/modal.css">
    <link rel="stylesheet" href="css/controls.css">
    <link rel="stylesheet" href="css/animations.css">
</head>

<body>
    <div class="app-container">
        <!-- Header -->
        <header class="site-header">
            <div class="logo-container">
                <svg class="logo-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                    <path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                    <path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                </svg>
                <h1 class="logo-text">Snap</h1>
            </div>
            <nav class="site-nav">
                <button id="btn-upload" class="action-btn" style="margin-right: 1rem;">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="17 8 12 3 7 8"></polyline>
                        <line x1="12" y1="3" x2="12" y2="15"></line>
                    </svg>
                    <span>Upload</span>
                </button>
                <input type="file" id="file-upload" multiple accept="image/*" hidden>
                <button id="btn-theme-toggle" class="icon-btn" aria-label="Toggle Theme">
                    <!-- Sun Icon -->
                    <svg class="icon sun-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <a href="https://github.com/YadavAkhileshh" target="_blank" class="nav-link">GitHub</a>
            </nav>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <div class="gallery-controls">
                <div class="search-bar">
                    <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                    </svg>
                    <input type="text" id="gallery-search" placeholder="Search collections...">
                </div>
                <div class="view-toggles">
                    <select id="gallery-sort" class="sort-select" aria-label="Sort Gallery">
                        <option value="default">Default</option>
                        <option value="fav">Favorites</option>
                        <option value="az">Name (A-Z)</option>
                        <option value="za">Name (Z-A)</option>
                    </select>
                    <button class="view-btn active" data-view="grid" aria-label="Grid View">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="7" height="7"></rect>
                            <rect x="14" y="3" width="7" height="7"></rect>
                            <rect x="14" y="14" width="7" height="7"></rect>
                            <rect x="3" y="14" width="7" height="7"></rect>
                        </svg>
                    </button>
                    <!-- List View Icon -->
                </div>
            </div>

            <section id="gallery-grid" class="gallery-grid">
                <!-- Gallery Items will be injected here via JS -->
            </section>
        </main>

        <!-- Footer -->
        <footer class="site-footer">
            <p>&copy; 2024 Snap Gallery. Built with precision.</p>
        </footer>
    </div>

    <!-- Image Editor Modal -->
    <div id="editor-modal" class="modal" aria-hidden="true" role="dialog">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-image-title">Image Title</h2>
                <div class="modal-actions">
                    <button id="btn-download" class="action-btn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="7 10 12 15 17 10"></polyline>
                            <line x1="12" y1="15" x2="12" y2="3"></line>
                        </svg>
                        <span>Download</span>
                    </button>
                    <button id="btn-fullscreen" class="icon-btn" aria-label="Toggle Fullscreen">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path
                                d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3">
                            </path>
                        </svg>
                    </button>
                    <button id="btn-compare" class="action-btn"
                        style="background-color: var(--color-bg-surface); border: 1px solid var(--color-border); color: var(--color-text-primary);">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16"
                            height="16">
                            <path d="M2 12a10 10 0 1 0 20 0 10 10 0 1 0-20 0zm10 0h10"></path>
                        </svg>
                        <span>Hold to Compare</span>
                    </button>
                    <button id="btn-close-modal" class="close-btn" aria-label="Close">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </div>
            </div>

            <div class="modal-body">
                <div class="canvas-wrapper">
                    <img id="active-image" src="" alt="Preview" draggable="false">
                    <canvas id="export-canvas"></canvas> <!-- Hidden canvas for processing -->

                    <!-- Navigation Arrows -->
                    <button class="nav-arrow nav-prev" aria-label="Previous Image">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="15 18 9 12 15 6"></polyline>
                        </svg>
                    </button>
                    <button class="nav-arrow nav-next" aria-label="Next Image">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="9 18 15 12 9 6"></polyline>
                        </svg>
                    </button>
                </div>

                <aside class="controls-sidebar">
                    <div class="controls-header">
                        <h3>Filters</h3>
                        <div class="history-controls">
                            <button id="btn-undo" class="icon-btn" aria-label="Undo" disabled>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M9 14L4 9l5-5" />
                                    <path d="M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11" />
                                </svg>
                            </button>
                            <button id="btn-redo" class="icon-btn" aria-label="Redo" disabled>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M15 14l5-5-5-5" />
                                    <path d="M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13" />
                                </svg>
                            </button>
                            <button id="btn-reset-filters" class="text-btn">Reset</button>
                        </div>
                    </div>

                    <div class="presets-container">
                        <div class="preset-chip active" data-preset="normal">Normal</div>
                        <div class="preset-chip" data-preset="bw">B&W</div>
                        <div class="preset-chip" data-preset="vintage">Vintage</div>
                        <div class="preset-chip" data-preset="warm">Warm</div>
                        <div class="preset-chip" data-preset="cool">Cool</div>
                        <div class="preset-chip" data-preset="drama">Drama</div>
                    </div>

                    <div class="sliders-group">
                        <div class="slider-control">
                            <div class="slider-label">
                                <span>Brightness</span>
                                <span class="slider-value" data-for="brightness">100%</span>
                            </div>
                            <input type="range" id="filter-brightness" min="0" max="200" value="100">
                        </div>

                        <div class="slider-control">
                            <div class="slider-label">
                                <span>Contrast</span>
                                <span class="slider-value" data-for="contrast">100%</span>
                            </div>
                            <input type="range" id="filter-contrast" min="0" max="200" value="100">
                        </div>

                        <div class="slider-control">
                            <div class="slider-label">
                                <span>Saturation</span>
                                <span class="slider-value" data-for="saturate">100%</span>
                            </div>
                            <input type="range" id="filter-saturate" min="0" max="200" value="100">
                        </div>

                        <div class="slider-control">
                            <div class="slider-label">
                                <span>Blur</span>
                                <span class="slider-value" data-for="blur">0px</span>
                            </div>
                            <input type="range" id="filter-blur" min="0" max="100" value="0" step="0.5">
                        </div>

                        <div class="slider-control">
                            <div class="slider-label">
                                <span>Grayscale</span>
                                <span class="slider-value" data-for="grayscale">0%</span>
                            </div>
                            <input type="range" id="filter-grayscale" min="0" max="100" value="0">
                        </div>

                        <div class="slider-control">
                            <div class="slider-label">
                                <span>Sepia</span>
                                <span class="slider-value" data-for="sepia">0%</span>
                            </div>
                            <input type="range" id="filter-sepia" min="0" max="100" value="0">
                        </div>

                        <div class="slider-control">
                            <div class="slider-label">
                                <span>Hue Rotate</span>
                                <span class="slider-value" data-for="hue-rotate">0deg</span>
                            </div>
                            <input type="range" id="filter-hue-rotate" min="0" max="360" value="0">
                        </div>

                        <div class="slider-control">
                            <div class="slider-label">
                                <span>Invert</span>
                                <span class="slider-value" data-for="invert">0%</span>
                            </div>
                            <input type="range" id="filter-invert" min="0" max="100" value="0">
                        </div>

                        <div class="transform-group">
                            <h4>Transforms</h4>
                            <div class="transform-buttons">
                                <button id="btn-rotate-left" class="icon-btn" title="Rotate Left">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path>
                                        <path d="M3 3v5h5"></path>
                                    </svg>
                                </button>
                                <button id="btn-rotate-right" class="icon-btn" title="Rotate Right">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M21 12a9 9 0 1 1-9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path>
                                        <path d="M21 3v5h-5"></path>
                                    </svg>
                                </button>
                                <button id="btn-flip-h" class="icon-btn" title="Flip Horizontal">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polyline points="16 3 21 3 21 8"></polyline>
                                        <line x1="4" y1="20" x2="21" y2="3"></line>
                                        <polyline points="21 16 21 21 16 21"></polyline>
                                        <line x1="15" y1="15" x2="21" y2="21"></line>
                                        <line x1="4" y1="4" x2="9" y2="9"></line>
                                    </svg>
                                </button>
                                <button id="btn-flip-v" class="icon-btn" title="Flip Vertical">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polyline points="17 21 17 13 7 13 7 21"></polyline>
                                        <polyline points="7 3 7 8 15 8"></polyline>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </aside>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script type="module" src="js/state.js"></script>
    <script type="module" src="js/filters.js"></script>
    <script type="module" src="js/gallery.js"></script>
    <script type="module" src="js/ui.js"></script>
    <script type="module" src="js/app.js"></script>
</body>

</html>