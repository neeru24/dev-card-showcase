<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown Editor & Live Preview</title>
    <link rel="stylesheet" href="../../style.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/atom-one-dark.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <nav class="navbar"></nav>

    <div class="markdown-editor-container">
        <!-- Header/Toolbar -->
        <div class="editor-header">
            <div class="header-left">
                <h1><i class="fas fa-markdown"></i> Markdown Editor</h1>
            </div>
            <div class="header-controls">
                <button class="btn btn-icon" id="toggleTheme" title="Toggle Dark/Light Mode">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="btn btn-icon" id="toggleFullscreen" title="Full Screen">
                    <i class="fas fa-expand"></i>
                </button>
                <button class="btn btn-icon" id="helpToggle" title="Show Help">
                    <i class="fas fa-question-circle"></i>
                </button>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="editor-wrapper">
            <!-- Sidebar Controls -->
            <div class="editor-sidebar">
                <div class="sidebar-section">
                    <h3><i class="fas fa-download"></i> Export</h3>
                    <button class="btn btn-block" id="exportHtml">
                        <i class="fas fa-file-code"></i> HTML
                    </button>
                    <button class="btn btn-block" id="exportPdf">
                        <i class="fas fa-file-pdf"></i> PDF
                    </button>
                    <button class="btn btn-block" id="exportMd">
                        <i class="fas fa-file-alt"></i> Markdown
                    </button>
                </div>

                <div class="sidebar-section">
                    <h3><i class="fas fa-tools"></i> Tools</h3>
                    <button class="btn btn-block" id="copyHtml">
                        <i class="fas fa-copy"></i> Copy HTML
                    </button>
                    <button class="btn btn-block" id="clearEditor">
                        <i class="fas fa-trash"></i> Clear
                    </button>
                </div>

                <div class="sidebar-section stats">
                    <h3><i class="fas fa-chart-bar"></i> Stats</h3>
                    <div class="stat-item">
                        <span class="stat-label">Words:</span>
                        <span class="stat-value" id="wordCount">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Characters:</span>
                        <span class="stat-value" id="charCount">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Lines:</span>
                        <span class="stat-value" id="lineCount">0</span>
                    </div>
                    <div class="stat-item" id="autoSaveStatus">
                        <i class="fas fa-check-circle"></i> Auto-saved
                    </div>
                </div>
            </div>

            <!-- Editor and Preview Panes -->
            <div class="editor-panes">
                <!-- Markdown Editor Pane -->
                <div class="editor-pane">
                    <div class="pane-header">
                        <h2><i class="fas fa-pen"></i> Markdown Input</h2>
                        <div class="pane-controls">
                            <button class="btn btn-sm" id="insertLink" title="Insert Link">
                                <i class="fas fa-link"></i>
                            </button>
                            <button class="btn btn-sm" id="insertImage" title="Insert Image">
                                <i class="fas fa-image"></i>
                            </button>
                            <button class="btn btn-sm" id="insertCode" title="Insert Code Block">
                                <i class="fas fa-code"></i>
                            </button>
                        </div>
                    </div>
                    <textarea id="markdownInput" placeholder="Enter your markdown here...&#10;&#10;# Hello!&#10;Start typing to see live preview...&#10;&#10;Supports **bold**, *italic*, `code`, and more!"></textarea>
                </div>

                <!-- Preview Pane -->
                <div class="preview-pane">
                    <div class="pane-header">
                        <h2><i class="fas fa-eye"></i> Preview</h2>
                        <span class="preview-status" id="previewStatus">Ready</span>
                    </div>
                    <div id="preview" class="preview-content"></div>
                </div>
            </div>
        </div>

        <!-- Help Panel -->
        <div class="help-panel" id="helpPanel">
            <div class="help-header">
                <h2>Markdown Cheat Sheet</h2>
                <button class="btn btn-icon" id="closeHelp">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="help-content">
                <div class="help-grid">
                    <div class="help-item">
                        <h4>Headings</h4>
                        <pre># H1
## H2
### H3</pre>
                    </div>
                    <div class="help-item">
                        <h4>Text Formatting</h4>
                        <pre>**bold**
*italic*
~~strikethrough~~
`code`</pre>
                    </div>
                    <div class="help-item">
                        <h4>Lists</h4>
                        <pre>- Item 1
- Item 2

1. First
2. Second</pre>
                    </div>
                    <div class="help-item">
                        <h4>Links & Images</h4>
                        <pre>[Link](url)
![Image](url)</pre>
                    </div>
                    <div class="help-item">
                        <h4>Code Block</h4>
                        <pre>```javascript
code here
```</pre>
                    </div>
                    <div class="help-item">
                        <h4>Quotes & Tables</h4>
                        <pre>> Quote
| Col1 | Col2 |
|------|------|
| A    | B    |</pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- Overlay for Help Panel -->
        <div class="help-overlay" id="helpOverlay"></div>
    </div>

    <!-- Toast Notifications -->
    <div id="toastContainer" class="toast-container"></div>

    <!-- Footer -->
    <footer class="footer"></footer>

    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/9.0.0/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.6/purify.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

    <!-- Scripts -->
    <script src="../../js/include.js"></script>
    <script src="script.js"></script>
</body>
</html>
