<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSGModeler - Constructive Solid Geometry</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/toolbar.css">
    <link rel="stylesheet" href="css/panels.css">
</head>

<body>
    <div id="app">
        <!-- Left Toolbar: Tools & Creation -->
        <div id="toolbar">
            <div class="brand">CSG<span>Modeler</span></div>

            <div class="section-title">Primitives</div>
            <div class="grid-buttons">
                <button id="btn-cube" class="tool-btn" title="Cube">Cube</button>
                <button id="btn-sphere" class="tool-btn" title="Sphere">Sphere</button>
                <button id="btn-cylinder" class="tool-btn" title="Cylinder">Cyl</button>
                <button id="btn-cone" class="tool-btn" title="Cone">Cone</button>
                <button id="btn-torus" class="tool-btn" title="Torus">Torus</button>
            </div>

            <div class="separator"></div>

            <div class="section-title">Boolean Ops</div>
            <button id="btn-union" class="tool-btn op-btn" data-op="union">Union (+)</button>
            <button id="btn-subtract" class="tool-btn op-btn" data-op="subtract">Subtract (-)</button>
            <button id="btn-intersect" class="tool-btn op-btn" data-op="intersect">Intersect (Ã—)</button>

            <div class="separator"></div>

            <div class="section-title">Edit</div>
            <button id="btn-duplicate" class="tool-btn">Duplicate</button>
            <button id="btn-delete" class="tool-btn danger-btn">Delete</button>
            <button id="btn-clear" class="tool-btn danger-btn">Clear Scene</button>

            <div class="separator"></div>
            <div class="section-title">Project</div>
            <button id="btn-export-stl" class="tool-btn">Export STL</button>
            <button id="btn-save" class="tool-btn">Save Scene</button>
            <button id="btn-load" class="tool-btn">Load Scene</button>
            <input type="file" id="file-input" style="display:none" accept=".json">
        </div>

        <!-- Main Workspace -->
        <div id="canvas-container">
            <div id="viewport-header">
                <div class="vp-tools">
                    <button id="btn-wireframe" class="icon-btn" title="Toggle Wireframe">Wireframe</button>
                    <button id="btn-grid" class="icon-btn active" title="Toggle Grid">Grid</button>
                </div>
                <div id="stats">0 Polys</div>
            </div>
            <canvas id="render-canvas"></canvas>
            <div id="overlay-info">Ready</div>
        </div>

        <!-- Right Panel: Scene Graph & Properties -->
        <div id="properties-panel">
            <div class="panel-section">
                <div class="section-header">Scene Graph</div>
                <div id="scene-graph" class="scroll-list">
                    <!-- Items injected via JS -->
                    <div class="scene-item active">Cube_01</div>
                </div>
            </div>

            <div class="separator"></div>

            <div class="panel-section">
                <div class="section-header">Properties</div>
                <div id="properties-content">
                    <div class="prop-row">
                        <label>Pos</label>
                        <input type="number" id="prop-x" step="0.1">
                        <input type="number" id="prop-y" step="0.1">
                        <input type="number" id="prop-z" step="0.1">
                    </div>
                    <div class="prop-row">
                        <label>Rot</label>
                        <input type="number" id="prop-rx" step="15">
                        <input type="number" id="prop-ry" step="15">
                        <input type="number" id="prop-rz" step="15">
                    </div>
                    <div class="prop-row">
                        <label>Scl</label>
                        <input type="number" id="prop-sx" step="0.1" value="1">
                        <input type="number" id="prop-sy" step="0.1" value="1">
                        <input type="number" id="prop-sz" step="0.1" value="1">
                    </div>
                </div>
            </div>

            <div class="separator"></div>

            <div class="panel-section">
                <div class="section-header">Material</div>
                <div class="prop-row">
                    <label>Color</label>
                    <input type="color" id="prop-color" value="#cccccc">
                </div>
                <div class="prop-row">
                    <label>Shiny</label>
                    <input type="range" id="prop-shininess" min="1" max="100">
                </div>
            </div>

            <div class="bottom-help">
                <button id="btn-help">?</button>
            </div>
        </div>
    </div>

    <!-- Help Modal -->
    <div id="help-modal" class="modal hidden">
        <div class="modal-content">
            <h2>CSG Modeler Controls</h2>
            <ul>
                <li><strong>Rotate Camera:</strong> Left Click + Drag</li>
                <li><strong>Zoom:</strong> Mouse Wheel</li>
                <li><strong>Select:</strong> Click Object or List Item</li>
                <li><strong>Delete:</strong> Del key</li>
                <li><strong>Undo/Redo:</strong> Ctrl+Z / Ctrl+Y</li>
            </ul>
            <button id="close-help">Close</button>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/math/vector.js"></script>
    <script src="js/math/vertex.js"></script>
    <script src="js/math/plane.js"></script>
    <script src="js/math/ray.js"></script>
    <script src="js/math/matrix.js"></script>

    <script src="js/csg/polygon.js"></script>
    <script src="js/csg/node.js"></script>
    <script src="js/csg/csg.js"></script>

    <script src="js/geometry/mesh.js"></script>
    <script src="js/geometry/primitives.js"></script>

    <script src="js/render/camera.js"></script>
    <script src="js/render/light.js"></script>
    <script src="js/render/material.js"></script>
    <script src="js/render/renderer.js"></script>

    <script src="js/editor/history.js"></script>
    <script src="js/editor/selector.js"></script>
    <script src="js/editor/gizmo.js"></script>
    <script src="js/editor/exporter.js"></script>

    <script src="js/ui/interaction.js"></script>
    <script src="js/ui/main.js"></script>
</body>

</html>