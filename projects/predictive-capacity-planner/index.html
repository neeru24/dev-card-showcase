<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Predictive Capacity Allocation Planner</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-content">
                <h1>üìä Predictive Capacity Planner</h1>
                <p class="subtitle">AI-Driven Infrastructure Forecasting & Allocation</p>
            </div>
            <div class="header-controls">
                <button id="analyzeData" class="btn btn-primary">Analyze & Forecast</button>
                <button id="generateReport" class="btn btn-secondary">Generate Report</button>
                <button id="clearForecasts" class="btn btn-tertiary">Clear Data</button>
            </div>
        </header>

        <main class="main-content">
            <!-- Key Metrics Section -->
            <section class="metrics-section">
                <div class="metric-card highlight">
                    <div class="metric-icon">üìà</div>
                    <div class="metric-info">
                        <h3>Growth Trend</h3>
                        <p class="metric-value" id="growthRate">--</p>
                        <p class="metric-unit">% monthly increase</p>
                    </div>
                </div>
                <div class="metric-card highlight">
                    <div class="metric-icon">üéØ</div>
                    <div class="metric-info">
                        <h3>Forecast Accuracy</h3>
                        <p class="metric-value" id="accuracy">--</p>
                        <p class="metric-unit">confidence level</p>
                    </div>
                </div>
                <div class="metric-card highlight">
                    <div class="metric-icon">‚è∞</div>
                    <div class="metric-info">
                        <h3>Capacity Headroom</h3>
                        <p class="metric-value" id="headroom">--</p>
                        <p class="metric-unit">months remaining</p>
                    </div>
                </div>
                <div class="metric-card highlight">
                    <div class="metric-icon">üí∞</div>
                    <div class="metric-info">
                        <h3>Estimated Cost</h3>
                        <p class="metric-value" id="costForecast">--</p>
                        <p class="metric-unit">annual projection</p>
                    </div>
                </div>
            </section>

            <!-- Tabs Navigation -->
            <section class="tabs-section">
                <button class="tab-button active" data-tab="forecast">Forecast</button>
                <button class="tab-button" data-tab="resources">Resources</button>
                <button class="tab-button" data-tab="models">Growth Models</button>
                <button class="tab-button" data-tab="strategies">Strategies</button>
                <button class="tab-button" data-tab="analysis">Analysis</button>
            </section>

            <!-- Forecast Tab -->
            <section id="forecast" class="tab-content active">
                <div class="section-title">Capacity Forecast Timeline</div>
                <div class="forecast-controls">
                    <label for="forecastDays">Forecast Period:</label>
                    <select id="forecastDays">
                        <option value="90">3 Months</option>
                        <option value="180">6 Months</option>
                        <option value="365" selected>1 Year</option>
                        <option value="730">2 Years</option>
                        <option value="1095">3 Years</option>
                    </select>
                    <label for="modelType">Model:</label>
                    <select id="modelType">
                        <option value="linear">Linear Growth</option>
                        <option value="exponential" selected>Exponential Growth</option>
                        <option value="polynomial">Polynomial Trend</option>
                        <option value="seasonal">Seasonal Pattern</option>
                    </select>
                    <button class="btn btn-small" onclick="window.planner.updateForecast()">Update</button>
                </div>

                <div class="chart-container">
                    <canvas id="forecastChart" class="main-chart"></canvas>
                </div>

                <div class="forecast-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Period</th>
                                <th>CPU Required</th>
                                <th>Memory Required</th>
                                <th>Storage Required</th>
                                <th>Network BW</th>
                                <th>Confidence</th>
                            </tr>
                        </thead>
                        <tbody id="forecastTableBody">
                            <tr><td colspan="6" class="placeholder">Run analysis to generate forecast</td></tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Resources Tab -->
            <section id="resources" class="tab-content">
                <div class="section-title">Resource Allocation</div>
                <div class="resources-grid">
                    <div class="resource-card">
                        <h4>CPU Cores</h4>
                        <div class="resource-chart">
                            <canvas id="cpuChart" class="resource-mini-chart"></canvas>
                        </div>
                        <div class="resource-details">
                            <p><strong>Current:</strong> <span id="cpuCurrent">--</span> cores</p>
                            <p><strong>Peak (12mo):</strong> <span id="cpuPeak">--</span> cores</p>
                            <p><strong>Recommended:</strong> <span id="cpuRecommended">--</span> cores</p>
                            <p><strong>Buffer:</strong> <span id="cpuBuffer">--</span>%</p>
                        </div>
                    </div>

                    <div class="resource-card">
                        <h4>Memory (GB)</h4>
                        <div class="resource-chart">
                            <canvas id="memoryChart" class="resource-mini-chart"></canvas>
                        </div>
                        <div class="resource-details">
                            <p><strong>Current:</strong> <span id="memCurrent">--</span> GB</p>
                            <p><strong>Peak (12mo):</strong> <span id="memPeak">--</span> GB</p>
                            <p><strong>Recommended:</strong> <span id="memRecommended">--</span> GB</p>
                            <p><strong>Buffer:</strong> <span id="memBuffer">--</span>%</p>
                        </div>
                    </div>

                    <div class="resource-card">
                        <h4>Storage (TB)</h4>
                        <div class="resource-chart">
                            <canvas id="storageChart" class="resource-mini-chart"></canvas>
                        </div>
                        <div class="resource-details">
                            <p><strong>Current:</strong> <span id="storageCurrent">--</span> TB</p>
                            <p><strong>Peak (12mo):</strong> <span id="storagePeak">--</span> TB</p>
                            <p><strong>Recommended:</strong> <span id="storageRecommended">--</span> TB</p>
                            <p><strong>Buffer:</strong> <span id="storageBuffer">--</span>%</p>
                        </div>
                    </div>

                    <div class="resource-card">
                        <h4>Network (Gbps)</h4>
                        <div class="resource-chart">
                            <canvas id="networkChart" class="resource-mini-chart"></canvas>
                        </div>
                        <div class="resource-details">
                            <p><strong>Current:</strong> <span id="networkCurrent">--</span> Gbps</p>
                            <p><strong>Peak (12mo):</strong> <span id="networkPeak">--</span> Gbps</p>
                            <p><strong>Recommended:</strong> <span id="networkRecommended">--</span> Gbps</p>
                            <p><strong>Buffer:</strong> <span id="networkBuffer">--</span>%</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Models Tab -->
            <section id="models" class="tab-content">
                <div class="section-title">Growth Models Comparison</div>
                <div class="models-comparison">
                    <div class="model-card">
                        <h4>üìê Linear Growth</h4>
                        <p class="model-equation">y = mx + b</p>
                        <p class="model-desc">Constant rate of increase</p>
                        <div class="model-stats">
                            <p><strong>Accuracy:</strong> <span id="linearAccuracy">--</span>%</p>
                            <p><strong>R¬≤ Score:</strong> <span id="linearR2">--</span></p>
                            <p><strong>Best For:</strong> Stable growth</p>
                        </div>
                    </div>

                    <div class="model-card">
                        <h4>üìà Exponential Growth</h4>
                        <p class="model-equation">y = a¬∑e^(bx)</p>
                        <p class="model-desc">Accelerating growth rate</p>
                        <div class="model-stats">
                            <p><strong>Accuracy:</strong> <span id="exponentialAccuracy">--</span>%</p>
                            <p><strong>R¬≤ Score:</strong> <span id="exponentialR2">--</span></p>
                            <p><strong>Best For:</strong> Rapid scaling</p>
                        </div>
                    </div>

                    <div class="model-card">
                        <h4>üîÑ Polynomial Growth</h4>
                        <p class="model-equation">y = ax¬≤ + bx + c</p>
                        <p class="model-desc">Variable acceleration</p>
                        <div class="model-stats">
                            <p><strong>Accuracy:</strong> <span id="polynomialAccuracy">--</span>%</p>
                            <p><strong>R¬≤ Score:</strong> <span id="polynomialR2">--</span></p>
                            <p><strong>Best For:</strong> Complex patterns</p>
                        </div>
                    </div>

                    <div class="model-card">
                        <h4>üåä Seasonal Pattern</h4>
                        <p class="model-equation">y = T(t) + S(t)</p>
                        <p class="model-desc">Trend + seasonal variation</p>
                        <div class="model-stats">
                            <p><strong>Accuracy:</strong> <span id="seasonalAccuracy">--</span>%</p>
                            <p><strong>R¬≤ Score:</strong> <span id="seasonalR2">--</span></p>
                            <p><strong>Best For:</strong> Cyclical patterns</p>
                        </div>
                    </div>
                </div>

                <div class="models-chart-container">
                    <canvas id="modelsComparisonChart" class="models-chart"></canvas>
                </div>
            </section>

            <!-- Strategies Tab -->
            <section id="strategies" class="tab-content">
                <div class="section-title">Recommended Allocation Strategies</div>
                <div class="strategies-container" id="strategiesContainer">
                    <div class="placeholder">Run analysis to generate strategies</div>
                </div>
            </section>

            <!-- Analysis Tab -->
            <section id="analysis" class="tab-content">
                <div class="section-title">Historical Analysis & Insights</div>
                
                <div class="analysis-grid">
                    <div class="analysis-panel">
                        <h4>Usage Patterns</h4>
                        <div id="patternsAnalysis" class="analysis-content">
                            <p class="placeholder">No data available</p>
                        </div>
                    </div>

                    <div class="analysis-panel">
                        <h4>Peak Hours</h4>
                        <div id="peakAnalysis" class="analysis-content">
                            <p class="placeholder">No data available</p>
                        </div>
                    </div>

                    <div class="analysis-panel">
                        <h4>Utilization Trends</h4>
                        <div id="utilizationAnalysis" class="analysis-content">
                            <p class="placeholder">No data available</p>
                        </div>
                    </div>

                    <div class="analysis-panel">
                        <h4>Risk Assessment</h4>
                        <div id="riskAnalysis" class="analysis-content">
                            <p class="placeholder">No data available</p>
                        </div>
                    </div>
                </div>

                <div class="section-title" style="margin-top: 40px;">Historical Data Samples</div>
                <div class="data-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>CPU Usage</th>
                                <th>Memory Usage</th>
                                <th>Storage Usage</th>
                                <th>Network Traffic</th>
                                <th>Peak Load</th>
                            </tr>
                        </thead>
                        <tbody id="dataTableBody">
                            <tr><td colspan="6" class="placeholder">No historical data</td></tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </main>

        <footer class="footer">
            <p>Analysis completed: <span id="analysisTime">--</span></p>
            <p>Confidence: <span id="overallConfidence">--</span>% | Data points: <span id="dataPoints">0</span></p>
        </footer>
    </div>

    <script src="planner.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            window.planner = new PredictiveCapacityPlanner();
            
            document.getElementById('analyzeData').addEventListener('click', () => window.planner.analyze());
            document.getElementById('generateReport').addEventListener('click', () => window.planner.generateReport());
            document.getElementById('clearForecasts').addEventListener('click', () => window.planner.clearData());
            
            document.querySelectorAll('.tab-button').forEach(button => {
                button.addEventListener('click', (e) => {
                    const tabName = e.target.dataset.tab;
                    
                    document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
                    e.target.classList.add('active');
                    
                    document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
                    document.getElementById(tabName).classList.add('active');
                });
            });

            document.getElementById('forecastDays').addEventListener('change', () => window.planner.updateForecast());
            document.getElementById('modelType').addEventListener('change', () => window.planner.updateForecast());
        });
    </script>
</body>
</html>
