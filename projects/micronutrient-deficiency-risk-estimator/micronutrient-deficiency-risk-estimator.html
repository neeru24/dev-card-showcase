<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Micronutrient Deficiency Risk Estimator</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="./micronutrient-deficiency-risk-estimator.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="../include.js"></script>
</head>
<body>
    <div id="navbar-container"></div>

    <div class="container">
        <header class="tracker-header">
            <h1>ðŸ§¬ Micronutrient Deficiency Risk Estimator</h1>
            <p>Track your dietary patterns to identify potential nutrient gaps and optimize your nutrition for better health.</p>
        </header>

        <div class="tracker-content">
            <!-- Food Logging Section -->
            <section class="logging-section">
                <h2>Log Food Intake</h2>
                <form id="food-form" class="food-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="food-name">Food Item</label>
                            <input type="text" id="food-name" placeholder="e.g., spinach, salmon, almonds" required>
                        </div>
                        <div class="form-group">
                            <label for="food-category">Category</label>
                            <select id="food-category" required>
                                <option value="">Select category</option>
                                <option value="vegetables">Vegetables</option>
                                <option value="fruits">Fruits</option>
                                <option value="proteins">Proteins</option>
                                <option value="dairy">Dairy</option>
                                <option value="grains">Grains</option>
                                <option value="nuts-seeds">Nuts & Seeds</option>
                                <option value="oils">Oils & Fats</option>
                                <option value="beverages">Beverages</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="serving-size">Serving Size</label>
                            <input type="number" id="serving-size" min="0.1" step="0.1" placeholder="1.0" required>
                            <select id="serving-unit">
                                <option value="cup">cup</option>
                                <option value="oz">oz</option>
                                <option value="g">g</option>
                                <option value="tbsp">tbsp</option>
                                <option value="tsp">tsp</option>
                                <option value="piece">piece</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="meal-type">Meal</label>
                            <select id="meal-type" required>
                                <option value="">Select meal</option>
                                <option value="breakfast">Breakfast</option>
                                <option value="lunch">Lunch</option>
                                <option value="dinner">Dinner</option>
                                <option value="snack">Snack</option>
                            </select>
                        </div>
                    </div>
                    <button type="submit" class="log-btn">Log Food</button>
                </form>
            </section>

            <!-- Today's Intake -->
            <section class="intake-section">
                <h2>Today's Food Intake</h2>
                <div id="today-intake" class="food-list">
                    <!-- Food items will be displayed here -->
                </div>
            </section>

            <!-- Deficiency Risk Analysis -->
            <section class="analysis-section">
                <h2>Deficiency Risk Analysis</h2>
                <div class="metrics-grid">
                    <div class="metric-card">
                        <h3>Overall Risk Score</h3>
                        <div class="risk-score" id="overall-risk">0%</div>
                        <div class="risk-indicator" id="risk-indicator"></div>
                    </div>
                    <div class="metric-card">
                        <h3>Nutrient Diversity</h3>
                        <div class="diversity-score" id="diversity-score">0/15</div>
                        <div class="diversity-bar">
                            <div class="diversity-fill" id="diversity-fill"></div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <h3>Days Tracked</h3>
                        <div class="tracking-days" id="tracking-days">0</div>
                    </div>
                </div>

                <!-- Nutrient Status Chart -->
                <div class="chart-container">
                    <canvas id="nutrient-chart"></canvas>
                </div>
            </section>

            <!-- Critical Nutrients -->
            <section class="critical-section">
                <h2>Critical Nutrient Status</h2>
                <div id="critical-nutrients" class="nutrient-grid">
                    <!-- Critical nutrients will be displayed here -->
                </div>
            </section>

            <!-- Insights & Recommendations -->
            <section class="insights-section">
                <h2>Insights & Recommendations</h2>
                <div id="insights-content" class="insights-content">
                    <div class="insight-card">
                        <h3>ðŸŽ¯ Getting Started</h3>
                        <p>Log your meals throughout the day to get personalized deficiency risk estimates. Focus on nutrient-dense foods from different food groups for optimal health.</p>
                    </div>
                    <div class="insight-card">
                        <h3>ðŸ¥— Nutrient Diversity Matters</h3>
                        <p>Eating a variety of colorful vegetables, fruits, proteins, and whole grains helps ensure you're getting all essential micronutrients.</p>
                    </div>
                    <div class="insight-card">
                        <h3>ðŸ“Š Track Your Patterns</h3>
                        <p>Consistent tracking over several days provides the most accurate deficiency risk assessment and dietary insights.</p>
                    </div>
                </div>
            </section>

            <!-- History -->
            <section class="history-section">
                <h2>Recent History</h2>
                <div id="history-list" class="history-list">
                    <!-- History items will be displayed here -->
                </div>
            </section>
        </div>
    </div>

    <script src="./js/micronutrient-deficiency-risk-estimator.js"></script>
</body>
</html>