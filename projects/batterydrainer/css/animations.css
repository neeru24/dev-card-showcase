/* ===================================
   BATTERY DRAINER - ANIMATIONS
   All keyframe animations and transitions
   =================================== */

/* ===================================
   KEYFRAME ANIMATIONS
   =================================== */

/* Spin Animation (Loading) */
@keyframes spin {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}

/* Walking Animation - Left Leg */
@keyframes walk-left-leg {
    0% {
        transform: translateY(0) rotate(0deg);
    }
    25% {
        transform: translateY(-8px) rotate(-15deg);
    }
    50% {
        transform: translateY(-12px) rotate(-20deg);
    }
    75% {
        transform: translateY(-8px) rotate(-10deg);
    }
    100% {
        transform: translateY(0) rotate(0deg);
    }
}

/* Walking Animation - Right Leg */
@keyframes walk-right-leg {
    0% {
        transform: translateY(-12px) rotate(-20deg);
    }
    25% {
        transform: translateY(-8px) rotate(-10deg);
    }
    50% {
        transform: translateY(0) rotate(0deg);
    }
    75% {
        transform: translateY(-8px) rotate(-15deg);
    }
    100% {
        transform: translateY(-12px) rotate(-20deg);
    }
}

/* Body Bob While Walking */
@keyframes walk-body-bob {
    0%, 100% {
        transform: translateY(0);
    }
    25%, 75% {
        transform: translateY(-3px);
    }
    50% {
        transform: translateY(-5px);
    }
}

/* Fade In */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Fade Out */
@keyframes fadeOut {
    from {
        opacity: 1;
        transform: translateY(0);
    }
    to {
        opacity: 0;
        transform: translateY(-20px);
    }
}

/* Pulse Glow (Title Icons) */
@keyframes pulse-glow {
    0%, 100% {
        opacity: 1;
        filter: brightness(1);
    }
    50% {
        opacity: 0.7;
        filter: brightness(1.5);
    }
}

/* Bounce Subtle (Emoji) */
@keyframes bounce-subtle {
    0%, 100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-10px);
    }
}

/* Pulse Text (Charging State) */
@keyframes pulse-text {
    0%, 100% {
        opacity: 1;
        transform: scale(1);
    }
    50% {
        opacity: 0.8;
        transform: scale(1.05);
    }
}

/* Pulse Critical (Critical Battery) */
@keyframes pulse-critical {
    0%, 100% {
        opacity: 1;
        color: #991b1b;
    }
    50% {
        opacity: 0.6;
        color: #dc2626;
    }
}

/* Shake (Warning Icon) */
@keyframes shake {
    0%, 100% {
        transform: translateX(0) rotate(0deg);
    }
    25% {
        transform: translateX(-5px) rotate(-5deg);
    }
    75% {
        transform: translateX(5px) rotate(5deg);
    }
}

/* Rotate Glow (Background Effect) */
@keyframes rotate-glow {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}

/* ===================================
   BATTERY FILL ANIMATIONS
   =================================== */

/* Battery Drain (Discharge) */
@keyframes battery-drain {
    0% {
        height: 400px;
        y: 60;
    }
    100% {
        height: 0px;
        y: 460;
    }
}

/* Battery Charge (Charging) */
@keyframes battery-charge {
    0% {
        height: 0px;
        y: 460;
    }
    100% {
        height: 400px;
        y: 60;
    }
}

/* Charging Pulse */
@keyframes charging-pulse {
    0%, 100% {
        opacity: 1;
        filter: brightness(1);
    }
    50% {
        opacity: 0.8;
        filter: brightness(1.3);
    }
}

/* ===================================
   FACE EXPRESSION ANIMATIONS
   =================================== */

/* Happy Face */
@keyframes happy-bounce {
    0%, 100% {
        transform: translateY(0) scale(1);
    }
    50% {
        transform: translateY(-5px) scale(1.05);
    }
}

/* Sad Face */
@keyframes sad-droop {
    0%, 100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(3px);
    }
}

/* Worried Face */
@keyframes worried-shake {
    0%, 100% {
        transform: translateX(0);
    }
    25% {
        transform: translateX(-2px);
    }
    75% {
        transform: translateX(2px);
    }
}

/* Critical Face */
@keyframes critical-tremble {
    0%, 100% {
        transform: translate(0, 0) rotate(0deg);
    }
    10% {
        transform: translate(-2px, -1px) rotate(-1deg);
    }
    20% {
        transform: translate(2px, 1px) rotate(1deg);
    }
    30% {
        transform: translate(-1px, 2px) rotate(-0.5deg);
    }
    40% {
        transform: translate(1px, -2px) rotate(0.5deg);
    }
    50% {
        transform: translate(-2px, 1px) rotate(-1deg);
    }
    60% {
        transform: translate(2px, -1px) rotate(1deg);
    }
    70% {
        transform: translate(-1px, -2px) rotate(-0.5deg);
    }
    80% {
        transform: translate(1px, 2px) rotate(0.5deg);
    }
    90% {
        transform: translate(-2px, -1px) rotate(-1deg);
    }
}

/* Eye Blink */
@keyframes blink {
    0%, 90%, 100% {
        r: 15;
    }
    95% {
        r: 2;
    }
}

/* Pupil Look Around */
@keyframes look-around {
    0%, 100% {
        cx: 110;
    }
    25% {
        cx: 105;
    }
    75% {
        cx: 115;
    }
}

@keyframes look-around-right {
    0%, 100% {
        cx: 190;
    }
    25% {
        cx: 185;
    }
    75% {
        cx: 195;
    }
}

/* ===================================
   CHARGING BOLT ANIMATIONS
   =================================== */

/* Bolt Flash */
@keyframes bolt-flash {
    0%, 100% {
        opacity: 0;
        transform: scale(0.8);
    }
    50% {
        opacity: 1;
        transform: scale(1.2);
    }
}

/* Bolt Pulse */
@keyframes bolt-pulse {
    0%, 100% {
        opacity: 1;
        filter: brightness(1) drop-shadow(0 0 5px #fbbf24);
    }
    50% {
        opacity: 0.7;
        filter: brightness(1.5) drop-shadow(0 0 15px #fbbf24);
    }
}

/* ===================================
   PARTICLE ANIMATIONS
   =================================== */

/* Particle Float Up */
@keyframes float-up {
    0% {
        transform: translateY(0) translateX(0);
        opacity: 1;
    }
    100% {
        transform: translateY(-100vh) translateX(var(--drift-x, 0));
        opacity: 0;
    }
}

/* Particle Drift Left */
@keyframes drift-left {
    0% {
        transform: translateX(0);
    }
    100% {
        transform: translateX(-50px);
    }
}

/* Particle Drift Right */
@keyframes drift-right {
    0% {
        transform: translateX(0);
    }
    100% {
        transform: translateX(50px);
    }
}

/* Particle Pulse */
@keyframes particle-pulse {
    0%, 100% {
        transform: scale(1);
        opacity: 0.8;
    }
    50% {
        transform: scale(1.5);
        opacity: 0.4;
    }
}

/* ===================================
   WARNING ANIMATIONS
   =================================== */

/* Warning Flash */
@keyframes warning-flash {
    0%, 100% {
        background: linear-gradient(135deg, 
            rgba(239, 68, 68, 0.2), 
            rgba(220, 38, 38, 0.3));
        border-color: #ef4444;
    }
    50% {
        background: linear-gradient(135deg, 
            rgba(220, 38, 38, 0.4), 
            rgba(239, 68, 68, 0.5));
        border-color: #dc2626;
    }
}

/* Warning Slide In */
@keyframes slide-in-bottom {
    from {
        transform: translateY(100%);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

/* Warning Slide Out */
@keyframes slide-out-bottom {
    from {
        transform: translateY(0);
        opacity: 1;
    }
    to {
        transform: translateY(100%);
        opacity: 0;
    }
}

/* ===================================
   BACKGROUND ANIMATIONS
   =================================== */

/* Background Color Shift (Low Battery) */
@keyframes bg-shift-red {
    0%, 100% {
        filter: hue-rotate(0deg) brightness(1);
    }
    50% {
        filter: hue-rotate(-10deg) brightness(0.9);
    }
}

/* Background Color Shift (Charging) */
@keyframes bg-shift-green {
    0%, 100% {
        filter: hue-rotate(0deg) brightness(1);
    }
    50% {
        filter: hue-rotate(10deg) brightness(1.1);
    }
}

/* ===================================
   STAT PANEL ANIMATIONS
   =================================== */

/* Counter Up Animation */
@keyframes counter-up {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Stat Highlight */
@keyframes stat-highlight {
    0%, 100% {
        box-shadow: 0 0 0 rgba(59, 130, 246, 0);
    }
    50% {
        box-shadow: 0 0 20px rgba(59, 130, 246, 0.6);
    }
}

/* ===================================
   BATTERY OUTLINE ANIMATIONS
   =================================== */

/* Outline Pulse (Low Battery) */
@keyframes outline-pulse-red {
    0%, 100% {
        stroke: #ef4444;
        stroke-width: 4;
    }
    50% {
        stroke: #dc2626;
        stroke-width: 6;
    }
}

/* Outline Pulse (Charging) */
@keyframes outline-pulse-green {
    0%, 100% {
        stroke: #4ade80;
        stroke-width: 4;
    }
    50% {
        stroke: #22c55e;
        stroke-width: 6;
    }
}

/* ===================================
   TERMINAL ANIMATIONS
   =================================== */

/* Terminal Glow (Charging) */
@keyframes terminal-glow {
    0%, 100% {
        fill: #6b7280;
        filter: drop-shadow(0 0 0 rgba(74, 222, 128, 0));
    }
    50% {
        fill: #4ade80;
        filter: drop-shadow(0 0 10px rgba(74, 222, 128, 0.8));
    }
}

/* Terminal Dim (Critical) */
@keyframes terminal-dim {
    0%, 100% {
        fill: #6b7280;
    }
    50% {
        fill: #374151;
    }
}

/* ===================================
   EMOTIONAL STATE ANIMATIONS
   =================================== */

/* Joyful Jump */
@keyframes joyful-jump {
    0%, 100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-15px);
    }
}

/* Anxious Wiggle */
@keyframes anxious-wiggle {
    0%, 100% {
        transform: rotate(0deg);
    }
    25% {
        transform: rotate(-3deg);
    }
    75% {
        transform: rotate(3deg);
    }
}

/* Exhausted Sag */
@keyframes exhausted-sag {
    0%, 100% {
        transform: translateY(0) scaleY(1);
    }
    50% {
        transform: translateY(5px) scaleY(0.98);
    }
}

/* Desperate Shake */
@keyframes desperate-shake {
    0%, 100% {
        transform: translate(0, 0);
    }
    10% {
        transform: translate(-3px, -2px);
    }
    20% {
        transform: translate(3px, 2px);
    }
    30% {
        transform: translate(-3px, 1px);
    }
    40% {
        transform: translate(3px, -1px);
    }
    50% {
        transform: translate(-2px, 2px);
    }
    60% {
        transform: translate(2px, -2px);
    }
    70% {
        transform: translate(-3px, -1px);
    }
    80% {
        transform: translate(3px, 1px);
    }
    90% {
        transform: translate(-2px, -2px);
    }
}

/* ===================================
   SHINE EFFECT ANIMATIONS
   =================================== */

/* Shine Sweep */
@keyframes shine-sweep {
    0% {
        transform: translateX(-100%);
        opacity: 0;
    }
    50% {
        opacity: 0.3;
    }
    100% {
        transform: translateX(100%);
        opacity: 0;
    }
}

/* Shine Pulse */
@keyframes shine-pulse {
    0%, 100% {
        opacity: 0.15;
    }
    50% {
        opacity: 0.3;
    }
}

/* ===================================
   LEG STYLING
   =================================== */

.battery-legs {
    transform-origin: center bottom;
}

.leg {
    transform-origin: center top;
    transition: transform 0.3s ease;
}

/* Default - Legs Walking */
.battery-legs .left-leg {
    animation: walk-left-leg 1s ease-in-out infinite;
}

.battery-legs .right-leg {
    animation: walk-right-leg 1s ease-in-out infinite;
}

/* ===================================
   COMPOSITE ANIMATIONS
   =================================== */

/* Battery Happy State */
.battery-state-happy .battery-face {
    animation: walk-body-bob 1s ease-in-out infinite;
}

.battery-state-happy .battery-outline {
    animation: walk-body-bob 1s ease-in-out infinite;
}

.battery-state-happy .battery-fill {
    animation: walk-body-bob 1s ease-in-out infinite;
}

.battery-state-happy .battery-terminal {
    animation: walk-body-bob 1s ease-in-out infinite;
}

.battery-state-happy .battery-shine {
    animation: walk-body-bob 1s ease-in-out infinite;
}

.battery-state-happy .left-eye,
.battery-state-happy .right-eye {
    animation: blink 5s ease-in-out infinite;
}

.battery-state-happy .left-pupil {
    animation: look-around 4s ease-in-out infinite;
}

.battery-state-happy .right-pupil {
    animation: look-around-right 4s ease-in-out infinite;
}

/* Battery Content State - Walking */
.battery-state-content .battery-face,
.battery-state-content .battery-outline,
.battery-state-content .battery-fill,
.battery-state-content .battery-terminal,
.battery-state-content .battery-shine {
    animation: walk-body-bob 1s ease-in-out infinite;
}

/* Battery Worried State */
.battery-state-worried .battery-face {
    animation: worried-shake 1s ease-in-out infinite;
}

.battery-state-worried .battery-outline,
.battery-state-worried .battery-fill,
.battery-state-worried .battery-terminal {
    animation: walk-body-bob 1.2s ease-in-out infinite;
}

.battery-state-worried .left-leg {
    animation: walk-left-leg 1.2s ease-in-out infinite !important;
}

.battery-state-worried .right-leg {
    animation: walk-right-leg 1.2s ease-in-out infinite !important;
}

/* Battery Sad State */
.battery-state-sad .battery-face {
    animation: sad-droop 2s ease-in-out infinite;
}

.battery-state-sad .battery-outline,
.battery-state-sad .battery-fill,
.battery-state-sad .battery-terminal {
    animation: walk-body-bob 1.8s ease-in-out infinite;
}

.battery-state-sad .left-leg {
    animation: walk-left-leg 1.8s ease-in-out infinite !important;
}

.battery-state-sad .right-leg {
    animation: walk-right-leg 1.8s ease-in-out infinite !important;
}

/* Battery Critical State */
.battery-state-critical .battery-face {
    animation: critical-tremble 0.3s ease-in-out infinite;
}

.battery-state-critical .left-leg {
    animation: walk-left-leg 0.6s ease-in-out infinite, critical-tremble 0.3s ease-in-out infinite !important;
}

.battery-state-critical .right-leg {
    animation: walk-right-leg 0.6s ease-in-out infinite, critical-tremble 0.3s ease-in-out infinite !important;
}

.battery-state-critical .battery-outline {
    animation: outline-pulse-red 1s ease-in-out infinite;
}

.battery-state-critical .battery-terminal {
    animation: terminal-dim 1.5s ease-in-out infinite;
}

/* Battery Charging State */
.battery-state-charging .charging-bolt {
    opacity: 1 !important;
    animation: bolt-pulse 1.5s ease-in-out infinite;
}

.battery-state-charging .battery-fill {
    animation: charging-pulse 2s ease-in-out infinite, walk-body-bob 0.8s ease-in-out infinite;
}

.battery-state-charging .battery-outline {
    animation: outline-pulse-green 1.5s ease-in-out infinite, walk-body-bob 0.8s ease-in-out infinite;
}

.battery-state-charging .battery-terminal {
    animation: terminal-glow 1.5s ease-in-out infinite, walk-body-bob 0.8s ease-in-out infinite;
}

.battery-state-charging .battery-shine {
    animation: shine-pulse 2s ease-in-out infinite;
}

.battery-state-charging .battery-face {
    animation: walk-body-bob 0.8s ease-in-out infinite;
}

.battery-state-charging .left-leg {
    animation: walk-left-leg 0.8s ease-in-out infinite !important;
}

.battery-state-charging .right-leg {
    animation: walk-right-leg 0.8s ease-in-out infinite !important;
}

/* ===================================
   ACTIVE WARNING ANIMATIONS
   =================================== */
.warning-message.active {
    animation: warning-flash 1s ease-in-out infinite,
               slide-in-bottom 0.5s ease-out;
}

/* ===================================
   TRANSITION CLASSES
   =================================== */
.smooth-transition {
    transition: all 0.4s ease;
}

.slow-transition {
    transition: all 0.8s ease;
}

.fast-transition {
    transition: all 0.2s ease;
}

/* ===================================
   PERFORMANCE OPTIMIZATIONS
   =================================== */
.battery-svg,
.battery-fill,
.battery-face,
.charging-bolt,
.particle {
    will-change: transform, opacity;
}

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}
