#viewport-container {
    flex: 1;
    position: relative;
    overflow: hidden;
    background-color: var(--bg-dark);
    background-image:
        linear-gradient(var(--grid-line) 1px, transparent 1px),
        linear-gradient(90deg, var(--grid-line) 1px, transparent 1px),
        linear-gradient(var(--grid-line-thick) 1px, transparent 1px),
        linear-gradient(90deg, var(--grid-line-thick) 1px, transparent 1px);
    background-size: 20px 20px, 20px 20px, 100px 100px, 100px 100px;
    background-position: -1px -1px, -1px -1px, -1px -1px, -1px -1px;
    cursor: grab;
}

#viewport-container.panning {
    cursor: grabbing;
}

#canvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    transform-origin: 0 0;
    pointer-events: none;
    /* Let background handle pan events */
}

/* Layer for SVG cables */
#cables-layer {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: visible;
    pointer-events: none;
}

/* Cables */
.cable {
    fill: none;
    stroke: var(--cable-default);
    stroke-width: var(--cable-width);
    stroke-dasharray: 6 4;
    animation: flow 1s linear infinite;
    pointer-events: stroke;
    cursor: pointer;
    transition: stroke 0.2s, stroke-width 0.2s;
}

.cable:hover {
    stroke: var(--cable-active);
    stroke-width: calc(var(--cable-width) + 2px);
}

.cable.exec {
    stroke-dasharray: none;
    stroke-width: calc(var(--cable-width) + 1px);
}

@keyframes flow {
    to {
        stroke-dashoffset: -10;
    }
}

/* Layer for DOM Nodes */
#nodes-layer {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
}