<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Retention Analyzer</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1><i class="fas fa-users-cog"></i> User Retention Analyzer</h1>
            <p>Advanced user behavior analysis and retention prediction system</p>
        </header>

        <div class="dashboard-grid">
            <!-- Retention Overview -->
            <div class="card retention-overview">
                <div class="card-header">
                    <h3><i class="fas fa-chart-line"></i> Retention Overview</h3>
                    <div class="time-selector">
                        <button class="time-btn active" data-period="7d">7D</button>
                        <button class="time-btn" data-period="30d">30D</button>
                        <button class="time-btn" data-period="90d">90D</button>
                    </div>
                </div>
                <div class="retention-metrics">
                    <div class="metric">
                        <span class="metric-value" id="retention-rate">87.3%</span>
                        <span class="metric-label">Retention Rate</span>
                        <span class="metric-change positive">+2.1%</span>
                    </div>
                    <div class="metric">
                        <span class="metric-value" id="churn-rate">12.7%</span>
                        <span class="metric-label">Churn Rate</span>
                        <span class="metric-change negative">-1.8%</span>
                    </div>
                    <div class="metric">
                        <span class="metric-value" id="avg-session">24.5m</span>
                        <span class="metric-label">Avg Session</span>
                        <span class="metric-change positive">+3.2%</span>
                    </div>
                </div>
                <canvas id="retention-chart" width="400" height="200"></canvas>
            </div>

            <!-- User Cohorts -->
            <div class="card user-cohorts">
                <div class="card-header">
                    <h3><i class="fas fa-layer-group"></i> User Cohorts</h3>
                    <button class="refresh-btn" id="refresh-cohorts">
                        <i class="fas fa-sync-alt"></i> Refresh
                    </button>
                </div>
                <div class="cohorts-container">
                    <div class="cohort" data-cohort="new-users">
                        <div class="cohort-header">
                            <span class="cohort-name">New Users</span>
                            <span class="cohort-size">2,847</span>
                        </div>
                        <div class="cohort-retention">
                            <div class="retention-bar">
                                <div class="retention-fill" style="width: 85%"></div>
                            </div>
                            <span class="retention-percentage">85%</span>
                        </div>
                    </div>
                    <div class="cohort" data-cohort="power-users">
                        <div class="cohort-header">
                            <span class="cohort-name">Power Users</span>
                            <span class="cohort-size">1,234</span>
                        </div>
                        <div class="cohort-retention">
                            <div class="retention-bar">
                                <div class="retention-fill" style="width: 92%"></div>
                            </div>
                            <span class="retention-percentage">92%</span>
                        </div>
                    </div>
                    <div class="cohort" data-cohort="casual-users">
                        <div class="cohort-header">
                            <span class="cohort-name">Casual Users</span>
                            <span class="cohort-size">5,621</span>
                        </div>
                        <div class="cohort-retention">
                            <div class="retention-bar">
                                <div class="retention-fill" style="width: 67%"></div>
                            </div>
                            <span class="retention-percentage">67%</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Churn Risk Assessment -->
            <div class="card churn-risk">
                <div class="card-header">
                    <h3><i class="fas fa-exclamation-triangle"></i> Churn Risk Assessment</h3>
                    <div class="risk-filters">
                        <select id="risk-filter">
                            <option value="all">All Users</option>
                            <option value="high">High Risk</option>
                            <option value="medium">Medium Risk</option>
                            <option value="low">Low Risk</option>
                        </select>
                    </div>
                </div>
                <div class="risk-distribution">
                    <div class="risk-segment high-risk">
                        <div class="risk-info">
                            <span class="risk-label">High Risk</span>
                            <span class="risk-count">342</span>
                        </div>
                        <div class="risk-bar">
                            <div class="risk-fill high" style="width: 15%"></div>
                        </div>
                    </div>
                    <div class="risk-segment medium-risk">
                        <div class="risk-info">
                            <span class="risk-label">Medium Risk</span>
                            <span class="risk-count">1,247</span>
                        </div>
                        <div class="risk-bar">
                            <div class="risk-fill medium" style="width: 55%"></div>
                        </div>
                    </div>
                    <div class="risk-segment low-risk">
                        <div class="risk-info">
                            <span class="risk-label">Low Risk</span>
                            <span class="risk-count">7,113</span>
                        </div>
                        <div class="risk-bar">
                            <div class="risk-fill low" style="width: 30%"></div>
                        </div>
                    </div>
                </div>
                <div class="churn-predictions">
                    <div class="prediction-item">
                        <div class="prediction-user">
                            <i class="fas fa-user"></i>
                            <span>User #12345</span>
                        </div>
                        <div class="prediction-risk high">95% churn risk</div>
                        <div class="prediction-reason">Last active 14 days ago</div>
                    </div>
                    <div class="prediction-item">
                        <div class="prediction-user">
                            <i class="fas fa-user"></i>
                            <span>User #67890</span>
                        </div>
                        <div class="prediction-risk medium">78% churn risk</div>
                        <div class="prediction-reason">Decreased engagement</div>
                    </div>
                </div>
            </div>

            <!-- Behavior Patterns -->
            <div class="card behavior-patterns">
                <div class="card-header">
                    <h3><i class="fas fa-brain"></i> Behavior Patterns</h3>
                    <div class="pattern-controls">
                        <button class="pattern-btn active" data-pattern="engagement">Engagement</button>
                        <button class="pattern-btn" data-pattern="usage">Usage</button>
                        <button class="pattern-btn" data-pattern="features">Features</button>
                    </div>
                </div>
                <div class="pattern-analysis">
                    <div class="pattern-metric">
                        <span class="pattern-name">Daily Active Users</span>
                        <span class="pattern-value">8,432</span>
                        <span class="pattern-trend positive">↗ +12%</span>
                    </div>
                    <div class="pattern-metric">
                        <span class="pattern-name">Session Frequency</span>
                        <span class="pattern-value">4.2/day</span>
                        <span class="pattern-trend positive">↗ +8%</span>
                    </div>
                    <div class="pattern-metric">
                        <span class="pattern-name">Feature Adoption</span>
                        <span class="pattern-value">73%</span>
                        <span class="pattern-trend neutral">→ +2%</span>
                    </div>
                    <div class="pattern-metric">
                        <span class="pattern-name">Time to First Value</span>
                        <span class="pattern-value">2.3 days</span>
                        <span class="pattern-trend negative">↘ -5%</span>
                    </div>
                </div>
                <canvas id="behavior-heatmap" width="400" height="150"></canvas>
            </div>

            <!-- Retention Strategies -->
            <div class="card retention-strategies">
                <div class="card-header">
                    <h3><i class="fas fa-lightbulb"></i> Retention Strategies</h3>
                    <button class="generate-btn" id="generate-strategies">
                        <i class="fas fa-magic"></i> Generate
                    </button>
                </div>
                <div class="strategies-list">
                    <div class="strategy-item priority-high">
                        <div class="strategy-header">
                            <span class="strategy-name">Re-engagement Campaign</span>
                            <span class="strategy-priority">High Priority</span>
                        </div>
                        <div class="strategy-description">
                            Target users inactive for 7+ days with personalized welcome-back offers
                        </div>
                        <div class="strategy-impact">
                            <span>Expected Impact: +15% retention</span>
                            <span>Cost: Low</span>
                        </div>
                    </div>
                    <div class="strategy-item priority-medium">
                        <div class="strategy-header">
                            <span class="strategy-name">Feature Onboarding</span>
                            <span class="strategy-priority">Medium Priority</span>
                        </div>
                        <div class="strategy-description">
                            Implement guided tutorials for underutilized features
                        </div>
                        <div class="strategy-impact">
                            <span>Expected Impact: +8% retention</span>
                            <span>Cost: Medium</span>
                        </div>
                    </div>
                    <div class="strategy-item priority-low">
                        <div class="strategy-header">
                            <span class="strategy-name">Community Building</span>
                            <span class="strategy-priority">Low Priority</span>
                        </div>
                        <div class="strategy-description">
                            Create user forums and feedback channels
                        </div>
                        <div class="strategy-impact">
                            <span>Expected Impact: +5% retention</span>
                            <span>Cost: High</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- User Segmentation -->
            <div class="card user-segmentation">
                <div class="card-header">
                    <h3><i class="fas fa-users"></i> User Segmentation</h3>
                    <div class="segment-controls">
                        <select id="segment-criteria">
                            <option value="behavior">Behavior</option>
                            <option value="demographics">Demographics</option>
                            <option value="engagement">Engagement</option>
                            <option value="value">Value</option>
                        </select>
                    </div>
                </div>
                <div class="segmentation-chart">
                    <canvas id="segmentation-pie" width="300" height="300"></canvas>
                </div>
                <div class="segment-details">
                    <div class="segment">
                        <div class="segment-color" style="background-color: #4CAF50"></div>
                        <div class="segment-info">
                            <span class="segment-name">Champions</span>
                            <span class="segment-size">2,341 (23%)</span>
                        </div>
                    </div>
                    <div class="segment">
                        <div class="segment-color" style="background-color: #2196F3"></div>
                        <div class="segment-info">
                            <span class="segment-name">Regulars</span>
                            <span class="segment-size">4,127 (41%)</span>
                        </div>
                    </div>
                    <div class="segment">
                        <div class="segment-color" style="background-color: #FF9800"></div>
                        <div class="segment-info">
                            <span class="segment-name">Casuals</span>
                            <span class="segment-size">2,891 (29%)</span>
                        </div>
                    </div>
                    <div class="segment">
                        <div class="segment-color" style="background-color: #F44336"></div>
                        <div class="segment-info">
                            <span class="segment-name">At Risk</span>
                            <span class="segment-size">641 (7%)</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Control Panel -->
        <div class="control-panel">
            <div class="control-section">
                <h4><i class="fas fa-cogs"></i> Analysis Controls</h4>
                <div class="control-buttons">
                    <button class="control-btn" id="run-analysis">
                        <i class="fas fa-play"></i> Run Analysis
                    </button>
                    <button class="control-btn" id="export-data">
                        <i class="fas fa-download"></i> Export Data
                    </button>
                    <button class="control-btn" id="reset-metrics">
                        <i class="fas fa-undo"></i> Reset
                    </button>
                </div>
            </div>
            <div class="control-section">
                <h4><i class="fas fa-clock"></i> Real-time Updates</h4>
                <div class="update-status">
                    <span class="status-indicator active"></span>
                    <span class="status-text">Live data streaming</span>
                    <span class="last-update">Updated 2 min ago</span>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>