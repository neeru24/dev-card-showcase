<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>icon craft ¬∑ light icon generator</title>
  <!-- soft, minimal, playful ‚Äî pure light theme icon studio -->
  <style>
    /* ---------- LIGHT & FRESH BASE ---------- */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: linear-gradient(155deg, #f7fbfe 0%, #edf3f8 100%);
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, sans-serif;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 1.8rem;
      color: #1f3e52;
    }

    .icon-lab {
      max-width: 1100px;
      width: 100%;
      background: rgba(255, 255, 255, 0.55);
      backdrop-filter: blur(8px);
      border-radius: 64px 64px 56px 56px;
      padding: 2.4rem 2.2rem;
      box-shadow: 0 20px 36px -14px rgba(0,32,48,0.04), 
                  inset 0 1px 2px white,
                  0 0 0 1px rgba(255,255,255,0.7);
    }

    /* ----- HEADER: light, airy ----- */
    .icon-header {
      display: flex;
      flex-wrap: wrap;
      align-items: baseline;
      justify-content: space-between;
      margin-bottom: 2.2rem;
    }

    .title-area {
      display: flex;
      align-items: baseline;
      gap: 0.7rem;
      flex-wrap: wrap;
    }

    .title-area h1 {
      font-size: 2.4rem;
      font-weight: 480;
      letter-spacing: -0.02em;
      color: #1b3e53;
    }

    .soft-badge {
      background: #e7f0f7;
      padding: 0.3rem 1.2rem;
      border-radius: 60px;
      font-size: 0.85rem;
      font-weight: 540;
      color: #2e5e76;
      border: 1px solid white;
      box-shadow: inset 0 1px 3px white;
    }

    .download-btn {
      background: white;
      border: 1px solid #cfdee9;
      border-radius: 60px;
      padding: 0.65rem 1.6rem;
      font-size: 0.95rem;
      font-weight: 480;
      color: #225166;
      box-shadow: 0 4px 8px rgba(0,0,0,0.01);
      transition: 0.1s;
      cursor: pointer;
      border-bottom: 2px solid #c2d4e1;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .download-btn:hover {
      background: #f8ffff;
      border-color: #b2cedc;
      transform: translateY(-1px);
      box-shadow: 0 12px 16px -10px rgba(60,120,150,0.06);
    }

    /* ----- MAIN PANEL: ICON CANVAS + CONTROLS ----- */
    .icon-workspace {
      display: flex;
      flex-wrap: wrap;
      gap: 2rem;
      justify-content: center;
    }

    .canvas-pavilion {
      background: white;
      border-radius: 42px;
      padding: 1.6rem;
      box-shadow: inset 0 1px 3px rgba(255,255,255,0.9), 0 8px 18px -10px rgba(0,0,0,0.02);
      border: 1px solid #e2ecf3;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.8rem;
    }

    canvas {
      display: block;
      width: 200px;
      height: 200px;
      border-radius: 32px;
      box-shadow: 0 10px 20px -12px rgba(0,32,48,0.08), inset 0 0 0 1px rgba(255,255,255,0.8);
      border: 1px solid #d7e3ec;
    }

    .canvas-label {
      font-size: 0.75rem;
      text-transform: uppercase;
      color: #658096;
      letter-spacing: 0.04em;
      background: #eff6fc;
      padding: 0.2rem 1.2rem;
      border-radius: 60px;
    }

    /* ----- CONTROL PANEL (LIGHT, SLIDERS, COLOR) ----- */
    .control-studio {
      flex: 1;
      min-width: 280px;
      background: #f9fdff;
      border-radius: 48px;
      padding: 1.8rem 1.8rem;
      box-shadow: inset 0 1px 4px white, 0 4px 12px rgba(0,0,0,0.01);
      border: 1px solid #e0ecf2;
    }

    .control-section {
      margin-bottom: 1.8rem;
    }

    .control-header {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-bottom: 1rem;
      color: #2d5a70;
      font-weight: 520;
      font-size: 0.95rem;
      text-transform: uppercase;
      letter-spacing: 0.03em;
    }

    .control-header span {
      font-size: 1.2rem;
    }

    .slider-item {
      display: flex;
      flex-direction: column;
      gap: 0.3rem;
      margin-bottom: 1.2rem;
    }

    .slider-label {
      display: flex;
      justify-content: space-between;
      font-size: 0.85rem;
      color: #426c81;
    }

    input[type="range"] {
      width: 100%;
      height: 6px;
      background: #e2ecf2;
      border-radius: 10px;
      -webkit-appearance: none;
      appearance: none;
    }

    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 20px;
      height: 20px;
      background: white;
      border-radius: 20px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.02), 0 0 0 1px #bed6e2;
      border: 1px solid white;
      cursor: pointer;
      transition: 0.06s;
    }

    input[type="range"]::-webkit-slider-thumb:hover {
      background: #f0faff;
      transform: scale(1.1);
      border-color: #8cb6cc;
    }

    .color-row {
      display: flex;
      gap: 1rem;
      align-items: center;
      flex-wrap: wrap;
    }

    .color-item {
      display: flex;
      flex-direction: column;
      gap: 0.3rem;
      flex: 1;
    }

    .color-label {
      font-size: 0.75rem;
      color: #517a8b;
      text-transform: uppercase;
    }

    input[type="color"] {
      width: 100%;
      height: 44px;
      border: 1px solid #cde0e9;
      border-radius: 24px;
      background: white;
      padding: 4px;
      cursor: pointer;
      box-shadow: inset 0 1px 4px rgba(0,0,0,0.01);
    }

    .icon-shape-selector {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      margin-bottom: 1.4rem;
    }

    .shape-btn {
      background: white;
      border: 1px solid #d2e2ec;
      border-radius: 40px;
      padding: 0.5rem 1.1rem;
      font-size: 0.85rem;
      color: #2a556b;
      display: flex;
      align-items: center;
      gap: 5px;
      cursor: pointer;
      transition: 0.06s;
      box-shadow: 0 2px 4px rgba(0,0,0,0.01);
    }

    .shape-btn.active {
      background: #e9f2fa;
      border-color: #a7c6da;
      border-bottom: 2px solid #90b8cc;
      color: #154455;
      font-weight: 500;
    }

    .shape-btn:hover {
      background: #f1faff;
      border-color: #aac7d9;
    }

    .randomize-btn {
      background: #f1f7fc;
      border: 1px dashed #a8c2d2;
      border-radius: 60px;
      padding: 0.7rem 1.2rem;
      font-size: 0.9rem;
      color: #1f536a;
      margin-top: 0.6rem;
      cursor: pointer;
      transition: 0.1s;
    }

    .randomize-btn:hover {
      background: white;
      border: 1px solid #9fc0d0;
    }

    .footer-meta {
      margin-top: 2rem;
      text-align: center;
      color: #6c8fa1;
      font-size: 0.8rem;
      border-top: 1px solid #dfecf2;
      padding-top: 1.6rem;
    }
  </style>
</head>
<body>
  <div class="icon-lab">
    <!-- header: icon craft -->
    <div class="icon-header">
      <div class="title-area">
        <h1>‚óä icon generator</h1>
        <span class="soft-badge">light studio</span>
      </div>
      <button class="download-btn" id="downloadBtn">
        <span style="font-size:1.2rem;">‚Üì</span> download PNG
      </button>
    </div>

    <!-- main workspace: canvas + controls -->
    <div class="icon-workspace">
      <!-- canvas preview panel -->
      <div class="canvas-pavilion">
        <canvas id="iconCanvas" width="200" height="200"></canvas>
        <span class="canvas-label">‚ö° live icon</span>
      </div>

      <!-- right side: all controls (shape, colors, size, rotation) -->
      <div class="control-studio">
        <!-- SHAPE SELECTION -->
        <div class="control-section">
          <div class="control-header">
            <span>‚¨ü</span> shape
          </div>
          <div class="icon-shape-selector" id="shapeSelector">
            <button class="shape-btn active" data-shape="circle">‚óè circle</button>
            <button class="shape-btn" data-shape="square">‚ñ† square</button>
            <button class="shape-btn" data-shape="hexagon">‚¨¢ hexagon</button>
            <button class="shape-btn" data-shape="star">‚òÖ star</button>
            <button class="shape-btn" data-shape="heart">‚ô• heart</button>
          </div>
        </div>

        <!-- COLORS: primary & secondary -->
        <div class="control-section">
          <div class="control-header">
            <span>üé®</span> colors
          </div>
          <div class="color-row">
            <div class="color-item">
              <span class="color-label">primary</span>
              <input type="color" id="primaryColor" value="#9bc4d2">
            </div>
            <div class="color-item">
              <span class="color-label">secondary</span>
              <input type="color" id="secondaryColor" value="#f1d3b3">
            </div>
          </div>
        </div>

        <!-- ICON DIMENSIONS & DETAILS -->
        <div class="control-section">
          <div class="control-header">
            <span>‚öôÔ∏è</span> adjust
          </div>
          <!-- size slider -->
          <div class="slider-item">
            <div class="slider-label">
              <span>icon size</span>
              <span id="sizeValue">80%</span>
            </div>
            <input type="range" id="sizeSlider" min="30" max="100" value="80">
          </div>
          <!-- rotation -->
          <div class="slider-item">
            <div class="slider-label">
              <span>rotation</span>
              <span id="rotationValue">0¬∞</span>
            </div>
            <input type="range" id="rotationSlider" min="0" max="360" value="0">
          </div>
          <!-- corner radius (only for square/hexagon) -->
          <div class="slider-item" id="cornerRadiusGroup">
            <div class="slider-label">
              <span>corner softness</span>
              <span id="cornerValue">20%</span>
            </div>
            <input type="range" id="cornerSlider" min="0" max="50" value="20">
          </div>
        </div>

        <!-- RANDOMIZE BUTTON -->
        <button class="randomize-btn" id="randomizeBtn">
          ‚ú¶ randomize icon
        </button>
      </div>
    </div>
    <div class="footer-meta">
      <span>light icon forge ¬∑ every icon is yours</span>
    </div>
  </div>

  <script>
    // ---------- LIGHT ICON GENERATOR ¬∑ CANVAS STUDIO ----------
    (function(){
      "use strict";

      // ----- CANVAS SETUP -----
      const canvas = document.getElementById('iconCanvas');
      const ctx = canvas.getContext('2d');
      const size = 200; // canvas 200x200

      // ----- STATE -----
      let currentShape = 'circle';      // default
      let primaryColor = '#9bc4d2';    // soft pastel blue
      let secondaryColor = '#f1d3b3';  // warm sand
      let iconScale = 80;             // percent
      let rotationAngle = 0;          // degrees
      let cornerRadius = 20;          // for square / hexagon (0-50)

      // ----- DOM ELEMENTS -----
      const shapeBtns = document.querySelectorAll('.shape-btn');
      const primaryInput = document.getElementById('primaryColor');
      const secondaryInput = document.getElementById('secondaryColor');
      const sizeSlider = document.getElementById('sizeSlider');
      const sizeValue = document.getElementById('sizeValue');
      const rotationSlider = document.getElementById('rotationSlider');
      const rotationValue = document.getElementById('rotationValue');
      const cornerSlider = document.getElementById('cornerSlider');
      const cornerValue = document.getElementById('cornerValue');
      const cornerGroup = document.getElementById('cornerRadiusGroup');
      const randomizeBtn = document.getElementById('randomizeBtn');
      const downloadBtn = document.getElementById('downloadBtn');

      // ----- INITIAL UPDATE -----
      function updateIcon() {
        // read current values from inputs
        primaryColor = primaryInput.value;
        secondaryColor = secondaryInput.value;
        iconScale = parseInt(sizeSlider.value, 10);
        rotationAngle = parseInt(rotationSlider.value, 10);
        cornerRadius = parseInt(cornerSlider.value, 10);

        // update labels
        sizeValue.textContent = iconScale + '%';
        rotationValue.textContent = rotationAngle + '¬∞';
        cornerValue.textContent = cornerRadius + '%';

        // show/hide corner radius based on shape (circle/heart/star don't use radius)
        if (currentShape === 'square' || currentShape === 'hexagon') {
          cornerGroup.style.display = 'block';
        } else {
          cornerGroup.style.display = 'none';
        }

        drawIcon();
      }

      // ----- DRAWING ENGINE (light, crisp, modern) -----
      function drawIcon() {
        ctx.clearRect(0, 0, size, size);

        // soft background (transparent-like, but we draw subtle cross-grid)
        ctx.fillStyle = '#ffffff';
        ctx.fillRect(0, 0, size, size);
        
        // very light dotted grid (barely visible)
        ctx.strokeStyle = '#e7edf2';
        ctx.lineWidth = 0.4;
        for (let i=0; i<=4; i++) {
          ctx.beginPath();
          ctx.moveTo(i*50, 0);
          ctx.lineTo(i*50, size);
          ctx.strokeStyle = '#e2ecf2';
          ctx.stroke();
          ctx.beginPath();
          ctx.moveTo(0, i*50);
          ctx.lineTo(size, i*50);
          ctx.stroke();
        }

        // save context for rotation & scale
        ctx.save();

        // move to center, rotate, scale, then translate back
        const centerX = size / 2;
        const centerY = size / 2;
        ctx.translate(centerX, centerY);
        
        // rotation (radians)
        const rad = rotationAngle * Math.PI / 180;
        ctx.rotate(rad);
        
        // scale factor (0.3 to 1.0)
        const scaleFactor = iconScale / 100;
        ctx.scale(scaleFactor, scaleFactor);

        // go back to -center for drawing
        ctx.translate(-centerX, -centerY);

        // ----- DRAW SELECTED SHAPE (centered) -----
        ctx.save(); // extra save for clip if needed

        // primary fill style
        ctx.fillStyle = primaryColor;
        ctx.strokeStyle = secondaryColor;
        ctx.lineWidth = 6 * (1/scaleFactor); // scale stroke inversely? adjust
        if (scaleFactor > 0) ctx.lineWidth = 6 / scaleFactor; 

        // shape drawing
        if (currentShape === 'circle') {
          ctx.beginPath();
          ctx.arc(centerX, centerY, 70, 0, 2 * Math.PI);
          ctx.fillStyle = primaryColor;
          ctx.fill();
          ctx.strokeStyle = secondaryColor;
          ctx.lineWidth = 8 / scaleFactor;
          ctx.stroke();
        }
        else if (currentShape === 'square') {
          const w = 130;
          const h = 130;
          const x = centerX - w/2;
          const y = centerY - h/2;
          const radius = (cornerRadius / 50) * 30; // map 0-50 ‚Üí 0-30px

          ctx.beginPath();
          ctx.moveTo(x + radius, y);
          ctx.lineTo(x + w - radius, y);
          ctx.quadraticCurveTo(x + w, y, x + w, y + radius);
          ctx.lineTo(x + w, y + h - radius);
          ctx.quadraticCurveTo(x + w, y + h, x + w - radius, y + h);
          ctx.lineTo(x + radius, y + h);
          ctx.quadraticCurveTo(x, y + h, x, y + h - radius);
          ctx.lineTo(x, y + radius);
          ctx.quadraticCurveTo(x, y, x + radius, y);
          ctx.closePath();

          ctx.fillStyle = primaryColor;
          ctx.fill();
          ctx.strokeStyle = secondaryColor;
          ctx.lineWidth = 8 / scaleFactor;
          ctx.stroke();
        }
        else if (currentShape === 'hexagon') {
          // soft hexagon
          const cx = centerX, cy = centerY;
          const hexRadius = 70;
          const rot = 0; // flat top? we want pointy top? classic orientation
          let points = 6;
          ctx.beginPath();
          for (let i = 0; i < points; i++) {
            let angle = (i * 2 * Math.PI) / points - Math.PI / 2; // rotate to point up
            let x = cx + hexRadius * Math.cos(angle);
            let y = cy + hexRadius * Math.sin(angle);
            if (i === 0) ctx.moveTo(x, y);
            else ctx.lineTo(x, y);
          }
          ctx.closePath();
          ctx.fillStyle = primaryColor;
          ctx.fill();

          // apply corner rounding via clip? but we just use stroke secondary
          ctx.strokeStyle = secondaryColor;
          ctx.lineWidth = 8 / scaleFactor;
          ctx.stroke();
        }
        else if (currentShape === 'star') {
          // five-point star
          const cx = centerX, cy = centerY;
          const outerR = 70;
          const innerR = 32;
          let rot = Math.PI / 2 * 3;
          const step = Math.PI / 5;

          ctx.beginPath();
          for (let i = 0; i < 5; i++) {
            // outer point
            let x = cx + Math.cos(rot) * outerR;
            let y = cy + Math.sin(rot) * outerR;
            ctx.lineTo(x, y);
            rot += step;

            // inner point
            x = cx + Math.cos(rot) * innerR;
            y = cy + Math.sin(rot) * innerR;
            ctx.lineTo(x, y);
            rot += step;
          }
          ctx.closePath();
          ctx.fillStyle = primaryColor;
          ctx.fill();
          ctx.strokeStyle = secondaryColor;
          ctx.lineWidth = 6 / scaleFactor;
          ctx.stroke();
        }
        else if (currentShape === 'heart') {
          // classic heart
          const cx = centerX, cy = centerY - 10;
          ctx.beginPath();
          ctx.moveTo(cx, cy + 20);
          ctx.bezierCurveTo(cx - 30, cy - 10, cx - 60, cy + 20, cx, cy + 60);
          ctx.bezierCurveTo(cx + 60, cy + 20, cx + 30, cy - 10, cx, cy + 20);
          ctx.closePath();
          ctx.fillStyle = primaryColor;
          ctx.fill();
          ctx.strokeStyle = secondaryColor;
          ctx.lineWidth = 6 / scaleFactor;
          ctx.stroke();
        }

        ctx.restore(); // restore clip/scale
        ctx.restore(); // restore original transformation

        // tiny inner highlight (soft)
        ctx.beginPath();
        ctx.arc(centerX, centerY, 4, 0, 2 * Math.PI);
        ctx.fillStyle = 'rgba(255,255,255,0.3)';
        ctx.fill();
      }

      // ----- SHAPE SELECTION -----
      function setActiveShape(shape) {
        shapeBtns.forEach(btn => {
          const btnShape = btn.dataset.shape;
          if (btnShape === shape) {
            btn.classList.add('active');
          } else {
            btn.classList.remove('active');
          }
        });
        currentShape = shape;
        updateIcon();
      }

      // ----- RANDOMIZE ICON -----
      function randomizeIcon() {
        // random shape
        const shapes = ['circle', 'square', 'hexagon', 'star', 'heart'];
        const randomShape = shapes[Math.floor(Math.random() * shapes.length)];
        setActiveShape(randomShape);

        // random colors (pastel-ish)
        const randomPastel = () => {
          const hue = Math.floor(Math.random() * 360);
          return `hsl(${hue}, 60%, 80%)`; // light, soft
        };
        primaryInput.value = hslToHex(Math.random() * 360, 60, 80);
        secondaryInput.value = hslToHex(Math.random() * 360, 50, 85);

        // random scale (50-100)
        sizeSlider.value = Math.floor(Math.random() * 60) + 40; // 40-100
        // random rotation 0-360
        rotationSlider.value = Math.floor(Math.random() * 360);
        // random corner radius (0-40)
        cornerSlider.value = Math.floor(Math.random() * 40);

        updateIcon();
      }

      // tiny helper hsl to hex (simple conversion for randomizer)
      function hslToHex(h, s, l) {
        l /= 100;
        const a = s * Math.min(l, 1 - l) / 100;
        const f = n => {
          const k = (n + h / 30) % 12;
          const color = l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);
          return Math.round(255 * color).toString(16).padStart(2, '0');
        };
        return `#${f(0)}${f(8)}${f(4)}`;
      }

      // ----- DOWNLOAD CANVAS AS PNG -----
      function downloadPNG() {
        const link = document.createElement('a');
        link.download = `icon-${currentShape}-${Date.now()}.png`;
        link.href = canvas.toDataURL('image/png');
        link.click();
      }

      // ----- EVENT LISTENERS -----
      function bindEvents() {
        // shape buttons
        shapeBtns.forEach(btn => {
          btn.addEventListener('click', function(e) {
            const shape = this.dataset.shape;
            setActiveShape(shape);
          });
        });

        // color pickers
        primaryInput.addEventListener('input', updateIcon);
        secondaryInput.addEventListener('input', updateIcon);

        // sliders
        sizeSlider.addEventListener('input', updateIcon);
        rotationSlider.addEventListener('input', updateIcon);
        cornerSlider.addEventListener('input', updateIcon);

        // randomize
        randomizeBtn.addEventListener('click', randomizeIcon);

        // download
        downloadBtn.addEventListener('click', downloadPNG);
      }

      // set default active shape
      setActiveShape('circle');
      bindEvents();
      updateIcon();

      // corner group visibility on init
      if (currentShape !== 'square' && currentShape !== 'hexagon') {
        cornerGroup.style.display = 'none';
      }
    })();
  </script>
  <!-- extra style: corner group toggle -->
  <style>
    #cornerRadiusGroup { transition: opacity 0.1s; }
  </style>
</body>
</html>