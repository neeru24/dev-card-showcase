
:root {
  --bg:      #FFF8F0;
  --card:    #FFFFFF;
  --ink:     #1E1B18;
  --muted:   #9B8FA0;
  --pink:    #FF6B9D;
  --purple:  #8B5CF6;
  --blue:    #3B82F6;
  --teal:    #0D9488;
  --orange:  #F97316;
  --yellow:  #FBBF24;
  --green:   #22C55E;
  --red:     #EF4444;
  --r:       14px;
  --r-lg:    28px;
}

*, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }

body {
  font-family: 'Nunito', sans-serif;
  background: var(--bg);
  color: var(--ink);
  min-height: 100vh;
  overflow-x: hidden;
}

/* ── PARTICLES ── */
#particles {
  position: fixed; inset: 0;
  pointer-events: none;
  z-index: 0;
  overflow: hidden;
}
.particle {
  position: absolute;
  border-radius: 50%;
  opacity: .18;
  animation: drift linear infinite;
}
@keyframes drift {
  0%   { transform: translateY(110vh) rotate(0deg); }
  100% { transform: translateY(-10vh)  rotate(360deg); }
}

/* ── SCREENS ── */
.screen { display:none; min-height:100vh; align-items:center; justify-content:center; padding:24px; position:relative; z-index:1; }
.screen.active { display:flex; }
#sGame { flex-direction:column; padding:0; align-items:stretch; justify-content:flex-start; }

/* ─────────────────────────
   HOME
───────────────────────── */
.home-card {
  background: var(--card);
  border-radius: var(--r-lg);
  padding: 44px 36px;
  max-width: 440px;
  width: 100%;
  text-align: center;
  box-shadow: 0 8px 40px rgba(0,0,0,.10), 0 2px 8px rgba(0,0,0,.06);
  animation: slideUp .5s cubic-bezier(.34,1.56,.64,1) forwards;
}
@keyframes slideUp {
  from { opacity:0; transform:translateY(30px) scale(.97); }
  to   { opacity:1; transform:none; }
}

.home-emoji {
  font-size: 4rem;
  display: block;
  margin-bottom: 10px;
  animation: wiggle 2.5s ease-in-out infinite;
}
@keyframes wiggle {
  0%,100% { transform:rotate(-8deg) scale(1); }
  30%     { transform:rotate(8deg) scale(1.08); }
  60%     { transform:rotate(-4deg) scale(1.04); }
}

.home-title {
  font-family: 'Baloo 2', cursive;
  font-size: 2.8rem;
  font-weight: 800;
  color: var(--ink);
  line-height: 1;
  margin-bottom: 10px;
}
.home-title span {
  display: block;
  background: linear-gradient(135deg, var(--pink), var(--purple));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.home-sub { font-size:.93rem; color:var(--muted); margin-bottom:30px; line-height:1.6; }

/* Category picker */
.category-pick { margin-bottom:24px; }
.pick-label { font-size:.72rem; font-weight:700; letter-spacing:3px; color:var(--muted); text-transform:uppercase; margin-bottom:12px; }

.cat-grid { display:grid; grid-template-columns:repeat(3,1fr); gap:8px; }

.cat-btn {
  padding: 11px 6px;
  background: var(--bg);
  border: 2px solid #E8E2F0;
  border-radius: var(--r);
  font-family: 'Baloo 2', cursive;
  font-size: .78rem;
  font-weight: 600;
  color: var(--muted);
  cursor: pointer;
  transition: all .15s ease;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
}
.cat-btn .cat-icon { font-size:1.3rem; }
.cat-btn:hover { border-color:var(--purple); color:var(--purple); transform:translateY(-2px); }
.cat-btn.active {
  background: linear-gradient(135deg, var(--pink), var(--purple));
  border-color: transparent;
  color: #fff;
  box-shadow: 0 4px 14px rgba(139,92,246,.35);
}

/* Difficulty */
.diff-pick { margin-bottom:28px; }
.diff-row { display:flex; gap:8px; justify-content:center; }
.diff-btn {
  flex:1; max-width:110px;
  padding: 9px 0;
  background: var(--bg);
  border: 2px solid #E8E2F0;
  border-radius: 50px;
  font-family: 'Baloo 2', cursive;
  font-size: .85rem;
  font-weight: 700;
  color: var(--muted);
  cursor: pointer;
  transition: all .15s ease;
}
.diff-btn:hover { border-color:var(--orange); color:var(--orange); }
.diff-btn.active { background:var(--orange); border-color:var(--orange); color:#fff; box-shadow:0 4px 12px rgba(249,115,22,.35); }

/* Play button */
.btn-play {
  width: 100%;
  padding: 15px;
  background: linear-gradient(135deg, var(--pink), var(--purple));
  color: #fff;
  border: none;
  border-radius: 50px;
  font-family: 'Baloo 2', cursive;
  font-size: 1.15rem;
  font-weight: 800;
  cursor: pointer;
  box-shadow: 0 6px 20px rgba(139,92,246,.4);
  transition: all .15s ease;
  margin-bottom: 16px;
  letter-spacing: .5px;
}
.btn-play:hover { transform:translateY(-2px); box-shadow:0 10px 28px rgba(139,92,246,.5); }
.btn-play:active { transform:scale(.97); }

.btn-outline {
  width: 100%;
  padding: 13px;
  background: transparent;
  color: var(--muted);
  border: 2px solid #E8E2F0;
  border-radius: 50px;
  font-family: 'Baloo 2', cursive;
  font-size: 1rem;
  font-weight: 700;
  cursor: pointer;
  transition: all .15s ease;
  margin-top: 2px;
}
.btn-outline:hover { border-color:var(--purple); color:var(--purple); }

.hs-strip {
  font-size:.82rem;
  font-weight:700;
  color:var(--muted);
  margin-top:6px;
}
.hs-strip span { color:var(--purple); }

/* ─────────────────────────
   GAME TOP
───────────────────────── */
.game-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 20px;
  background: var(--card);
  border-bottom: 2px solid #F0EAF8;
  gap: 10px;
  position: sticky; top:0; z-index:10;
}

.back-btn {
  width:34px; height:34px;
  background: var(--bg);
  border: 2px solid #E8E2F0;
  border-radius: 50%;
  font-size:1rem;
  cursor:pointer;
  color:var(--ink);
  display:flex; align-items:center; justify-content:center;
  transition:all .15s;
  flex-shrink:0;
}
.back-btn:hover { background:var(--purple); color:#fff; border-color:var(--purple); }

.top-hud { display:flex; gap:8px; }

.hud-pill {
  background: var(--bg);
  border: 2px solid #EDE8F8;
  border-radius: 50px;
  padding: 5px 12px;
  font-family: 'Baloo 2', cursive;
  font-size: .85rem;
  font-weight: 700;
  color: var(--ink);
  display: flex;
  align-items: center;
  gap: 4px;
}
.hud-pill span { color:var(--purple); }
.timer-pill { border-color:var(--orange); }
.timer-pill span { color:var(--orange); }
.timer-warn span { color:var(--red) !important; animation:tpulse .5s ease infinite; }
@keyframes tpulse { 0%,100%{transform:scale(1)} 50%{transform:scale(1.2)} }

.level-badge {
  background: linear-gradient(135deg,var(--pink),var(--purple));
  color: #fff;
  border-radius:50px;
  padding:5px 14px;
  font-family:'Baloo 2',cursive;
  font-size:.8rem;
  font-weight:700;
  white-space:nowrap;
  flex-shrink:0;
}
.level-badge span { font-size:1rem; }

/* Progress */
.prog-wrap { padding:0 20px 4px; background:var(--card); border-bottom:2px solid #F0EAF8; }
.prog-track { height:6px; background:#F0EAF8; border-radius:99px; overflow:hidden; margin-bottom:10px; }
.prog-bar { height:100%; background:linear-gradient(90deg,var(--pink),var(--purple)); border-radius:99px; width:0%; transition:width .5s ease; }

/* ─────────────────────────
   GAME BODY
───────────────────────── */
.game-body {
  flex:1;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:28px 20px 20px;
  gap:20px;
  max-width:600px;
  margin:0 auto;
  width:100%;
}

.cat-tag {
  font-family:'Baloo 2',cursive;
  font-size:.75rem;
  font-weight:700;
  letter-spacing:3px;
  text-transform:uppercase;
  color:var(--purple);
  background:rgba(139,92,246,.1);
  border-radius:50px;
  padding:4px 14px;
}

.hint-text {
  font-size:.9rem;
  color:var(--muted);
  font-style:italic;
  text-align:center;
}

/* Scramble tiles */
.scramble-row {
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  justify-content:center;
  min-height:72px;
}

.s-tile {
  width:58px; height:58px;
  background: linear-gradient(135deg, #fff, #F8F5FF);
  border: 2.5px solid #DDD5F0;
  border-radius: var(--r);
  display: flex;
  align-items: center;
  justify: content:center;
  justify-content: center;
  font-family: 'Baloo 2', cursive;
  font-size: 1.6rem;
  font-weight: 800;
  color: var(--ink);
  cursor: pointer;
  transition: all .15s cubic-bezier(.34,1.56,.64,1);
  user-select: none;
  animation: tileIn .25s cubic-bezier(.34,1.56,.64,1) both;
  box-shadow: 0 3px 8px rgba(0,0,0,.07);
}
@keyframes tileIn {
  from { transform:scale(0) rotate(-15deg); opacity:0; }
  to   { transform:scale(1) rotate(0);      opacity:1; }
}
.s-tile:hover { transform:translateY(-4px) scale(1.08); border-color:var(--purple); box-shadow:0 6px 16px rgba(139,92,246,.25); }
.s-tile.used  { opacity:.25; pointer-events:none; transform:scale(.9); }

/* Answer tiles */
.answer-row {
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  justify-content:center;
  min-height:72px;
  padding:14px 20px;
  background: rgba(139,92,246,.05);
  border: 2.5px dashed #DDD5F0;
  border-radius: var(--r-lg);
  width:100%;
}

.a-tile {
  width:58px; height:58px;
  background: linear-gradient(135deg, var(--purple), var(--pink));
  border-radius: var(--r);
  display:flex; align-items:center; justify-content:center;
  font-family:'Baloo 2',cursive;
  font-size:1.6rem;
  font-weight:800;
  color:#fff;
  cursor:pointer;
  animation:tileIn .2s cubic-bezier(.34,1.56,.64,1) both;
  box-shadow:0 4px 12px rgba(139,92,246,.35);
  transition:all .15s ease;
}
.a-tile:hover { transform:scale(1.06); box-shadow:0 6px 18px rgba(139,92,246,.45); }

/* Action buttons */
.action-row { display:flex; gap:10px; width:100%; }
.btn-action {
  flex:1;
  padding:12px 0;
  border:none;
  border-radius:50px;
  font-family:'Baloo 2',cursive;
  font-size:.9rem;
  font-weight:800;
  cursor:pointer;
  transition:all .15s ease;
  letter-spacing:.3px;
}
.clear-btn  { background:#F0EAF8; color:var(--purple); }
.clear-btn:hover  { background:var(--purple); color:#fff; }
.submit-btn { background:linear-gradient(135deg,var(--green),var(--teal)); color:#fff; box-shadow:0 4px 14px rgba(34,197,94,.35); }
.submit-btn:hover { transform:translateY(-2px); box-shadow:0 6px 20px rgba(34,197,94,.45); }
.skip-btn   { background:#FEF3C7; color:var(--orange); }
.skip-btn:hover   { background:var(--orange); color:#fff; }

/* Feedback */
.feedback-area {
  font-family:'Baloo 2',cursive;
  font-size:1.2rem;
  font-weight:800;
  min-height:32px;
  text-align:center;
  transition:all .2s;
}
.feedback-area.ok  { color:var(--green); }
.feedback-area.bad { color:var(--red); }
.feedback-area.skip{ color:var(--orange); }

/* correct flash */
@keyframes correctFlash {
  0%   { background:rgba(34,197,94,.15); }
  100% { background:transparent; }
}
.game-body.flash { animation:correctFlash .5s ease; }

/* ─────────────────────────
   RESULT
───────────────────────── */
.result-card {
  background:var(--card);
  border-radius:var(--r-lg);
  padding:44px 36px;
  max-width:400px;
  width:100%;
  text-align:center;
  box-shadow:0 8px 40px rgba(0,0,0,.10);
  animation:slideUp .5s cubic-bezier(.34,1.56,.64,1) forwards;
}

.result-emoji { font-size:4rem; display:block; margin-bottom:12px; animation:wiggle 1.5s ease-in-out infinite; }

.result-title {
  font-family:'Baloo 2',cursive;
  font-size:2.4rem;
  font-weight:800;
  color:var(--ink);
  margin-bottom:6px;
}
.result-sub { font-size:.92rem; color:var(--muted); margin-bottom:28px; }

.result-stats {
  display:flex;
  border:2px solid #F0EAF8;
  border-radius:var(--r);
  overflow:hidden;
  margin-bottom:20px;
}
.rs-item { flex:1; padding:16px 10px; display:flex; flex-direction:column; gap:4px; border-right:2px solid #F0EAF8; }
.rs-item:last-child { border-right:none; }
.rs-num { font-family:'Baloo 2',cursive; font-size:1.6rem; font-weight:800; color:var(--purple); line-height:1; }
.rs-lbl { font-size:.68rem; font-weight:700; letter-spacing:2px; color:var(--muted); text-transform:uppercase; }

.result-best { font-size:.82rem; font-weight:700; color:var(--green); margin-bottom:22px; min-height:18px; }

/* ── RESPONSIVE ── */
@media (max-width:480px) {
  .home-card, .result-card { padding:32px 20px; }
  .home-title { font-size:2.2rem; }
  .s-tile, .a-tile { width:46px; height:46px; font-size:1.25rem; }
  .cat-grid { grid-template-columns:repeat(3,1fr); }
  .game-body { padding:20px 14px 16px; gap:14px; }
  .action-row .btn-action { font-size:.78rem; padding:11px 0; }
}
