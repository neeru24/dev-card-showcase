

:root {
  --cream:    #fffbf0;
  --warm:     #fff3d6;
  --paper:    #fef9ee;
  --tomato:   #e8441a;
  --saffron:  #ff9a00;
  --turmeric: #f5c542;
  --herb:     #3d9a5c;
  --sky:      #4db8e8;
  --plum:     #8b3fa8;
  --rose:     #e84393;
  --dark:     #2d1b00;
  --muted:    #8b7355;
  --border:   #e8d5b0;
  --card-shadow: 0 8px 32px rgba(45,27,0,0.12);
  --r:        20px;
  --font-h:   'Fredoka One', cursive;
  --font-b:   'Nunito', sans-serif;
}

*, *::before, *::after { box-sizing:border-box; margin:0; padding:0; }
html, body {
  height:100%; font-family:var(--font-b);
  background:var(--cream);
  color:var(--dark); overflow:hidden;
}

/* â”€â”€ FOOD BG â”€â”€ */
.food-bg {
  position:fixed; inset:0; z-index:0;
  pointer-events:none; overflow:hidden;
}
.food-float {
  position:absolute;
  font-size:2rem;
  animation:foodDrift linear infinite;
  opacity:0.12;
  user-select:none;
}
@keyframes foodDrift {
  0%   { transform:translateY(110vh) rotate(0deg); }
  100% { transform:translateY(-20vh) rotate(360deg); }
}

/* â”€â”€ TOPBAR â”€â”€ */
.topbar {
  position:fixed; top:0; left:0; right:0; z-index:100;
  display:flex; align-items:center; gap:12px;
  padding:0 20px; height:56px;
  background:var(--tomato);
  box-shadow:0 4px 16px rgba(232,68,26,0.3);
}
.topbar-logo {
  font-family:var(--font-h); font-size:1.3rem;
  color:white; letter-spacing:1px;
  text-shadow:2px 2px 0 rgba(0,0,0,0.15);
  white-space:nowrap;
}
.topbar-center { flex:1; display:flex; justify-content:center; }
.passport-strip {
  display:flex; align-items:center; gap:8px;
  background:rgba(255,255,255,0.15);
  border-radius:50px; padding:4px 14px;
}
.passport-icon { font-size:1rem; }
.passport-label {
  font-family:var(--font-h); font-size:0.7rem;
  color:rgba(255,255,255,0.8); letter-spacing:2px;
}
.stamp-dots { display:flex; gap:5px; }
.stamp-dot {
  width:18px; height:18px; border-radius:50%;
  border:2px solid rgba(255,255,255,0.4);
  background:rgba(255,255,255,0.1);
  display:flex; align-items:center; justify-content:center;
  font-size:0.7rem; transition:all 0.3s;
}
.stamp-dot.filled {
  background:rgba(255,255,255,0.9);
  border-color:white;
  box-shadow:0 0 8px rgba(255,255,255,0.5);
}
.topbar-right { display:flex; align-items:center; gap:10px; }
.score-pill {
  font-family:var(--font-h); font-size:1rem;
  color:var(--turmeric); background:rgba(0,0,0,0.2);
  padding:4px 14px; border-radius:50px;
}
.chef-level {
  font-family:var(--font-h); font-size:0.8rem;
  color:white; background:rgba(0,0,0,0.15);
  padding:4px 12px; border-radius:50px;
  white-space:nowrap;
}

/* â”€â”€ STAGE â”€â”€ */
.stage { position:relative; z-index:10; height:100vh; padding-top:56px; }
.screen {
  position:absolute; inset:56px 0 0 0;
  display:flex; align-items:center; justify-content:center;
  opacity:0; pointer-events:none;
  transition:opacity 0.4s ease;
  overflow-y:auto; padding:20px;
}
.screen.active { opacity:1; pointer-events:all; }

/* â”€â”€ BUTTON â”€â”€ */
.btn-cook {
  display:inline-flex; align-items:center; gap:8px;
  background:linear-gradient(135deg, var(--tomato), #c0321a);
  color:white; border:none; border-radius:50px;
  padding:14px 36px;
  font-family:var(--font-h); font-size:1.1rem;
  cursor:pointer;
  box-shadow:0 6px 20px rgba(232,68,26,0.35), 0 2px 0 rgba(0,0,0,0.15);
  transition:transform 0.15s, box-shadow 0.15s;
  margin-top:16px;
  letter-spacing:0.5px;
}
.btn-cook:hover { transform:translateY(-3px); box-shadow:0 10px 28px rgba(232,68,26,0.45); }
.btn-cook:active { transform:translateY(0); }

/* â”€â”€ INTRO â”€â”€ */
.intro-card {
  text-align:center; max-width:540px;
  background:var(--paper);
  border-radius:32px;
  padding:40px 36px;
  box-shadow:var(--card-shadow);
  border:3px solid var(--border);
  animation:cardIn 0.6s cubic-bezier(.17,.67,.37,1.3) both;
}
@keyframes cardIn { from{transform:scale(0.85) translateY(20px);opacity:0} to{transform:scale(1) translateY(0);opacity:1} }
.chef-hat-anim {
  font-size:5rem; display:block;
  animation:chefBounce 2s ease-in-out infinite;
  filter:drop-shadow(0 8px 16px rgba(0,0,0,0.15));
}
@keyframes chefBounce {
  0%,100%{transform:translateY(0) rotate(-5deg);}
  50%{transform:translateY(-14px) rotate(5deg);}
}
.intro-h1 {
  font-family:var(--font-h); font-size:clamp(2.2rem,8vw,3.8rem);
  color:var(--dark); line-height:1; margin:12px 0 12px;
}
.intro-h1 span {
  background:linear-gradient(135deg, var(--tomato), var(--saffron));
  -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;
}
.intro-p { color:var(--muted); font-size:1rem; line-height:1.6; margin-bottom:12px; }
.globe-row {
  display:flex; gap:8px; justify-content:center; flex-wrap:wrap;
  font-size:1.8rem; margin:12px 0;
}
.globe-row span {
  display:inline-block;
  animation:flagBob 2s ease-in-out infinite;
}
.globe-row span:nth-child(2n) { animation-delay:.3s; }
.globe-row span:nth-child(3n) { animation-delay:.6s; }
@keyframes flagBob { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-6px)} }
.intro-tagline { color:var(--muted); font-size:0.8rem; letter-spacing:1px; margin-top:8px; }

/* â”€â”€ MAP â”€â”€ */
#screenMap { align-items:flex-start; }
.map-wrapper { width:100%; max-width:800px; }
.map-title { font-family:var(--font-h); font-size:2rem; color:var(--dark); margin-bottom:4px; }
.map-sub   { color:var(--muted); font-size:0.9rem; margin-bottom:18px; }
.country-grid {
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(180px, 1fr));
  gap:14px;
}
.country-tile {
  background:var(--paper);
  border:3px solid var(--border);
  border-radius:20px;
  padding:16px 14px;
  cursor:pointer;
  transition:all 0.22s;
  text-align:center;
  box-shadow:0 4px 14px rgba(0,0,0,0.07);
  animation:tileIn 0.4s ease both;
  position:relative; overflow:hidden;
}
.country-tile:hover:not(.visited) {
  transform:translateY(-6px) scale(1.02);
  border-color:var(--saffron);
  box-shadow:0 12px 28px rgba(0,0,0,0.12);
}
.country-tile.visited {
  background:linear-gradient(135deg, #f0fff4, #e6ffe8);
  border-color:var(--herb);
}
.country-tile.visited::after {
  content:'âœ…';
  position:absolute; top:8px; right:10px; font-size:1rem;
}
.tile-flag { font-size:2.6rem; display:block; margin-bottom:6px; }
.tile-name { font-family:var(--font-h); font-size:1rem; color:var(--dark); }
.tile-dish { font-size:0.75rem; color:var(--muted); margin-top:4px; }
.tile-dish-icon { font-size:1.2rem; }
.country-tile:nth-child(1){animation-delay:0s}
.country-tile:nth-child(2){animation-delay:.06s}
.country-tile:nth-child(3){animation-delay:.12s}
.country-tile:nth-child(4){animation-delay:.18s}
.country-tile:nth-child(5){animation-delay:.24s}
.country-tile:nth-child(6){animation-delay:.30s}
.country-tile:nth-child(7){animation-delay:.36s}
.country-tile:nth-child(8){animation-delay:.42s}
@keyframes tileIn { from{opacity:0;transform:scale(0.85) translateY(16px)} to{opacity:1;transform:scale(1) translateY(0)} }

/* â”€â”€ COUNTRY INFO â”€â”€ */
.country-card {
  background:var(--paper);
  border-radius:32px;
  padding:32px 36px;
  max-width:640px; width:100%;
  box-shadow:var(--card-shadow);
  border:3px solid var(--border);
  display:grid; gap:20px;
  animation:cardIn 0.5s ease both;
}
.country-flag-big { font-size:5rem; text-align:center; filter:drop-shadow(0 8px 16px rgba(0,0,0,0.1)); }
.country-name { font-family:var(--font-h); font-size:2.2rem; color:var(--dark); }
.country-meta {
  display:flex; flex-wrap:wrap; gap:8px; margin:8px 0;
}
.meta-chip {
  background:var(--warm); border:1px solid var(--border);
  border-radius:50px; padding:4px 14px;
  font-size:0.8rem; color:var(--muted); font-weight:700;
}
.facts-list { display:flex; flex-direction:column; gap:8px; }
.fact-item {
  display:flex; gap:10px; align-items:flex-start;
  background:var(--warm); border-radius:12px; padding:10px 14px;
  animation:factIn 0.4s ease both;
}
.fact-item:nth-child(2){animation-delay:.08s}
.fact-item:nth-child(3){animation-delay:.16s}
.fact-item:nth-child(4){animation-delay:.24s}
@keyframes factIn { from{opacity:0;transform:translateX(-14px)} to{opacity:1;transform:translateX(0)} }
.fact-ico { font-size:1.1rem; flex-shrink:0; }
.fact-txt { font-size:0.88rem; line-height:1.5; color:var(--dark); font-weight:600; }

.dish-preview {
  background:linear-gradient(135deg, var(--saffron)22, var(--turmeric)22);
  border:2px dashed var(--saffron);
  border-radius:20px; padding:16px;
  text-align:center;
}
.dish-preview-label { font-size:0.75rem; color:var(--muted); font-weight:700; letter-spacing:1px; text-transform:uppercase; }
.dish-preview-icon  { font-size:3.5rem; margin:6px 0; display:block; filter:drop-shadow(0 4px 8px rgba(0,0,0,0.12)); }
.dish-preview-name  { font-family:var(--font-h); font-size:1.3rem; color:var(--dark); }

/* â”€â”€ KITCHEN â”€â”€ */
.kitchen {
  display:grid;
  grid-template-columns:240px 1fr 240px;
  grid-template-rows:1fr;
  gap:14px;
  width:100%; max-width:1000px;
  height:calc(100vh - 76px);
  padding:10px 0;
}

/* Recipe panel */
.recipe-panel {
  background:var(--paper);
  border:3px solid var(--border);
  border-radius:24px;
  padding:18px 16px;
  box-shadow:var(--card-shadow);
  overflow-y:auto; display:flex; flex-direction:column; gap:12px;
}
.recipe-header { display:flex; gap:10px; align-items:center; }
.recipe-header span { font-size:2rem; }
.recipe-title { font-family:var(--font-h); font-size:1.1rem; color:var(--dark); }
.recipe-sub   { font-size:0.72rem; color:var(--muted); }
.steps-list { display:flex; flex-direction:column; gap:8px; flex:1; }
.step-item {
  display:flex; gap:10px; align-items:center;
  padding:10px 12px;
  border-radius:14px;
  border:2px solid var(--border);
  background:var(--warm);
  transition:all 0.3s;
  font-size:0.85rem; font-weight:700; color:var(--muted);
}
.step-item.active {
  border-color:var(--saffron);
  background:linear-gradient(135deg, #fff8e1, #fff3cc);
  color:var(--dark);
  box-shadow:0 4px 12px rgba(255,154,0,0.2);
}
.step-item.done {
  border-color:var(--herb);
  background:linear-gradient(135deg, #f0fff4, #e6ffe8);
  color:var(--herb);
}
.step-num {
  width:24px; height:24px; border-radius:50%;
  background:var(--border); color:var(--muted);
  display:flex; align-items:center; justify-content:center;
  font-family:var(--font-h); font-size:0.75rem; flex-shrink:0;
}
.step-item.active .step-num { background:var(--saffron); color:white; }
.step-item.done  .step-num  { background:var(--herb);    color:white; }
.recipe-tip {
  background:linear-gradient(135deg, #e8f4fd, #d0e8f8);
  border-radius:14px; padding:10px 14px;
  font-size:0.78rem; color:#1a5f8a; font-weight:600; line-height:1.5;
}

/* Workspace */
.cook-workspace {
  display:flex; flex-direction:column; gap:12px; align-items:center; justify-content:center;
}
.pot-area {
  background:var(--paper);
  border:3px solid var(--border);
  border-radius:24px;
  padding:20px;
  width:100%; flex:1;
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  box-shadow:var(--card-shadow);
  transition:all 0.3s;
  position:relative;
  min-height:200px;
}
.pot-area.drag-over {
  border-color:var(--saffron);
  background:linear-gradient(135deg, #fff8e1, #fffbf0);
  box-shadow:0 0 0 4px rgba(255,154,0,0.2);
}
.pot-emoji {
  font-size:5rem;
  filter:drop-shadow(0 8px 20px rgba(0,0,0,0.12));
  animation:potWobble 3s ease-in-out infinite;
  transition:transform 0.3s;
}
@keyframes potWobble { 0%,100%{transform:rotate(-3deg)} 50%{transform:rotate(3deg)} }
.pot-label { font-size:0.85rem; color:var(--muted); font-weight:700; margin-top:6px; }
.pot-contents {
  display:flex; gap:8px; flex-wrap:wrap; justify-content:center;
  margin-top:12px; min-height:40px;
}
.pot-ingredient {
  font-size:1.8rem;
  animation:popIn 0.35s cubic-bezier(.17,.67,.37,1.5) both;
  filter:drop-shadow(0 4px 8px rgba(0,0,0,0.15));
}
@keyframes popIn { from{transform:scale(0) rotate(-20deg);opacity:0} to{transform:scale(1) rotate(0);opacity:1} }

.progress-chef {
  width:100%; background:var(--paper);
  border:3px solid var(--border); border-radius:16px; padding:12px 16px;
  box-shadow:0 4px 12px rgba(0,0,0,0.06);
}
.chef-progress-bar {
  height:12px; background:var(--warm);
  border-radius:6px; overflow:hidden; margin-bottom:6px;
}
.chef-bar-fill {
  height:100%; width:0%;
  background:linear-gradient(90deg, var(--herb), #5bcc78);
  border-radius:6px;
  transition:width 0.5s cubic-bezier(.4,0,.2,1);
  box-shadow:0 0 8px rgba(61,154,92,0.4);
}
.cook-status {
  font-size:0.82rem; color:var(--muted); font-weight:700; text-align:center;
}

/* Ingredients shelf */
.ingredients-shelf {
  background:var(--paper);
  border:3px solid var(--border);
  border-radius:24px; padding:16px 14px;
  box-shadow:var(--card-shadow);
  overflow-y:auto;
}
.shelf-label {
  font-family:var(--font-h); font-size:0.95rem; color:var(--dark);
  margin-bottom:12px; text-align:center;
}
.ingredients-grid {
  display:grid; grid-template-columns:1fr 1fr; gap:10px;
}
.ingredient-card {
  background:var(--warm);
  border:2px solid var(--border);
  border-radius:14px; padding:12px 8px;
  text-align:center; cursor:grab;
  transition:all 0.2s;
  user-select:none;
}
.ingredient-card:hover:not(.used) {
  transform:scale(1.06) rotate(-2deg);
  border-color:var(--saffron);
  box-shadow:0 6px 16px rgba(0,0,0,0.12);
}
.ingredient-card.used {
  opacity:0.35; cursor:default; filter:grayscale(0.7);
}
.ingredient-card.wrong-flash {
  animation:wrongFlash 0.5s ease;
}
@keyframes wrongFlash { 0%,100%{background:var(--warm)} 50%{background:#ffe0e0; border-color:#ff6b6b;} }
.ingredient-card:active { cursor:grabbing; transform:scale(1.1); }
.ing-emoji { font-size:2rem; display:block; margin-bottom:4px; }
.ing-name  { font-size:0.68rem; font-weight:700; color:var(--muted); }

/* â”€â”€ DISH COMPLETE â”€â”€ */
.dish-complete-card {
  text-align:center; max-width:520px; width:100%;
  background:var(--paper);
  border:3px solid var(--border); border-radius:32px;
  padding:32px 36px;
  box-shadow:var(--card-shadow);
  animation:cardIn 0.5s ease both;
}
.fireworks-row { font-size:1.8rem; margin-bottom:12px; animation:fwPulse 1s ease-in-out infinite alternate; }
@keyframes fwPulse { from{transform:scale(1)} to{transform:scale(1.1)} }
.cooked-dish {
  font-size:7rem; display:block; margin:0 auto 10px;
  animation:dishSpin 0.8s cubic-bezier(.17,.67,.37,1.5) both;
  filter:drop-shadow(0 10px 24px rgba(0,0,0,0.15));
}
@keyframes dishSpin { from{transform:scale(0) rotate(-30deg);opacity:0} to{transform:scale(1) rotate(0);opacity:1} }
.dish-complete-title {
  font-family:var(--font-h); font-size:2rem; color:var(--dark); margin-bottom:14px;
}
.stamp-earned {
  display:flex; align-items:center; gap:12px; justify-content:center;
  background:linear-gradient(135deg, #f0fff4, #e6ffe8);
  border:2px solid var(--herb); border-radius:50px;
  padding:10px 24px; margin-bottom:16px;
}
.stamp-circle {
  font-size:1.8rem;
  animation:stampPop 0.5s cubic-bezier(.17,.67,.37,1.5) both;
}
@keyframes stampPop { from{transform:scale(0)} to{transform:scale(1)} }
.stamp-text { font-family:var(--font-h); color:var(--herb); font-size:1rem; }
.culture-nugget {
  background:linear-gradient(135deg, #fff3d6, #ffe8a8);
  border:2px solid var(--turmeric); border-radius:16px;
  padding:14px 18px; margin-bottom:16px; text-align:left;
  font-size:0.88rem; line-height:1.6; color:var(--dark); font-weight:600;
}
.culture-nugget::before { content:'ðŸŒŸ Did you know? '; font-weight:800; }
.dish-score-row {
  display:flex; gap:10px; justify-content:center; margin-bottom:4px; flex-wrap:wrap;
}
.score-chip {
  background:var(--warm); border:2px solid var(--border); border-radius:50px;
  padding:6px 16px; font-family:var(--font-h); font-size:0.85rem; color:var(--dark);
}

/* â”€â”€ GRADUATION â”€â”€ */
.grad-card {
  text-align:center; max-width:520px; width:100%;
  background:var(--paper); border:3px solid var(--turmeric);
  border-radius:32px; padding:36px;
  box-shadow:0 12px 40px rgba(245,197,66,0.3);
  animation:cardIn 0.5s ease both;
}
.grad-trophy { font-size:7rem; display:block; animation:chefBounce 2s ease-in-out infinite; }
.grad-title { font-family:var(--font-h); font-size:2.5rem; color:var(--tomato); margin:12px 0 8px; }
.grad-sub { color:var(--muted); font-size:0.95rem; line-height:1.6; margin-bottom:18px; }
.passport-full { display:flex; gap:10px; justify-content:center; flex-wrap:wrap; font-size:2rem; margin-bottom:14px; }
.final-score-big { font-family:var(--font-h); font-size:2rem; color:var(--saffron); margin-bottom:4px; }

/* â”€â”€ SPLASH â”€â”€ */
#splash { position:fixed; inset:0; z-index:300; pointer-events:none; }
.splash-item {
  position:absolute; font-size:1.5rem;
  animation:splashFly 0.9s ease-out forwards;
}
@keyframes splashFly { 0%{transform:translate(0,0) scale(1);opacity:1} 100%{transform:translate(var(--dx),var(--dy)) scale(0);opacity:0} }

/* Scroll */
::-webkit-scrollbar { width:5px; }
::-webkit-scrollbar-track { background:var(--warm); }
::-webkit-scrollbar-thumb { background:var(--border); border-radius:5px; }

/* â”€â”€ RESPONSIVE â”€â”€ */
@media(max-width:700px){
  .kitchen { grid-template-columns:1fr; grid-template-rows:auto auto auto; height:auto; }
  .recipe-panel, .ingredients-shelf { max-height:200px; }
  .country-grid { grid-template-columns:1fr 1fr; }
  .topbar-logo { font-size:1rem; }
}
