<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="LiquidInput - A fluid-dynamics text input where letters behave like particles in liquid">
    <title>LiquidInput - Fluid Dynamics Text Input</title>
    
    <!-- CSS Imports -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/glass.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/particles.css">
</head>
<body>
    <!-- Main Application Container -->
    <div class="app-container">
        
        <!-- Header Section -->
        <header class="app-header">
            <h1 class="app-title">LiquidInput</h1>
            <p class="app-subtitle">Type slowly to keep letters aligned. Type fast to build pressure.</p>
        </header>

        <!-- Main Input Container -->
        <main class="main-content">
            
            <!-- Glass Container Wrapper -->
            <div class="glass-container" id="glassContainer">
                
                <!-- Pressure Indicator -->
                <div class="pressure-indicator" id="pressureIndicator">
                    <div class="pressure-label">Pressure</div>
                    <div class="pressure-bar-container">
                        <div class="pressure-bar" id="pressureBar"></div>
                    </div>
                    <div class="pressure-value" id="pressureValue">0%</div>
                </div>

                <!-- Canvas for Particle Rendering -->
                <canvas class="particle-canvas" id="particleCanvas"></canvas>

                <!-- Invisible Input Field for Keyboard Capture -->
                <input 
                    type="text" 
                    class="hidden-input" 
                    id="hiddenInput"
                    autocomplete="off"
                    autocorrect="off"
                    autocapitalize="off"
                    spellcheck="false"
                    aria-label="Type to create liquid particles"
                    placeholder="Start typing..."
                />

                <!-- Visual Input Display (Read-only) -->
                <div class="visual-input" id="visualInput" aria-hidden="true">
                    <span class="input-cursor"></span>
                </div>

                <!-- Container State Overlay (for burst effects) -->
                <div class="container-overlay" id="containerOverlay"></div>
            </div>

            <!-- Status Display -->
            <div class="status-display" id="statusDisplay">
                <div class="status-item">
                    <span class="status-label">State:</span>
                    <span class="status-value" id="stateValue">Calm</span>
                </div>
                <div class="status-item">
                    <span class="status-label">Particles:</span>
                    <span class="status-value" id="particleCount">0</span>
                </div>
                <div class="status-item">
                    <span class="status-label">Speed:</span>
                    <span class="status-value" id="typingSpeed">0 cps</span>
                </div>
            </div>

        </main>

        <!-- Footer Section -->
        <footer class="app-footer">
            <div class="controls">
                <button class="control-btn" id="resetBtn" aria-label="Reset to calm state">
                    <span class="btn-icon">↻</span>
                    <span class="btn-text">Reset</span>
                </button>
                <button class="control-btn" id="clearBtn" aria-label="Clear all particles">
                    <span class="btn-icon">✕</span>
                    <span class="btn-text">Clear</span>
                </button>
            </div>
            <p class="footer-text">Built with HTML, CSS, and Vanilla JavaScript</p>
        </footer>

    </div>

    <!-- Spilled Particles Container (outside main container) -->
    <div class="spilled-particles-container" id="spilledParticlesContainer" aria-hidden="true"></div>

    <!-- JavaScript Modules -->
    <script src="js/config.js"></script>
    <script src="js/physics.js"></script>
    <script src="js/particleEngine.js"></script>
    <script src="js/inputLogic.js"></script>
    <script src="js/burstController.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
