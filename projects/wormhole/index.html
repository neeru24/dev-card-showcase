<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WORMHOLE RESONANCE 路 traversable tunnels 路 exotic matter</title>
    <!-- single file 路 einstein-rosen bridges + negative energy + casimir effect -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #03010f;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Aeonik', 'Inter', system-ui, sans-serif;
            overflow: hidden;
        }

        .wormhole-lab {
            position: relative;
            width: 100vw;
            height: 100vh;
            background: radial-gradient(circle at 30% 40%, #1a0f3a, #010008);
            overflow: hidden;
        }

        canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: block;
        }

        #throatCanvas {
            z-index: 1;
            filter: drop-shadow(0 0 30px #b07eff);
        }

        #exoticCanvas {
            z-index: 2;
            mix-blend-mode: screen;
            opacity: 0.6;
            pointer-events: none;
        }

        #gravityCanvas {
            z-index: 3;
            pointer-events: none;
            mix-blend-mode: overlay;
        }

        .wormhole-panel {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            background: rgba(20, 5, 40, 0.8);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 2px solid rgba(200, 100, 255, 0.7);
            border-radius: 60px 60px 30px 30px;
            padding: 1.5rem 3rem;
            display: flex;
            gap: 3rem;
            color: #e0b0ff;
            box-shadow: 0 0 80px #b07eff, 0 20px 40px black;
            pointer-events: auto;
        }

        .wormhole-param {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.3rem;
        }

        .param-label {
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 3px;
            opacity: 0.7;
            color: #d0a0ff;
        }

        .param-value {
            font-size: 1.8rem;
            font-weight: 800;
            background: linear-gradient(135deg, #d0a0ff, #ffa0f0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px #f6f;
        }

        .wormhole-slider {
            width: 200px;
            height: 6px;
            background: #2a1a4a;
            border-radius: 3px;
            position: relative;
            margin: 10px 0;
            cursor: pointer;
        }

        .slider-fill {
            height: 100%;
            width: 50%;
            background: linear-gradient(90deg, #c08eff, #ff8ec8);
            border-radius: 3px;
            box-shadow: 0 0 20px #f9f;
        }

        .slider-handle {
            width: 22px;
            height: 22px;
            background: white;
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 30px #ffb0ff;
            border: 3px solid #e6b0ff;
            cursor: grab;
        }

        .wormhole-badge {
            position: absolute;
            top: 40px;
            left: 40px;
            z-index: 10;
            background: rgba(10, 0, 30, 0.6);
            backdrop-filter: blur(8px);
            border: 2px solid #d8a0ff;
            border-radius: 40px;
            padding: 1rem 2.5rem;
            color: white;
            font-size: 1.6rem;
            letter-spacing: 4px;
            box-shadow: 0 0 50px #cc88ff;
        }

        .wormhole-stats {
            position: absolute;
            top: 40px;
            right: 40px;
            z-index: 10;
            display: flex;
            gap: 2rem;
        }

        .stat-card {
            background: rgba(30, 10, 60, 0.7);
            backdrop-filter: blur(8px);
            border: 2px solid #ffa0d0;
            border-radius: 30px;
            padding: 1.2rem 2rem;
            text-align: center;
            color: #ffd0ff;
            min-width: 140px;
        }

        .stat-number {
            font-size: 2.4rem;
            font-weight: 800;
            line-height: 1;
        }

        .stability-meter {
            position: absolute;
            bottom: 200px;
            left: 60px;
            z-index: 10;
            width: 300px;
            height: 30px;
            background: #1a0f2a;
            border-radius: 15px;
            border: 3px solid #c08eff;
            overflow: hidden;
        }

        .meter-fill {
            height: 100%;
            width: 75%;
            background: linear-gradient(90deg, #b07eff, #ff8ec8, #ffb0f0);
            border-radius: 12px;
            box-shadow: 0 0 30px #f9f;
        }

        .exotic-matter {
            position: absolute;
            bottom: 200px;
            right: 60px;
            z-index: 10;
            background: rgba(30, 0, 50, 0.8);
            backdrop-filter: blur(4px);
            padding: 1.2rem 2rem;
            border-radius: 40px;
            border-right: 8px solid #f9f;
            color: #ffd0ff;
            font-size: 1.2rem;
            max-width: 350px;
        }
    </style>
</head>
<body>
    <div class="wormhole-lab">
        <canvas id="throatCanvas"></canvas>
        <canvas id="exoticCanvas"></canvas>
        <canvas id="gravityCanvas"></canvas>

        <!-- wormhole control panel -->
        <div class="wormhole-panel">
            <div class="wormhole-param">
                <span class="param-label">THROAT RADIUS</span>
                <div class="wormhole-slider" id="radiusSlider">
                    <div class="slider-fill" id="radiusFill" style="width: 50%;"></div>
                    <div class="slider-handle" id="radiusHandle" style="left: 50%;"></div>
                </div>
                <span class="param-value" id="radiusDisplay">1.5</span>
            </div>

            <div class="wormhole-param">
                <span class="param-label">EXOTIC MATTER</span>
                <div class="wormhole-slider" id="exoticSlider">
                    <div class="slider-fill" id="exoticFill" style="width: 40%;"></div>
                    <div class="slider-handle" id="exoticHandle" style="left: 40%;"></div>
                </div>
                <span class="param-value" id="exoticDisplay">-0.4</span>
            </div>

            <div class="wormhole-param">
                <span class="param-label">TIME DILATION</span>
                <div class="wormhole-slider" id="timeSlider">
                    <div class="slider-fill" id="timeFill" style="width: 60%;"></div>
                    <div class="slider-handle" id="timeHandle" style="left: 60%;"></div>
                </div>
                <span class="param-value" id="timeDisplay">1.8</span>
            </div>
        </div>

        <div class="wormhole-badge"> EINSTEIN-ROSEN BRIDGE 路 traversable</div>
        
        <div class="wormhole-stats">
            <div class="stat-card">
                <div class="stat-number" id="stability">73%</div>
                <div>STABILITY</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="tidalForce">0.42</div>
                <div>TIDAL FORCE</div>
            </div>
        </div>

        <div class="stability-meter">
            <div class="meter-fill" id="stabilityMeter" style="width: 73%;"></div>
        </div>

        <div class="exotic-matter" id="exoticDisplay">
            И negative energy density: -0.4 _casimir
        </div>
    </div>

    <script>
        (function() {
            // ---------- WORMHOLE RESONANCE CHAMBER ----------
            // Simulates traversable wormholes with exotic matter and gravitational waves
            
            const throatCanvas = document.getElementById('throatCanvas');
            const exoticCanvas = document.getElementById('exoticCanvas');
            const gravityCanvas = document.getElementById('gravityCanvas');
            
            const ctxThroat = throatCanvas.getContext('2d');
            const ctxExotic = exoticCanvas.getContext('2d');
            const ctxGravity = gravityCanvas.getContext('2d');

            let width, height;
            let time = 0;

            // wormhole parameters
            let throatRadius = 1.5;      // in Planck lengths
            let exoticMatter = -0.4;      // negative energy density
            let timeDilation = 1.8;        // gravitational time dilation
            
            // wormhole geometry
            const throatPoints = [];
            const POINT_COUNT = 200;
            
            // exotic matter particles
            const exoticParticles = [];
            const PARTICLE_COUNT = 100;

            // stability metrics
            let stability = 0.73;
            let tidalForce = 0.42;

            // UI elements
            const radiusDisplay = document.getElementById('radiusDisplay');
            const exoticDisplayVal = document.getElementById('exoticDisplay');
            const timeDisplay = document.getElementById('timeDisplay');
            const stabilitySpan = document.getElementById('stability');
            const tidalSpan = document.getElementById('tidalForce');
            const stabilityMeter = document.getElementById('stabilityMeter');
            const exoticMatterSpan = document.getElementById('exoticDisplay');
            
            // sliders
            const radiusSlider = document.getElementById('radiusSlider');
            const radiusHandle = document.getElementById('radiusHandle');
            const radiusFill = document.getElementById('radiusFill');
            
            const exoticSlider = document.getElementById('exoticSlider');
            const exoticHandle = document.getElementById('exoticHandle');
            const exoticFill = document.getElementById('exoticFill');
            
            const timeSlider = document.getElementById('timeSlider');
            const timeHandle = document.getElementById('timeHandle');
            const timeFill = document.getElementById('timeFill');

            // exotic particle class
            class ExoticParticle {
                constructor() {
                    this.reset();
                }
                
                reset() {
                    // position in throat
                    let r = 0.8 + Math.random() * 2;
                    let theta = Math.random() * Math.PI * 2;
                    let phi = Math.acos(2 * Math.random() - 1);
                    
                    this.r = r;
                    this.theta = theta;
                    this.phi = phi;
                    
                    // negative energy signature
                    this.energy = -Math.random();
                    this.lifetime = 0.5 + Math.random() * 0.5;
                }
                
                update(dt) {
                    // move along throat
                    this.r += 0.01;
                    this.theta += 0.02;
                    this.phi += 0.01;
                    
                    this.lifetime -= dt * 0.1;
                    
                    if (this.r > 3 || this.lifetime < 0) {
                        this.reset();
                    }
                }
            }

            // initialize wormhole throat
            function initThroat() {
                for (let i = 0; i < POINT_COUNT; i++) {
                    let t = i / (POINT_COUNT - 1);
                    let angle = t * Math.PI * 4;
                    
                    throatPoints.push({
                        t: t,
                        angle: angle
                    });
                }
            }

            // initialize exotic particles
            function initExotic() {
                for (let i = 0; i < PARTICLE_COUNT; i++) {
                    exoticParticles.push(new ExoticParticle());
                }
            }

            // resize
            function resizeCanvases() {
                width = window.innerWidth;
                height = window.innerHeight;
                throatCanvas.width = width;
                throatCanvas.height = height;
                exoticCanvas.width = width;
                exoticCanvas.height = height;
                gravityCanvas.width = width;
                gravityCanvas.height = height;
                
                initThroat();
                initExotic();
            }
            window.addEventListener('resize', resizeCanvases);
            resizeCanvases();

            // slider interactions
            function setupSliders() {
                // radius slider
                function updateRadiusFromEvent(e) {
                    const rect = radiusSlider.getBoundingClientRect();
                    let x = e.clientX - rect.left;
                    x = Math.max(0, Math.min(rect.width, x));
                    let val = x / rect.width;
                    
                    throatRadius = 0.5 + val * 3; // 0.5 to 3.5
                    radiusDisplay.innerText = throatRadius.toFixed(1);
                    radiusFill.style.width = (val * 100) + '%';
                    radiusHandle.style.left = (val * 100) + '%';
                    
                    updateStability();
                }
                
                radiusHandle.addEventListener('mousedown', (e) => {
                    e.preventDefault();
                    const onMove = (e) => updateRadiusFromEvent(e);
                    const onUp = () => {
                        document.removeEventListener('mousemove', onMove);
                        document.removeEventListener('mouseup', onUp);
                    };
                    document.addEventListener('mousemove', onMove);
                    document.addEventListener('mouseup', onUp);
                });
                
                radiusSlider.addEventListener('click', (e) => {
                    updateRadiusFromEvent(e);
                });
                
                // exotic matter slider
                function updateExoticFromEvent(e) {
                    const rect = exoticSlider.getBoundingClientRect();
                    let x = e.clientX - rect.left;
                    x = Math.max(0, Math.min(rect.width, x));
                    let val = x / rect.width;
                    
                    exoticMatter = -1 + val * 2; // -1 to 1
                    exoticDisplayVal.innerText = exoticMatter.toFixed(2);
                    exoticFill.style.width = (val * 100) + '%';
                    exoticHandle.style.left = (val * 100) + '%';
                    
                    exoticMatterSpan.innerText = `И negative energy density: ${exoticMatter.toFixed(2)} _casimir`;
                    updateStability();
                }
                
                exoticHandle.addEventListener('mousedown', (e) => {
                    e.preventDefault();
                    const onMove = (e) => updateExoticFromEvent(e);
                    const onUp = () => {
                        document.removeEventListener('mousemove', onMove);
                        document.removeEventListener('mouseup', onUp);
                    };
                    document.addEventListener('mousemove', onMove);
                    document.addEventListener('mouseup', onUp);
                });
                
                exoticSlider.addEventListener('click', (e) => {
                    updateExoticFromEvent(e);
                });
                
                // time dilation slider
                function updateTimeFromEvent(e) {
                    const rect = timeSlider.getBoundingClientRect();
                    let x = e.clientX - rect.left;
                    x = Math.max(0, Math.min(rect.width, x));
                    let val = x / rect.width;
                    
                    timeDilation = 1 + val * 3; // 1 to 4
                    timeDisplay.innerText = timeDilation.toFixed(1);
                    timeFill.style.width = (val * 100) + '%';
                    timeHandle.style.left = (val * 100) + '%';
                    
                    updateStability();
                }
                
                timeHandle.addEventListener('mousedown', (e) => {
                    e.preventDefault();
                    const onMove = (e) => updateTimeFromEvent(e);
                    const onUp = () => {
                        document.removeEventListener('mousemove', onMove);
                        document.removeEventListener('mouseup', onUp);
                    };
                    document.addEventListener('mousemove', onMove);
                    document.addEventListener('mouseup', onUp);
                });
                
                timeSlider.addEventListener('click', (e) => {
                    updateTimeFromEvent(e);
                });
            }
            setupSliders();

            // update stability based on parameters
            function updateStability() {
                // Morris-Thorne metric stability condition
                let exoticFactor = Math.max(0, -exoticMatter);
                let radiusFactor = Math.min(1, throatRadius / 3);
                let timeFactor = 1 / timeDilation;
                
                stability = 0.4 * exoticFactor + 0.3 * radiusFactor + 0.3 * timeFactor;
                stability = Math.min(0.95, Math.max(0.1, stability));
                
                // tidal forces
                tidalForce = (1 - stability) * 1.5;
                
                stabilitySpan.innerText = Math.round(stability * 100) + '%';
                tidalSpan.innerText = tidalForce.toFixed(2);
                stabilityMeter.style.width = (stability * 100) + '%';
            }

            // update particles
            function updateParticles() {
                for (let particle of exoticParticles) {
                    particle.update(0.02);
                }
            }

            // draw wormhole throat
            function drawThroat() {
                ctxThroat.clearRect(0, 0, width, height);
                
                // draw embedding diagram
                for (let i = 0; i < throatPoints.length - 1; i++) {
                    let p1 = throatPoints[i];
                    let p2 = throatPoints[i+1];
                    
                    // 3D to 2D projection of wormhole geometry
                    let r1 = 100 + 50 * Math.sin(p1.angle * 2 + time) * throatRadius;
                    let r2 = 100 + 50 * Math.sin(p2.angle * 2 + time) * throatRadius;
                    
                    let x1 = width/2 + r1 * Math.cos(p1.angle + time);
                    let y1 = height/2 + r1 * Math.sin(p1.angle + time) * 0.5;
                    
                    let x2 = width/2 + r2 * Math.cos(p2.angle + time);
                    let y2 = height/2 + r2 * Math.sin(p2.angle + time) * 0.5;
                    
                    // draw throat ring
                    ctxThroat.beginPath();
                    ctxThroat.moveTo(x1, y1);
                    ctxThroat.lineTo(x2, y2);
                    
                    // color based on exotic matter
                    let hue = 280 + exoticMatter * 50;
                    ctxThroat.strokeStyle = `hsla(${hue}, 80%, 70%, ${0.3})`;
                    ctxThroat.lineWidth = 2;
                    ctxThroat.shadowBlur = 20;
                    ctxThroat.shadowColor = `hsl(${hue}, 90%, 70%)`;
                    ctxThroat.stroke();
                }
                
                // draw throat cross-section
                for (let angle = 0; angle < Math.PI * 2; angle += 0.1) {
                    let r = 150 * throatRadius / 2;
                    let x = width/2 + r * Math.cos(angle);
                    let y = height/2 + r * Math.sin(angle) * 0.3;
                    
                    ctxThroat.beginPath();
                    ctxThroat.arc(x, y, 3, 0, 2 * Math.PI);
                    ctxThroat.fillStyle = `rgba(200, 100, 255, ${0.2})`;
                    ctxThroat.fill();
                }
                
                // draw central tunnel
                ctxThroat.beginPath();
                ctxThroat.arc(width/2, height/2, 50 * throatRadius, 0, 2 * Math.PI);
                ctxThroat.strokeStyle = '#b07eff40';
                ctxThroat.lineWidth = 4;
                ctxThroat.stroke();
            }

            // draw exotic matter
            function drawExotic() {
                ctxExotic.clearRect(0, 0, width, height);
                
                for (let particle of exoticParticles) {
                    // map to screen
                    let rScale = 150;
                    let x = width/2 + particle.r * rScale * Math.cos(particle.theta) * Math.sin(particle.phi);
                    let y = height/2 + particle.r * rScale * Math.sin(particle.theta) * Math.sin(particle.phi);
                    
                    // size based on energy
                    let size = 5 + Math.abs(particle.energy) * 10;
                    
                    ctxExotic.beginPath();
                    ctxExotic.arc(x, y, size, 0, 2 * Math.PI);
                    
                    // negative energy = purple/blue
                    let hue = 280 + particle.energy * 50;
                    ctxExotic.fillStyle = `hsla(${hue}, 80%, 60%, ${particle.lifetime * 0.5})`;
                    ctxExotic.shadowColor = `hsl(${hue}, 90%, 70%)`;
                    ctxExotic.shadowBlur = 15;
                    ctxExotic.fill();
                }
            }

            // draw gravitational waves
            function drawGravity() {
                ctxGravity.clearRect(0, 0, width, height);
                
                // draw gravitational wavefronts
                for (let i = 0; i < 5; i++) {
                    let radius = 100 + i * 80 + 30 * Math.sin(time * 2 + i);
                    let alpha = 0.1 * (5 - i) * stability;
                    
                    ctxGravity.beginPath();
                    ctxGravity.arc(width/2, height/2, radius, 0, 2 * Math.PI);
                    ctxGravity.strokeStyle = `rgba(200, 100, 255, ${alpha})`;
                    ctxGravity.lineWidth = 2;
                    ctxGravity.stroke();
                }
                
                // draw time dilation field
                for (let i = 0; i < 20; i++) {
                    let angle = (i / 20) * Math.PI * 2 + time;
                    let r = 200 + 50 * Math.sin(angle * 3 + time);
                    
                    let x = width/2 + r * Math.cos(angle);
                    let y = height/2 + r * Math.sin(angle) * 0.5;
                    
                    ctxGravity.beginPath();
                    ctxGravity.arc(x, y, 10, 0, 2 * Math.PI);
                    ctxGravity.fillStyle = `rgba(255, 150, 200, ${0.1 * timeDilation})`;
                    ctxGravity.fill();
                }
                
                // draw tidal distortion
                ctxGravity.beginPath();
                ctxGravity.ellipse(width/2, height/2, 
                                  200 * (1 + tidalForce), 
                                  200 * (1 - tidalForce), 
                                  0, 0, 2 * Math.PI);
                ctxGravity.strokeStyle = '#ff80c080';
                ctxGravity.lineWidth = 3;
                ctxGravity.stroke();
            }

            // animation loop
            function animate() {
                time += 0.02;
                
                updateParticles();
                updateStability();
                
                drawThroat();
                drawExotic();
                drawGravity();
                
                requestAnimationFrame(animate);
            }
            animate();

            // initial update
            updateStability();
        })();
    </script>
</body>
</html>