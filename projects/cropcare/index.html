<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CropCare ¬∑ disease guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }

        body {
            background: #f5f7e9;  /* soft agricultural backdrop */
            background-image: radial-gradient(circle at 10% 30%, rgba(180, 210, 160, 0.2) 0%, transparent 25%),
                              radial-gradient(circle at 90% 70%, rgba(130, 170, 120, 0.15) 0%, transparent 30%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1.5rem;
        }

        /* main card ‚Äî like a clean field tablet */
        .cropcare-app {
            max-width: 1100px;
            width: 100%;
            background: rgba(255, 255, 250, 0.85);
            backdrop-filter: blur(16px) saturate(160%);
            -webkit-backdrop-filter: blur(16px) saturate(160%);
            border-radius: 3rem 3rem 2.5rem 2.5rem;
            box-shadow: 0 25px 45px -20px rgba(40, 60, 30, 0.5),
                        inset 0 1px 2px rgba(255, 255, 240, 0.8);
            border: 1px solid rgba(200, 215, 170, 0.7);
            padding: 2rem 2rem 2.2rem 2rem;
        }

        /* header with crop icon */
        .app-header {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }
        .leaf-icon {
            font-size: 2.8rem;
            filter: drop-shadow(2px 4px 6px rgba(70, 100, 30, 0.2));
        }
        .title {
            font-size: 2rem;
            font-weight: 600;
            letter-spacing: -0.5px;
            background: linear-gradient(145deg, #1f4f2b, #3d6b42);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-right: auto;
        }
        .subhead {
            background: #e0ecd8cc;
            border-radius: 60px;
            padding: 0.4rem 1.5rem;
            font-size: 0.9rem;
            font-weight: 500;
            color: #2b5e2b;
            border: 1px solid #bcd0aa;
            backdrop-filter: blur(4px);
        }

        /* search / filter bar */
        .search-section {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 2.2rem;
            align-items: center;
        }
        .search-wrapper {
            flex: 2 1 280px;
            display: flex;
            background: white;
            border-radius: 60px;
            border: 1px solid #ccddbb;
            box-shadow: 0 4px 12px rgba(80, 110, 50, 0.08);
            transition: 0.15s;
        }
        .search-wrapper:focus-within {
            border-color: #7fa86a;
            box-shadow: 0 6px 14px rgba(90, 130, 60, 0.15);
        }
        .search-icon {
            padding: 0.8rem 0 0.8rem 1.5rem;
            font-size: 1.2rem;
            color: #5f7e4e;
        }
        .search-input {
            width: 100%;
            padding: 0.9rem 1.2rem 0.9rem 0.2rem;
            border: none;
            background: transparent;
            border-radius: 60px;
            font-size: 1rem;
            outline: none;
            color: #1f3a1f;
        }
        .search-input::placeholder {
            color: #9ab88b;
            font-weight: 300;
        }
        .filter-chip-group {
            display: flex;
            flex-wrap: wrap;
            gap: 0.6rem;
            align-items: center;
        }
        .chip {
            background: rgba(235, 245, 220, 0.8);
            border: 1px solid #bdd6a8;
            border-radius: 40px;
            padding: 0.55rem 1.3rem;
            font-size: 0.9rem;
            font-weight: 500;
            color: #2b562b;
            cursor: pointer;
            backdrop-filter: blur(4px);
            transition: 0.1s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.02);
            white-space: nowrap;
        }
        .chip.active {
            background: #46834a;
            border-color: #1e5a22;
            color: white;
            box-shadow: 0 5px 10px rgba(70, 130, 70, 0.3);
        }
        .chip:hover {
            background: #dbeace;
        }

        /* stats / info bar */
        .stats-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.6rem;
            background: rgba(200, 220, 170, 0.3);
            padding: 0.6rem 1.6rem;
            border-radius: 50px;
            border: 1px solid #cbdbb5;
            color: #2d572d;
            font-size: 0.95rem;
            backdrop-filter: blur(4px);
        }
        .disease-count {
            font-weight: 600;
            background: #edf5e1;
            padding: 0.2rem 1rem;
            border-radius: 30px;
        }

        /* card grid ‚Äî diseases */
        .disease-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.6rem;
            margin: 1.8rem 0 1.2rem;
        }

        .disease-card {
            background: rgba(255, 255, 250, 0.7);
            backdrop-filter: blur(8px);
            border-radius: 2rem;
            border: 1px solid rgba(200, 215, 170, 0.8);
            padding: 1.4rem 1.3rem 1.3rem 1.3rem;
            box-shadow: 0 10px 18px -8px rgba(50, 80, 30, 0.15);
            transition: 0.15s;
            display: flex;
            flex-direction: column;
        }
        .disease-card:hover {
            background: rgba(255, 255, 250, 0.95);
            border-color: #aec59e;
            box-shadow: 0 18px 28px -10px #517a47a0;
            transform: translateY(-3px);
        }

        .card-header {
            display: flex;
            gap: 0.8rem;
            align-items: center;
            margin-bottom: 1rem;
        }
        .disease-emoji {
            font-size: 2.4rem;
            background: #e9f2da;
            width: 3.2rem;
            height: 3.2rem;
            border-radius: 60% 40% 50% 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #b7d6a0;
        }
        .disease-name {
            font-size: 1.35rem;
            font-weight: 620;
            color: #1f4123;
            line-height: 1.2;
        }
        .scientific-name {
            font-size: 0.8rem;
            font-style: italic;
            color: #607e4e;
            margin-top: 0.2rem;
        }

        .crop-type-badge {
            display: inline-block;
            background: #d9e8cb;
            border-radius: 40px;
            padding: 0.3rem 1rem;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: #2c632c;
            margin-bottom: 0.8rem;
            border: 1px solid #aac194;
            align-self: flex-start;
        }

        .disease-desc {
            color: #2c432e;
            line-height: 1.5;
            font-size: 0.95rem;
            margin: 0.6rem 0 0.8rem;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .treatment-section {
            background: #eaf2e2cc;
            border-radius: 1.2rem;
            padding: 0.8rem 1rem;
            margin-top: 0.6rem;
            border-left: 5px solid #7fa86a;
            font-size: 0.9rem;
            color: #1d4a1d;
        }
        .treatment-label {
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.4rem;
            margin-bottom: 0.2rem;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: #3a663a;
        }
        .treatment-text {
            font-weight: 400;
        }

        .card-footer {
            margin-top: 1rem;
            display: flex;
            justify-content: flex-end;
            color: #5c8750;
            font-size: 0.8rem;
            gap: 0.4rem;
            align-items: center;
        }

        /* empty state */
        .empty-state {
            grid-column: 1 / -1;
            text-align: center;
            padding: 3.5rem 2rem;
            background: rgba(230, 242, 210, 0.5);
            border-radius: 4rem;
            color: #496c41;
            font-size: 1.2rem;
            border: 2px dashed #b5d29b;
        }

        footer {
            margin-top: 2.5rem;
            text-align: center;
            color: #638755;
            font-size: 0.8rem;
            border-top: 1px dashed #bcd0a8;
            padding-top: 1.2rem;
        }
    </style>
</head>
<body>
    <div class="cropcare-app" id="cropcareApp">
        <!-- header -->
        <div class="app-header">
            <span class="leaf-icon">üå±</span>
            <span class="title">CropCare</span>
            <span class="subhead">disease library</span>
        </div>

        <!-- search & filter -->
        <div class="search-section">
            <div class="search-wrapper">
                <span class="search-icon">üîç</span>
                <input type="text" class="search-input" id="searchInput" placeholder="Search disease or crop...">
            </div>
            <div class="filter-chip-group" id="filterChips">
                <span class="chip active" data-filter="all">All</span>
                <span class="chip" data-filter="cereal">üåæ Cereal</span>
                <span class="chip" data-filter="vegetable">ü•¨ Vegetable</span>
                <span class="chip" data-filter="fruit">üçé Fruit</span>
                <span class="chip" data-filter="legume">ü´ò Legume</span>
            </div>
        </div>

        <!-- stats row -->
        <div class="stats-bar">
            <span id="resultCount">14 diseases</span>
            <span class="disease-count">ü¶† know & treat</span>
        </div>

        <!-- disease cards grid -->
        <div class="disease-grid" id="diseaseGrid">
            <!-- dynamic javascript content -->
        </div>

        <footer>
            ‚öïÔ∏è always confirm with local extension ‚Äî CropCare ¬∑ info for farmers
        </footer>
    </div>

    <script>
        (function() {
            // ---------- DISEASE DATASET ----------
            const diseaseDB = [
                {
                    name: "Wheat Rust",
                    scientific: "Puccinia graminis",
                    emoji: "üåæ‚ö°",
                    cropType: "cereal",
                    crop: "Wheat",
                    description: "Reddish-brown pustules on stems and leaves. Reduces yield and weakens plant. Prefers humid conditions.",
                    treatment: "Use resistant varieties. Apply fungicides (triazoles/strobilurins) early. Remove volunteer wheat."
                },
                {
                    name: "Apple Scab",
                    scientific: "Venturia inaequalis",
                    emoji: "üçéü§é",
                    cropType: "fruit",
                    crop: "Apple",
                    description: "Olive-green to brown velvety spots on leaves and fruit. Causes fruit cracking and drop.",
                    treatment: "Plant resistant cultivars. Apply fungicides from green tip through summer. Rake and destroy fallen leaves."
                },
                {
                    name: "Tomato Blight (Late)",
                    scientific: "Phytophthora infestans",
                    emoji: "üçÖüåßÔ∏è",
                    cropType: "vegetable",
                    crop: "Tomato",
                    description: "Dark lesions on leaves with white moldy growth. Fruit rot. Spreads fast in wet weather.",
                    treatment: "Copper-based fungicides preventive. Remove infected plants. Avoid overhead irrigation."
                },
                {
                    name: "Corn Smut",
                    scientific: "Ustilago maydis",
                    emoji: "üåΩüñ§",
                    cropType: "cereal",
                    crop: "Maize",
                    description: "Large grey galls on ears, tassels, leaves. Edible in Mexican cuisine but reduces yield.",
                    treatment: "Remove galls before rupture. Rotate crops. Use less susceptible hybrids."
                },
                {
                    name: "Powdery Mildew",
                    scientific: "Erysiphe spp.",
                    emoji: "ü•í‚ùÑÔ∏è",
                    cropType: "vegetable",
                    crop: "Cucurbits",
                    description: "White powdery spots on leaves, stems. Stunts growth, reduces photosynthesis.",
                    treatment: "Sulfur or potassium bicarbonate sprays. Improve air circulation. Resistant varieties."
                },
                {
                    name: "Citrus Canker",
                    scientific: "Xanthomonas citri",
                    emoji: "üçäüß°",
                    cropType: "fruit",
                    crop: "Citrus",
                    description: "Raised corky lesions on fruit, leaves, stems. Causes premature fruit drop.",
                    treatment: "Copper bactericides. Remove infected debris. Strict quarantine; windbreaks help."
                },
                {
                    name: "Rice Blast",
                    scientific: "Magnaporthe oryzae",
                    emoji: "üçöüî•",
                    cropType: "cereal",
                    crop: "Rice",
                    description: "Diamond-shaped spots with grey centers. Can kill seedlings or damage panicles.",
                    treatment: "Use resistant cultivars. Avoid excess nitrogen. Seed treatment with fungicides."
                },
                {
                    name: "Potato Scab",
                    scientific: "Streptomyces scabies",
                    emoji: "ü•îü§é",
                    cropType: "vegetable",
                    crop: "Potato",
                    description: "Rough, corky lesions on tuber surface. Mainly aesthetic but market loss.",
                    treatment: "Maintain soil pH 5.2‚Äì5.5. Use certified seed. Rotate with non-hosts."
                },
                {
                    name: "Grape Downy Mildew",
                    scientific: "Plasmopara viticola",
                    emoji: "üçáüíß",
                    cropType: "fruit",
                    crop: "Grape",
                    description: "Yellow spots on leaves, white downy growth. Berries shrivel.",
                    treatment: "Copper fungicides, phosphonates. Good canopy management. Remove leaves near fruit."
                },
                {
                    name: "Bean Rust",
                    scientific: "Uromyces appendiculatus",
                    emoji: "ü´òüß°",
                    cropType: "legume",
                    crop: "Common bean",
                    description: "Reddish-brown pustules on leaves. Premature defoliation.",
                    treatment: "Resistant varieties. Sulfur or fungicide sprays. 3-year rotation."
                },
                {
                    name: "Peach Leaf Curl",
                    scientific: "Taphrina deformans",
                    emoji: "üçëüåÄ",
                    cropType: "fruit",
                    crop: "Peach",
                    description: "Distorted, reddened curled leaves. Severe defoliation, fruit drop.",
                    treatment: "Dormant copper or lime sulfur spray before bud swell. Remove infected leaves."
                },
                {
                    name: "Soybean Rust",
                    scientific: "Phakopsora pachyrhizi",
                    emoji: "ü´ò‚ö°",
                    cropType: "legume",
                    crop: "Soybean",
                    description: "Small brown lesions on lower leaves. Rapid defoliation. Devastating.",
                    treatment: "Early fungicide application (triazoles + strobilurins). Resistant cultivars."
                },
                {
                    name: "Banana Sigatoka",
                    scientific: "Mycosphaerella spp.",
                    emoji: "üçåüçÉ",
                    cropType: "fruit",
                    crop: "Banana",
                    description: "Dark leaf spots with grey centers. Reduces photosynthetic area.",
                    treatment: "Oil-based fungicides, systemic fungicides. Remove affected leaves."
                },
                {
                    name: "Downy Mildew (Brassica)",
                    scientific: "Hyaloperonospora parasitica",
                    emoji: "ü•¶üåßÔ∏è",
                    cropType: "vegetable",
                    crop: "Cabbage, broccoli",
                    description: "Yellow patches on leaves, white mold underneath. Seedlings rot.",
                    treatment: "Resistant varieties. Avoid overhead water. Metalaxyl fungicides."
                }
            ];

            // reference to elements
            const grid = document.getElementById('diseaseGrid');
            const searchInput = document.getElementById('searchInput');
            const filterChips = document.querySelectorAll('.chip');
            const resultCountSpan = document.getElementById('resultCount');

            // state
            let activeFilter = 'all';       // 'all', 'cereal', 'vegetable', 'fruit', 'legume'
            let searchTerm = '';

            // ---- render function ----
            function renderCards() {
                const lowerSearch = searchTerm.trim().toLowerCase();

                // filter by both cropType and search
                const filtered = diseaseDB.filter(disease => {
                    // filter by crop type
                    if (activeFilter !== 'all' && disease.cropType !== activeFilter) return false;

                    // search in name, scientific, crop, description
                    if (lowerSearch !== '') {
                        return disease.name.toLowerCase().includes(lowerSearch) ||
                               disease.scientific.toLowerCase().includes(lowerSearch) ||
                               disease.crop.toLowerCase().includes(lowerSearch) ||
                               disease.description.toLowerCase().includes(lowerSearch) ||
                               (disease.treatment && disease.treatment.toLowerCase().includes(lowerSearch));
                    }
                    return true;
                });

                // update result count
                resultCountSpan.innerText = filtered.length + (filtered.length === 1 ? ' disease' : ' diseases');

                if (filtered.length === 0) {
                    grid.innerHTML = `<div class="empty-state">üåø No matching diseases. try another keyword?</div>`;
                    return;
                }

                // generate cards
                let htmlString = '';
                filtered.forEach(d => {
                    // treatment short
                    const treatmentShort = d.treatment.length > 80 ? d.treatment.substring(0, 80) + '‚Ä¶' : d.treatment;
                    // crop type badge label
                    let typeLabel = d.cropType;
                    if (d.cropType === 'cereal') typeLabel = 'üåæ cereal';
                    else if (d.cropType === 'vegetable') typeLabel = 'ü•¨ vegetable';
                    else if (d.cropType === 'fruit') typeLabel = 'üçé fruit';
                    else if (d.cropType === 'legume') typeLabel = 'ü´ò legume';

                    htmlString += `
                        <div class="disease-card">
                            <div class="card-header">
                                <span class="disease-emoji">${d.emoji}</span>
                                <div>
                                    <div class="disease-name">${d.name}</div>
                                    <div class="scientific-name">${d.scientific}</div>
                                </div>
                            </div>
                            <div class="crop-type-badge">${typeLabel} ¬∑ ${d.crop}</div>
                            <div class="disease-desc">${d.description}</div>
                            <div class="treatment-section">
                                <div class="treatment-label"><span>üíä treatment</span></div>
                                <div class="treatment-text">${treatmentShort}</div>
                            </div>
                            <div class="card-footer">
                                <span>ü™¥ click for details</span> 
                                <span style="font-size:1.2rem;">üîç</span>
                            </div>
                        </div>
                    `;
                });

                grid.innerHTML = htmlString;
            }

            // initial render
            renderCards();

            // ---- search input handler ----
            searchInput.addEventListener('input', (e) => {
                searchTerm = e.target.value;
                renderCards();
            });

            // ---- chip filter handler ----
            filterChips.forEach(chip => {
                chip.addEventListener('click', () => {
                    // remove active class from all chips
                    filterChips.forEach(c => c.classList.remove('active'));
                    chip.classList.add('active');

                    // set filter
                    const filterValue = chip.getAttribute('data-filter');
                    activeFilter = filterValue;   // 'all', 'cereal', etc.

                    renderCards();
                });
            });

            // optional: reset chips when search changes? we keep filter independent.

            // ----- simulate detail on card click (expand later) just for show -----
            // we add a small delegation to show full treatment in console, but we can also enhance UI with alert?
            // but that may be intrusive. we can add a click that shows full info in a friendly way.
            grid.addEventListener('click', (e) => {
                // find if click inside card
                const card = e.target.closest('.disease-card');
                if (!card) return;

                // find disease name from card (crude but okay for demo)
                const nameElem = card.querySelector('.disease-name');
                if (!nameElem) return;
                const diseaseName = nameElem.innerText;
                const disease = diseaseDB.find(d => d.name === diseaseName);
                if (disease) {
                    alert(`üå± ${disease.name} (${disease.scientific})\n\nCrop: ${disease.crop}\n\nTreatment: ${disease.treatment}`);
                }
            });

            // bonus: clear search with escape key? not needed.
        })();
    </script>
</body>
</html>