<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pastel Challenge Generator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 700px;
            background-color: #fff;
            border-radius: 30px;
            box-shadow: 0 15px 40px rgba(173, 189, 219, 0.25);
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.8);
        }

        header {
            background: linear-gradient(to right, #a8edea 0%, #fed6e3 100%);
            color: #5a6782;
            padding: 35px 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header-decoration {
            position: absolute;
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            top: -80px;
            right: -80px;
        }

        .header-decoration:nth-child(2) {
            width: 150px;
            height: 150px;
            top: -40px;
            left: -40px;
            background: rgba(255, 255, 255, 0.15);
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 12px;
            font-weight: 800;
            position: relative;
        }

        header p {
            font-size: 1.15rem;
            opacity: 0.9;
            max-width: 500px;
            margin: 0 auto;
            line-height: 1.5;
            position: relative;
        }

        .content {
            padding: 40px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .challenge-display {
            background: linear-gradient(145deg, #ffffff, #f5f9ff);
            border-radius: 24px;
            box-shadow: 8px 8px 20px rgba(206, 212, 225, 0.3),
                        -8px -8px 20px rgba(255, 255, 255, 0.8);
            padding: 45px 35px;
            width: 100%;
            text-align: center;
            margin-bottom: 40px;
            transition: all 0.4s ease;
            border: 1px solid rgba(255, 255, 255, 0.9);
            position: relative;
            overflow: hidden;
        }

        .challenge-display:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: linear-gradient(to right, #a8edea, #fed6e3, #d4c1ff);
        }

        .challenge-icon {
            font-size: 4.5rem;
            margin-bottom: 25px;
            color: #89c4f4;
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            filter: drop-shadow(0 5px 10px rgba(137, 196, 244, 0.2));
        }

        .challenge-text {
            font-size: 1.8rem;
            color: #5a6782;
            margin-bottom: 25px;
            line-height: 1.4;
            min-height: 85px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        .challenge-duration {
            font-size: 1.1rem;
            color: #89c4f4;
            background-color: rgba(137, 196, 244, 0.1);
            padding: 10px 20px;
            border-radius: 50px;
            display: inline-block;
            margin-top: 15px;
            font-weight: 600;
            border: 1px solid rgba(137, 196, 244, 0.2);
        }

        .main-button {
            background: linear-gradient(to right, #a8edea, #fed6e3);
            color: #5a6782;
            border: none;
            padding: 22px 50px;
            font-size: 1.4rem;
            font-weight: 700;
            border-radius: 60px;
            cursor: pointer;
            transition: all 0.4s ease;
            box-shadow: 0 8px 25px rgba(168, 237, 234, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            width: 100%;
            max-width: 400px;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .main-button:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to right, #fed6e3, #a8edea);
            z-index: -1;
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .main-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(168, 237, 234, 0.5);
        }

        .main-button:hover:before {
            opacity: 1;
        }

        .main-button:active {
            transform: translateY(0);
        }

        .main-button.completed {
            background: linear-gradient(to right, #c5f9d7, #a8edea);
            box-shadow: 0 8px 25px rgba(197, 249, 215, 0.4);
        }

        .progress-section {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
            width: 100%;
            max-width: 500px;
        }

        .progress-item {
            text-align: center;
            background: rgba(255, 255, 255, 0.7);
            padding: 20px;
            border-radius: 20px;
            flex: 1;
            box-shadow: 5px 5px 15px rgba(206, 212, 225, 0.2),
                       -5px -5px 15px rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.9);
        }

        .progress-value {
            font-size: 2.5rem;
            color: #89c4f4;
            font-weight: 800;
            line-height: 1;
        }

        .progress-label {
            font-size: 0.95rem;
            margin-top: 10px;
            color: #8a9bb2;
            font-weight: 600;
        }

        .encouragement {
            font-size: 1.3rem;
            color: #89c4f4;
            margin-top: 25px;
            font-weight: 700;
            text-align: center;
            min-height: 35px;
            transition: all 0.3s ease;
            padding: 15px 25px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 15px;
            width: 100%;
            max-width: 500px;
            box-shadow: inset 2px 2px 5px rgba(206, 212, 225, 0.2),
                       inset -2px -2px 5px rgba(255, 255, 255, 0.8);
        }

        footer {
            text-align: center;
            padding: 25px;
            color: #8a9bb2;
            font-size: 0.95rem;
            border-top: 1px solid rgba(230, 236, 245, 0.8);
            background: rgba(248, 250, 255, 0.5);
        }

        .animation-container {
            height: 110px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
        }

        @media (max-width: 768px) {
            .content {
                padding: 30px 20px;
            }
            
            .challenge-display {
                padding: 30px 20px;
            }
            
            .challenge-text {
                font-size: 1.5rem;
            }
            
            header h1 {
                font-size: 2rem;
            }
            
            .progress-section {
                flex-direction: column;
                gap: 15px;
            }
            
            .main-button {
                padding: 20px 30px;
                font-size: 1.2rem;
            }
        }

        /* Animation for new challenge */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.6s ease forwards;
        }

        /* Animation for celebration */
        @keyframes celebrate {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .celebrate {
            animation: celebrate 0.5s ease;
        }

        /* Animation for button pulse */
        @keyframes pulse {
            0% { box-shadow: 0 8px 25px rgba(168, 237, 234, 0.4); }
            50% { box-shadow: 0 8px 30px rgba(168, 237, 234, 0.7); }
            100% { box-shadow: 0 8px 25px rgba(168, 237, 234, 0.4); }
        }

        .pulse {
            animation: pulse 1.5s infinite;
        }

        /* Confetti effect */
        .confetti {
            position: absolute;
            width: 15px;
            height: 15px;
            background-color: #fdcb6e;
            top: 0;
            opacity: 0;
        }

        @keyframes confettiRain {
            0% {
                opacity: 1;
                top: -100px;
                transform: rotate(0deg);
            }
            100% {
                opacity: 0;
                top: 1000px;
                transform: rotate(720deg);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-decoration"></div>
            <div class="header-decoration"></div>
            <h1><i class="fas fa-spa"></i> Pastel Challenges</h1>
            <p>Take a gentle break with a small, achievable challenge to refresh your day</p>
        </header>
        
        <div class="content">
            <div class="challenge-display">
                <div class="animation-container">
                    <div class="challenge-icon" id="challengeIcon">
                        <i class="fas fa-heart"></i>
                    </div>
                </div>
                <div class="challenge-text" id="challengeText">
                    Ready for your first gentle challenge?
                </div>
                <div class="challenge-duration" id="challengeDuration">Takes just a moment</div>
            </div>
            
            <button class="main-button pulse" id="mainButton">
                <i class="fas fa-play-circle"></i> Start Your First Challenge
            </button>
            
            <div class="encouragement" id="encouragement">
                Every small step makes a difference!
            </div>
            
            <div class="progress-section">
                <div class="progress-item">
                    <div class="progress-value" id="challengeCount">0</div>
                    <div class="progress-label">Challenges Done</div>
                </div>
                <div class="progress-item">
                    <div class="progress-value" id="streakCount">0</div>
                    <div class="progress-label">Day Streak</div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Take gentle breaks, refresh your mind &bull; Made with <i class="fas fa-heart" style="color:#fed6e3;"></i></p>
        </footer>
    </div>

    <script>
        // Challenge database with pastel-themed activities
        const challenges = [
            { 
                text: "Take three slow, deep breaths and notice the air filling your lungs", 
                icon: "fas fa-wind",
                duration: "1 minute",
                category: "mindfulness"
            },
            { 
                text: "Gently stretch your arms overhead like you're reaching for soft clouds", 
                icon: "fas fa-cloud",
                duration: "30 seconds",
                category: "stretching"
            },
            { 
                text: "Sip a glass of water while looking out a window", 
                icon: "fas fa-tint",
                duration: "1 minute",
                category: "health"
            },
            { 
                text: "Look at something green for 20 seconds to rest your eyes", 
                icon: "fas fa-leaf",
                duration: "20 seconds",
                category: "eye care"
            },
            { 
                text: "Roll your shoulders gently five times forward and backward", 
                icon: "fas fa-sync-alt",
                duration: "1 minute",
                category: "stretching"
            },
            { 
                text: "Think of one small thing you're thankful for today", 
                icon: "fas fa-star",
                duration: "30 seconds",
                category: "mindfulness"
            },
            { 
                text: "Walk slowly around your space, noticing three things you haven't seen today", 
                icon: "fas fa-feather-alt",
                duration: "2 minutes",
                category: "movement"
            },
            { 
                text: "Close your eyes and listen to the quietest sound you can hear", 
                icon: "fas fa-volume-off",
                duration: "30 seconds",
                category: "mindfulness"
            },
            { 
                text: "Gently massage your own hands for one minute", 
                icon: "fas fa-hand-holding-heart",
                duration: "1 minute",
                category: "self-care"
            },
            { 
                text: "Smile softly to yourself, just because you can", 
                icon: "fas fa-smile-beam",
                duration: "15 seconds",
                category: "mindfulness"
            },
            { 
                text: "Write down one kind thing you can do for yourself today", 
                icon: "fas fa-pen-fancy",
                duration: "1 minute",
                category: "self-care"
            },
            { 
                text: "Stand up and gently twist your torso from side to side", 
                icon: "fas fa-redo",
                duration: "45 seconds",
                category: "stretching"
            },
            { 
                text: "Place your hand on your heart and take a calming breath", 
                icon: "fas fa-heartbeat",
                duration: "30 seconds",
                category: "mindfulness"
            },
            { 
                text: "Hum a soothing tune for 20 seconds", 
                icon: "fas fa-music",
                duration: "20 seconds",
                category: "fun"
            },
            { 
                text: "Gently roll your head in a half-circle from shoulder to shoulder", 
                icon: "fas fa-moon",
                duration: "1 minute",
                category: "stretching"
            }
        ];

        // Encouragement messages
        const encouragements = [
            "You're doing beautifully!",
            "Gentle steps create lasting change",
            "So proud of you for taking this moment",
            "Your well-being matters every day",
            "This small act is a gift to yourself",
            "You're creating positive patterns",
            "Every gentle break adds up",
            "You're worth this moment of care",
            "Beautiful job prioritizing yourself",
            "Your consistency is inspiring"
        ];

        // Completion messages
        const completionMessages = [
            "Lovely! Challenge completed with grace",
            "Wonderful! You're nurturing yourself",
            "Beautifully done! Take a moment to feel proud",
            "Excellent! You've honored your needs",
            "Fantastic! You're building healthy rhythms",
            "Well done! Your consistency shines",
            "Perfect! You're creating space for joy",
            "Amazing! You've gifted yourself this moment",
            "Excellent! You're cultivating self-care",
            "Beautiful! You've completed another gentle challenge"
        ];

        // App state
        let challengeCount = 0;
        let streakCount = 0;
        let currentChallenge = null;
        let lastCompletionDate = null;
        let buttonState = "start"; // "start", "done", or "next"
        
        // DOM elements
        const challengeText = document.getElementById('challengeText');
        const challengeIcon = document.getElementById('challengeIcon');
        const challengeDuration = document.getElementById('challengeDuration');
        const mainButton = document.getElementById('mainButton');
        const encouragement = document.getElementById('encouragement');
        const challengeCountElement = document.getElementById('challengeCount');
        const streakCountElement = document.getElementById('streakCount');
        
        // Initialize the app
        function initApp() {
            // Load saved state from localStorage
            const savedState = localStorage.getItem('pastelChallengeState');
            if (savedState) {
                const state = JSON.parse(savedState);
                challengeCount = state.challengeCount || 0;
                streakCount = state.streakCount || 0;
                lastCompletionDate = state.lastCompletionDate || null;
                
                // Update counters
                challengeCountElement.textContent = challengeCount;
                streakCountElement.textContent = streakCount;
                
                // Check if streak should continue
                checkStreak();
                
                // Set initial button state
                buttonState = challengeCount === 0 ? "start" : "next";
                updateButton();
            }
            
            // Set up event listeners
            mainButton.addEventListener('click', handleMainButtonClick);
            
            // Show a random encouragement message
            showRandomEncouragement();
        }
        
        // Handle main button click
        function handleMainButtonClick() {
            if (buttonState === "start" || buttonState === "next") {
                generateNewChallenge();
                buttonState = "done";
                updateButton();
            } else if (buttonState === "done") {
                completeChallenge();
                buttonState = "next";
                updateButton();
            }
        }
        
        // Update button text and icon based on state
        function updateButton() {
            if (buttonState === "start") {
                mainButton.innerHTML = '<i class="fas fa-play-circle"></i> Start Your First Challenge';
                mainButton.classList.remove('completed');
                mainButton.classList.add('pulse');
            } else if (buttonState === "done") {
                mainButton.innerHTML = '<i class="fas fa-check-circle"></i> Mark as Completed';
                mainButton.classList.remove('pulse');
                mainButton.classList.add('completed');
            } else if (buttonState === "next") {
                mainButton.innerHTML = '<i class="fas fa-forward"></i> Next Gentle Challenge';
                mainButton.classList.remove('completed');
                mainButton.classList.remove('pulse');
            }
        }
        
        // Generate a new random challenge
        function generateNewChallenge() {
            // Get a random challenge that's not the current one
            let newChallenge;
            do {
                newChallenge = challenges[Math.floor(Math.random() * challenges.length)];
            } while (currentChallenge && newChallenge.text === currentChallenge.text);
            
            currentChallenge = newChallenge;
            
            // Update the display with fade-in animation
            challengeIcon.innerHTML = `<i class="${newChallenge.icon}"></i>`;
            challengeText.textContent = newChallenge.text;
            challengeDuration.textContent = `Takes about ${newChallenge.duration}`;
            
            // Add animation class
            challengeText.classList.remove('fade-in');
            challengeIcon.classList.remove('fade-in');
            void challengeText.offsetWidth; // Trigger reflow
            challengeText.classList.add('fade-in');
            challengeIcon.classList.add('fade-in');
            
            // Show a random encouragement message
            showRandomEncouragement();
        }
        
        // Complete the current challenge
        function completeChallenge() {
            if (!currentChallenge) return;
            
            // Update challenge count
            challengeCount++;
            challengeCountElement.textContent = challengeCount;
            
            // Update streak
            updateStreak();
            
            // Show celebration animation
            document.querySelector('.challenge-display').classList.add('celebrate');
            
            // Show completion message
            const randomCompletion = completionMessages[Math.floor(Math.random() * completionMessages.length)];
            encouragement.textContent = randomCompletion;
            encouragement.style.color = "#8ecc7d";
            
            // Create confetti effect
            createConfetti();
            
            // Save state
            saveState();
            
            // Remove celebration class after animation
            setTimeout(() => {
                document.querySelector('.challenge-display').classList.remove('celebrate');
            }, 500);
        }
        
        // Update streak counter
        function updateStreak() {
            const today = new Date().toDateString();
            
            // If this is the first completion ever
            if (!lastCompletionDate) {
                streakCount = 1;
            } 
            // If last completion was yesterday
            else if (isYesterday(lastCompletionDate)) {
                streakCount++;
            }
            // If last completion was today, don't increase streak
            else if (lastCompletionDate !== today) {
                // If last completion wasn't yesterday, reset streak
                streakCount = 1;
            }
            
            // Update last completion date
            lastCompletionDate = today;
            
            // Update display
            streakCountElement.textContent = streakCount;
        }
        
        // Check if we need to reset streak (if user missed a day)
        function checkStreak() {
            if (!lastCompletionDate) return;
            
            const today = new Date().toDateString();
            const lastDate = new Date(lastCompletionDate);
            const todayDate = new Date(today);
            
            // Calculate difference in days
            const diffTime = Math.abs(todayDate - lastDate);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            
            // If last completion was more than 1 day ago (and not today), reset streak
            if (diffDays > 1 && lastCompletionDate !== today) {
                streakCount = 0;
                streakCountElement.textContent = streakCount;
            }
        }
        
        // Helper function to check if a date string is yesterday
        function isYesterday(dateString) {
            const yesterday = new Date();
            yesterday.setDate(yesterday.getDate() - 1);
            return yesterday.toDateString() === dateString;
        }
        
        // Show a random encouragement message
        function showRandomEncouragement() {
            const randomEncouragement = encouragements[Math.floor(Math.random() * encouragements.length)];
            encouragement.textContent = randomEncouragement;
            encouragement.style.color = "#89c4f4";
        }
        
        // Create confetti effect
        function createConfetti() {
            const container = document.querySelector('.challenge-display');
            const colors = ['#a8edea', '#fed6e3', '#d4c1ff', '#89c4f4', '#c5f9d7'];
            
            for (let i = 0; i < 20; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.width = Math.random() * 10 + 8 + 'px';
                confetti.style.height = confetti.style.width;
                confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                
                container.appendChild(confetti);
                
                // Animation
                confetti.style.animation = `confettiRain ${Math.random() * 1 + 0.5}s linear forwards`;
                
                // Remove confetti after animation
                setTimeout(() => {
                    confetti.remove();
                }, 1500);
            }
        }
        
        // Save app state to localStorage
        function saveState() {
            const state = {
                challengeCount,
                streakCount,
                lastCompletionDate
            };
            localStorage.setItem('pastelChallengeState', JSON.stringify(state));
        }
        
        // Initialize the app when the page loads
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>