<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    text

    <!-- Primary Meta Tags -->
    <title>ColorKit Pro - Free Color Converter | HEX to RGB, RGBA, HSL, CMYK Online Tool</title>
    <meta name="title" content="ColorKit Pro - Free Color Converter | HEX to RGB, RGBA, HSL, CMYK Online Tool">
    <meta name="description"
        content="Free online HEX to RGBA converter by oathanrex. Convert colors between HEX, RGB, RGBA, HSL, HSLA, HSV, CMYK formats instantly. Generate color palettes, CSS gradients, and check WCAG contrast accessibility.">
    <meta name="keywords"
        content="hex2rgba, hex to rgba, hex to rgb, rgb to hex, color converter, rgba converter, color picker, hsl converter, cmyk converter, color palette generator, gradient generator, wcag contrast checker, css color tool, web design tool, oathanrex">
    <meta name="author" content="oathanrex">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <meta name="revisit-after" content="7 days">
    <meta name="generator" content="HEX2RGBA v3.0">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://oathanrex.github.io/hex2rgba/">
    <meta property="og:title" content="ColorKit Pro - Free Color Converter | HEX to RGB, RGBA, HSL, CMYK">
    <meta property="og:description"
        content="Free online color converter by oathanrex. Convert HEX, RGB, RGBA, HSL, HSV, CMYK colors instantly. Generate palettes, gradients & check WCAG contrast.">
    <meta property="og:image" content="https://oathanrex.github.io/hex2rgba/og-image.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="ColorKit Pro Color Converter Tool Preview">
    <meta property="og:site_name" content="ColorKit Pro by oathanrex">
    <meta property="og:locale" content="en_US">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://oathanrex.github.io/hex2rgba/">
    <meta name="twitter:title" content="ColorKit Pro - Free Color Converter Tool">
    <meta name="twitter:description"
        content="Convert colors between HEX, RGB, RGBA, HSL, CMYK formats. Generate palettes & check contrast accessibility. By oathanrex.">
    <meta name="twitter:image" content="https://oathanrex.github.io/hex2rgba/og-image.png">
    <meta name="twitter:creator" content="@oathanrex">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://oathanrex.github.io/hex2rgba/">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Ccircle cx='24' cy='24' r='20' stroke='%234a9eff' stroke-width='3' fill='none'/%3E%3Ccircle cx='24' cy='14' r='6' fill='%23ea4335'/%3E%3Ccircle cx='15' cy='29' r='6' fill='%2334a853'/%3E%3Ccircle cx='33' cy='29' r='6' fill='%234a9eff'/%3E%3C/svg%3E">
    <link rel="apple-touch-icon"
        href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Ccircle cx='24' cy='24' r='20' stroke='%234a9eff' stroke-width='3' fill='none'/%3E%3Ccircle cx='24' cy='14' r='6' fill='%23ea4335'/%3E%3Ccircle cx='15' cy='29' r='6' fill='%2334a853'/%3E%3Ccircle cx='33' cy='29' r='6' fill='%234a9eff'/%3E%3C/svg%3E">

    <!-- Theme Color -->
    <meta name="theme-color" content="#0a0a0a">
    <meta name="msapplication-TileColor" content="#0a0a0a">

    <!-- Structured Data - JSON-LD -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "HEX2RGBA",
      "alternateName": "HEX to RGBA Converter",
      "description": "Free online HEX to RGBA color converter tool by oathanrex. Convert colors between HEX, RGB, RGBA, HSL, HSLA, HSV, CMYK formats instantly.",
      "url": "https://oathanrex.github.io/hex2rgba/",
      "applicationCategory": "DesignApplication",
      "operatingSystem": "Any",
      "browserRequirements": "Requires JavaScript",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "featureList": [
        "HEX to RGB Converter",
        "HEX to RGBA Converter",
        "RGB to HEX Converter",
        "HSL Color Converter",
        "CMYK Color Converter",
        "Color Palette Generator",
        "CSS Gradient Generator",
        "WCAG Contrast Checker",
        "Color History"
      ],
      "screenshot": "https://oathanrex.github.io/hex2rgba/screenshot.png",
      "softwareVersion": "3.0",
      "author": {
        "@type": "Person",
        "name": "oathanrex",
        "url": "https://github.com/oathanrex",
        "sameAs": [
          "https://github.com/oathanrex"
        ]
      },
      "publisher": {
        "@type": "Person",
        "name": "oathanrex",
        "url": "https://github.com/oathanrex"
      },
      "datePublished": "2024-01-01",
      "dateModified": "2024-12-01",
      "inLanguage": "en-US",
      "isAccessibleForFree": true,
      "license": "https://opensource.org/licenses/MIT"
    }
  </script>

    <!-- FAQ Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [{
          "@type": "Question",
          "name": "How to convert HEX to RGBA?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Enter your HEX color code (e.g., #4a9eff) in ColorKit Pro and instantly get the RGBA value. Use the alpha slider to adjust opacity. The tool automatically converts to RGB, RGBA, HSL, HSV, and CMYK formats."
          }
        },
        {
          "@type": "Question",
          "name": "What color formats does HEX2RGBA support?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "HEX2RGBA supports HEX, HEX8 (with alpha), RGB, RGBA, HSL, HSLA, HSV/HSB, CMYK, and CSS Variables. You can also use color names like 'red', 'blue', 'coral', etc."
          }
        },
        {
          "@type": "Question",
          "name": "Is HEX2RGBA free to use?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes, HEX2RGBA is completely free to use. No registration required. All features including color conversion, palette generation, gradient creator, and contrast checker are available at no cost."
          }
        },
        {
          "@type": "Question",
          "name": "Who created ColorKit Pro?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "ColorKit Pro was created by oathanrex. You can find more projects at github.com/oathanrex."
          }
        }
      ]
    }
  </script>

    <!-- BreadcrumbList Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [{
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://oathanrex.github.io/"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "HEX2RGBA",
          "item": "https://oathanrex.github.io/hex2rgba/"
        }
      ]
    }
  </script>

    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",
                "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
            background: #0a0a0a;
            color: #e0e0e0;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            min-height: 100vh;
        }

        a {
            color: #4a9eff;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        /* Animated background */
        .animated-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            overflow: hidden;
            pointer-events: none;
        }

        .gradient-orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.5;
        }

        .orb-1 {
            width: 500px;
            height: 500px;
            background: radial-gradient(circle, rgba(30, 144, 255, 0.4) 0%, transparent 70%);
            top: -10%;
            left: -10%;
            animation: float1 20s infinite ease-in-out;
        }

        .orb-2 {
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, rgba(251, 188, 5, 0.3) 0%, transparent 70%);
            bottom: -10%;
            right: -10%;
            animation: float2 25s infinite ease-in-out;
        }

        .orb-3 {
            width: 350px;
            height: 350px;
            background: radial-gradient(circle, rgba(52, 168, 83, 0.3) 0%, transparent 70%);
            top: 40%;
            left: 40%;
            animation: float3 22s infinite ease-in-out;
        }

        .orb-4 {
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, rgba(234, 67, 53, 0.3) 0%, transparent 70%);
            top: 20%;
            right: 20%;
            animation: float4 18s infinite ease-in-out;
        }

        @keyframes float1 {

            0%,
            100% {
                transform: translate(0, 0) scale(1);
            }

            33% {
                transform: translate(30px, -30px) scale(1.1);
            }

            66% {
                transform: translate(-20px, 20px) scale(0.9);
            }
        }

        @keyframes float2 {

            0%,
            100% {
                transform: translate(0, 0) scale(1);
            }

            33% {
                transform: translate(-40px, -20px) scale(1.05);
            }

            66% {
                transform: translate(30px, 30px) scale(0.95);
            }
        }

        @keyframes float3 {

            0%,
            100% {
                transform: translate(0, 0) scale(1);
            }

            33% {
                transform: translate(20px, 40px) scale(1.1);
            }

            66% {
                transform: translate(-30px, -20px) scale(0.9);
            }
        }

        @keyframes float4 {

            0%,
            100% {
                transform: translate(0, 0) scale(1);
            }

            33% {
                transform: translate(-20px, 30px) scale(0.95);
            }

            66% {
                transform: translate(40px, -10px) scale(1.05);
            }
        }

        /* Main Container */
        .main-container {
            position: relative;
            z-index: 1;
            padding: 2rem;
            max-width: 900px;
            margin: 0 auto;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 2rem;
            animation: fadeInUp 0.8s ease-out;
        }

        .logo-container {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.5rem;
        }

        .logo-icon {
            width: 42px;
            height: 42px;
        }

        .main-title {
            font-size: 2rem;
            font-weight: 600;
            background: linear-gradient(135deg, #1e90ff 0%, #4a9eff 50%, #fbbc05 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.02em;
        }

        .subtitle {
            color: #909090;
            font-size: 0.95rem;
            margin-top: 0.25rem;
        }

        .preview-pill {
            display: inline-block;
            background-color: rgba(128, 128, 128, 0.2);
            border-radius: 0.375rem;
            padding: 0.25rem 0.5rem;
            font-size: 0.75rem;
            color: #a0a0a0;
            margin-left: 0.5rem;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Glass Card */
        .glass-card {
            background: rgba(20, 20, 20, 0.7);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 1.5rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            animation: fadeInUp 0.8s ease-out;
            margin-bottom: 1.5rem;
        }

        /* Color Preview Section */
        .color-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
        }

        @media (max-width: 700px) {
            .color-section {
                grid-template-columns: 1fr;
            }
        }

        .color-preview-box {
            height: 180px;
            border-radius: 16px;
            background: #4a9eff;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .color-preview-box::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }

        .input-section {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .input-label {
            font-size: 0.85rem;
            color: #a0a0a0;
            font-weight: 500;
        }

        .input-field {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 0.875rem 1rem;
            color: #e0e0e0;
            font-size: 1rem;
            outline: none;
            transition: all 0.2s ease;
            font-family: 'SF Mono', 'Fira Code', monospace;
        }

        .input-field:focus {
            background: rgba(255, 255, 255, 0.08);
            border-color: #4a9eff;
            box-shadow: 0 0 20px rgba(74, 158, 255, 0.2);
        }

        .input-field::placeholder {
            color: #606060;
        }

        /* Slider */
        .slider-container {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .slider-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        input[type="range"] {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: rgba(255, 255, 255, 0.1);
            cursor: pointer;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: linear-gradient(135deg, #1e90ff 0%, #4a9eff 100%);
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(30, 144, 255, 0.5);
            transition: transform 0.2s;
            border: none;
        }

        input[type="range"]::-moz-range-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: linear-gradient(135deg, #1e90ff 0%, #4a9eff 100%);
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(30, 144, 255, 0.5);
            border: none;
        }

        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.1);
        }

        /* Buttons */
        .btn-row {
            display: flex;
            gap: 0.75rem;
        }

        .btn {
            flex: 1;
            padding: 0.875rem 1rem;
            border: none;
            border-radius: 10px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-family: inherit;
        }

        .btn-primary {
            background: linear-gradient(135deg, #1e90ff 0%, #4a9eff 100%);
            color: white;
            box-shadow: 0 2px 8px rgba(30, 144, 255, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(30, 144, 255, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #fbbc05 0%, #f59e0b 100%);
            color: #0a0a0a;
            box-shadow: 0 2px 8px rgba(251, 188, 5, 0.3);
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(251, 188, 5, 0.4);
        }

        .btn:active {
            transform: scale(0.98);
        }

        /* Color Picker Button */
        .color-picker-wrapper {
            position: relative;
            display: block;
        }

        .color-picker-wrapper input[type="color"] {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }

        /* Tabs */
        .tabs-container {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 1.5rem;
        }

        .tab-btn {
            padding: 0.625rem 1rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            background: rgba(20, 20, 20, 0.7);
            color: #a0a0a0;
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-family: inherit;
        }

        .tab-btn:hover {
            background: rgba(255, 255, 255, 0.05);
            color: #e0e0e0;
        }

        .tab-btn.active {
            background: linear-gradient(135deg, #1e90ff 0%, #4a9eff 100%);
            color: white;
            border-color: transparent;
        }

        /* Output Grid */
        .output-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1rem;
        }

        .output-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            padding: 1rem;
            transition: all 0.2s ease;
        }

        .output-card:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(255, 255, 255, 0.12);
        }

        .output-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
        }

        .output-label {
            font-size: 0.8rem;
            color: #808080;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .copy-btn {
            background: linear-gradient(135deg, #34a853 0%, #2d9348 100%);
            border: none;
            border-radius: 6px;
            padding: 0.375rem 0.625rem;
            color: white;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 0.25rem;
            font-family: inherit;
        }

        .copy-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 2px 8px rgba(52, 168, 83, 0.4);
        }

        .copy-btn.copied {
            background: #34a853;
        }

        .output-value {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: 8px;
            padding: 0.75rem;
            font-family: 'SF Mono', 'Fira Code', monospace;
            font-size: 0.9rem;
            color: #e0e0e0;
            word-break: break-all;
        }

        /* Palette Section */
        .palette-section {
            margin-bottom: 1.5rem;
        }

        .palette-section:last-child {
            margin-bottom: 0;
        }

        .section-title {
            font-size: 1rem;
            font-weight: 600;
            color: #ffffff;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .section-title i {
            color: #4a9eff;
        }

        .palette-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .palette-color {
            width: 48px;
            height: 48px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 2px solid transparent;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .palette-color:hover {
            transform: scale(1.15);
            z-index: 10;
            border-color: rgba(255, 255, 255, 0.3);
        }

        /* Gradient Section */
        .gradient-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        @media (max-width: 500px) {
            .gradient-inputs {
                grid-template-columns: 1fr;
            }
        }

        .gradient-preview {
            height: 80px;
            border-radius: 12px;
            margin-bottom: 1rem;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
        }

        /* Contrast Section */
        .contrast-preview {
            border-radius: 12px;
            padding: 2rem;
            text-align: center;
            margin-bottom: 1rem;
        }

        .contrast-preview h2 {
            font-size: 1.75rem;
            margin-bottom: 0.5rem;
        }

        .contrast-preview p {
            font-size: 1rem;
            opacity: 0.9;
        }

        .contrast-results {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
        }

        @media (max-width: 600px) {
            .contrast-results {
                grid-template-columns: 1fr;
            }
        }

        .contrast-result-card {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: 12px;
            padding: 1rem;
            text-align: center;
        }

        .contrast-result-label {
            font-size: 0.8rem;
            color: #808080;
            margin-bottom: 0.5rem;
        }

        .contrast-result-value {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .pass {
            color: #34a853;
        }

        .warn {
            color: #fbbc05;
        }

        .fail {
            color: #ea4335;
        }

        /* History Section */
        .history-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .clear-btn {
            background: rgba(234, 67, 53, 0.15);
            border: 1px solid rgba(234, 67, 53, 0.3);
            border-radius: 8px;
            padding: 0.5rem 1rem;
            color: #ea4335;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: inherit;
        }

        .clear-btn:hover {
            background: rgba(234, 67, 53, 0.25);
        }

        .history-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
        }

        .history-color {
            width: 56px;
            height: 56px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            border: 2px solid transparent;
        }

        .history-color:hover {
            transform: scale(1.1);
            border-color: rgba(255, 255, 255, 0.3);
        }

        .empty-state {
            color: #606060;
            font-size: 0.9rem;
            padding: 2rem;
            text-align: center;
            width: 100%;
        }

        /* Toast */
        .toast-container {
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .toast {
            background: rgba(20, 20, 20, 0.95);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 0.875rem 1.25rem;
            color: #e0e0e0;
            font-size: 0.9rem;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);
            animation: slideIn 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            max-width: 350px;
        }

        .toast.success {
            border-left: 3px solid #34a853;
        }

        .toast.error {
            border-left: 3px solid #ea4335;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .toast.fade-out {
            animation: fadeOut 0.3s ease forwards;
        }

        @keyframes fadeOut {
            from {
                opacity: 1;
                transform: translateX(0);
            }

            to {
                opacity: 0;
                transform: translateX(100%);
            }
        }

        /* Hidden */
        .hidden {
            display: none !important;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 2rem;
            color: #606060;
            font-size: 0.85rem;
        }

        .footer a {
            color: #4a9eff;
        }

        /* Select */
        select.input-field {
            cursor: pointer;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23a0a0a0' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 1rem center;
            padding-right: 2.5rem;
        }

        select.input-field option {
            background: #1a1a1a;
            color: #e0e0e0;
        }

        /* Mobile responsive adjustments */
        @media (max-width: 480px) {
            .main-container {
                padding: 1rem;
            }

            .glass-card {
                padding: 1rem;
                border-radius: 16px;
            }

            .main-title {
                font-size: 1.5rem;
            }

            .output-grid {
                grid-template-columns: 1fr;
            }

            .tabs-container {
                gap: 0.375rem;
            }

            .tab-btn {
                padding: 0.5rem 0.75rem;
                font-size: 0.8rem;
            }
        }
    </style>
</head>

<body>
    <!-- Animated Background -->
    <div class="animated-background">
        <div class="gradient-orb orb-1"></div>
        <div class="gradient-orb orb-2"></div>
        <div class="gradient-orb orb-3"></div>
        <div class="gradient-orb orb-4"></div>
    </div>
    text

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Main Container -->
    <main class="main-container" role="main">
        <!-- Header -->
        <header class="header" role="banner">
            <div class="logo-container">
                <svg class="logo-icon" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"
                    aria-hidden="true">
                    <circle cx="24" cy="24" r="20" stroke="url(#grad1)" stroke-width="3" fill="none" />
                    <circle cx="24" cy="14" r="6" fill="#ea4335" />
                    <circle cx="15" cy="29" r="6" fill="#34a853" />
                    <circle cx="33" cy="29" r="6" fill="#4a9eff" />
                    <defs>
                        <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#1e90ff" />
                            <stop offset="50%" stop-color="#4a9eff" />
                            <stop offset="100%" stop-color="#fbbc05" />
                        </linearGradient>
                    </defs>
                </svg>
                <h1 class="main-title">ColorKit Pro</h1>
                <span class="preview-pill">v3.0</span>
            </div>
            <p class="subtitle">Free Color Converter by <a href="https://github.com/oathanrex" target="_blank"
                    rel="noopener">oathanrex</a> — HEX • RGB • RGBA • HSL • CMYK</p>
        </header>

        <!-- Color Input Section -->
        <div class="glass-card">
            <div class="color-section">
                <div>
                    <div class="color-preview-box" id="colorPreview"></div>
                    <div class="color-picker-wrapper" style="margin-top: 1rem;">
                        <input type="color" id="nativeColorPicker" value="#4a9eff">
                        <button class="btn btn-primary" style="width: 100%;" type="button">
                            <i class="fas fa-eye-dropper"></i> Pick Color
                        </button>
                    </div>
                </div>
                <div class="input-section">
                    <div class="input-group">
                        <label class="input-label" for="colorInput">Enter Color Value</label>
                        <input type="text" id="colorInput" class="input-field"
                            placeholder="#4a9eff, rgb(74,158,255), or red" value="#4a9eff">
                    </div>
                    <div class="slider-container">
                        <div class="slider-header">
                            <label class="input-label" for="alphaSlider">Alpha (Opacity)</label>
                            <span class="input-label" id="alphaValue">100%</span>
                        </div>
                        <input type="range" id="alphaSlider" min="0" max="100" value="100">
                    </div>
                    <div class="btn-row">
                        <button class="btn btn-primary" id="convertBtn" type="button">
                            <i class="fas fa-sync-alt"></i> Convert
                        </button>
                        <button class="btn btn-secondary" id="randomBtn" type="button">
                            <i class="fas fa-random"></i> Random
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tabs -->
        <div class="tabs-container" id="tabsContainer">
            <button class="tab-btn active" data-tab="formats" type="button">
                <i class="fas fa-palette"></i> Formats
            </button>
            <button class="tab-btn" data-tab="palette" type="button">
                <i class="fas fa-swatchbook"></i> Palette
            </button>
            <button class="tab-btn" data-tab="gradient" type="button">
                <i class="fas fa-fill-drip"></i> Gradient
            </button>
            <button class="tab-btn" data-tab="contrast" type="button">
                <i class="fas fa-adjust"></i> Contrast
            </button>
            <button class="tab-btn" data-tab="history" type="button">
                <i class="fas fa-history"></i> History
            </button>
        </div>

        <!-- Formats Tab -->
        <div id="formats-tab" class="tab-content glass-card">
            <div class="output-grid" id="outputGrid"></div>
        </div>

        <!-- Palette Tab -->
        <div id="palette-tab" class="tab-content glass-card hidden">
            <div class="palette-section">
                <h3 class="section-title"><i class="fas fa-sun"></i> Shades & Tints</h3>
                <div class="palette-grid" id="shadesContainer"></div>
            </div>
            <div class="palette-section">
                <h3 class="section-title"><i class="fas fa-circle-notch"></i> Complementary</h3>
                <div class="palette-grid" id="complementaryContainer"></div>
            </div>
            <div class="palette-section">
                <h3 class="section-title"><i class="fas fa-sliders-h"></i> Analogous</h3>
                <div class="palette-grid" id="analogousContainer"></div>
            </div>
            <div class="palette-section">
                <h3 class="section-title"><i class="fas fa-shapes"></i> Triadic</h3>
                <div class="palette-grid" id="triadicContainer"></div>
            </div>
        </div>

        <!-- Gradient Tab -->
        <div id="gradient-tab" class="tab-content glass-card hidden">
            <h3 class="section-title"><i class="fas fa-fill-drip"></i> Gradient Generator</h3>
            <div class="gradient-inputs">
                <div class="input-group">
                    <label class="input-label" for="gradientColor1">Color 1</label>
                    <input type="text" id="gradientColor1" class="input-field" value="#4a9eff">
                </div>
                <div class="input-group">
                    <label class="input-label" for="gradientColor2">Color 2</label>
                    <input type="text" id="gradientColor2" class="input-field" value="#ea4335">
                </div>
            </div>
            <button class="btn btn-primary" id="swapGradient" type="button" style="margin-bottom: 1rem; width: 100%;">
                <i class="fas fa-exchange-alt"></i> Swap Colors
            </button>
            <div class="input-group" style="margin-bottom: 1rem;">
                <label class="input-label" for="gradientDirection">Direction</label>
                <select id="gradientDirection" class="input-field">
                    <option value="to right">Left → Right</option>
                    <option value="to left">Right → Left</option>
                    <option value="to bottom">Top → Bottom</option>
                    <option value="to top">Bottom → Top</option>
                    <option value="to bottom right">Diagonal ↘</option>
                    <option value="to bottom left">Diagonal ↙</option>
                    <option value="to top right">Diagonal ↗</option>
                    <option value="to top left">Diagonal ↖</option>
                    <option value="circle">Radial (Circle)</option>
                </select>
            </div>
            <div class="gradient-preview" id="gradientPreview"
                style="background: linear-gradient(to right, #4a9eff, #ea4335);"></div>
            <div class="output-card">
                <div class="output-header">
                    <span class="output-label">CSS Code</span>
                    <button class="copy-btn" id="copyGradient" type="button">
                        <i class="fas fa-copy"></i> Copy
                    </button>
                </div>
                <div class="output-value" id="gradientOutput">background: linear-gradient(to right, #4a9eff, #ea4335);
                </div>
            </div>
        </div>

        <!-- Contrast Tab -->
        <div id="contrast-tab" class="tab-content glass-card hidden">
            <h3 class="section-title"><i class="fas fa-adjust"></i> WCAG Contrast Checker</h3>
            <div class="gradient-inputs">
                <div class="input-group">
                    <label class="input-label" for="fgColor">Text Color (Foreground)</label>
                    <input type="text" id="fgColor" class="input-field" value="#ffffff">
                </div>
                <div class="input-group">
                    <label class="input-label" for="bgColor">Background Color</label>
                    <input type="text" id="bgColor" class="input-field" value="#4a9eff">
                </div>
            </div>
            <button class="btn btn-primary" id="swapContrast" type="button" style="margin-bottom: 1rem; width: 100%;">
                <i class="fas fa-exchange-alt"></i> Swap Colors
            </button>
            <div class="contrast-preview" id="contrastPreview" style="background: #4a9eff; color: #ffffff;">
                <h2>Sample Text</h2>
                <p>The quick brown fox jumps over the lazy dog</p>
            </div>
            <div class="contrast-results">
                <div class="contrast-result-card">
                    <div class="contrast-result-label">Contrast Ratio</div>
                    <div class="contrast-result-value" id="contrastRatio">3.44:1</div>
                </div>
                <div class="contrast-result-card">
                    <div class="contrast-result-label">Normal Text</div>
                    <div class="contrast-result-value" id="normalTextResult">AA Large</div>
                </div>
                <div class="contrast-result-card">
                    <div class="contrast-result-label">Large Text</div>
                    <div class="contrast-result-value" id="largeTextResult">AA ✓</div>
                </div>
            </div>
        </div>

        <!-- History Tab -->
        <div id="history-tab" class="tab-content glass-card hidden">
            <div class="history-header">
                <h3 class="section-title" style="margin: 0;"><i class="fas fa-history"></i> Color History</h3>
                <button class="clear-btn" id="clearHistoryBtn" type="button">
                    <i class="fas fa-trash"></i> Clear All
                </button>
            </div>
            <div class="history-grid" id="historyContainer">
                <div class="empty-state">No colors in history yet. Convert some colors!</div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer" role="contentinfo">
            <p>Made with ❤️ by <a href="https://github.com/oathanrex" target="_blank"
                    rel="noopener noreferrer">@oathanrex</a></p>
            <p style="margin-top: 0.5rem; font-size: 0.8rem;">HEX2RGBA v3.0 — Free Online Color Converter Tool</p>
            <nav style="margin-top: 1rem; font-size: 0.8rem;" aria-label="Footer navigation">
                <a href="#formats-tab">Color Formats</a> •
                <a href="#palette-tab">Palette Generator</a> •
                <a href="#gradient-tab">Gradient Maker</a> •
                <a href="#contrast-tab">Contrast Checker</a>
            </nav>
            <p style="margin-top: 1rem; font-size: 0.75rem; color: #505050;">
                <a href="https://oathanrex.github.io/chromalab-pro/" target="_blank" rel="noopener noreferrer">View on
                    GitHub</a> •
                <a href="https://oathanrex.github.io/" target="_blank" rel="noopener noreferrer">More Projects</a>
            </p>
        </footer>

        <!-- SEO: Additional hidden content for search engines -->
        <aside class="hidden" aria-hidden="true">
            <h2>HEX2RGBA - Complete Color Converter Tool by oathanrex</h2>
            <p>Convert colors between HEX, RGB, RGBA, HSL, HSLA, HSV, HSB, CMYK formats online for free. Created by
                oathanrex.</p>
            <h3>Features:</h3>
            <ul>
                <li>HEX to RGBA Converter - Convert hexadecimal colors to RGBA format with opacity</li>
                <li>HEX to RGB Converter - Convert hexadecimal colors to RGB format</li>
                <li>RGB to HEX Converter - Convert RGB values to HEX codes</li>
                <li>RGBA to HEX8 Converter - Convert RGBA to 8-digit HEX with alpha</li>
                <li>HSL Color Converter - Convert to and from HSL color format</li>
                <li>HSLA Color Converter - HSL with alpha transparency</li>
                <li>HSV/HSB Converter - Hue Saturation Value/Brightness conversion</li>
                <li>CMYK Converter - Get CMYK values for print design</li>
                <li>Color Palette Generator - Create harmonious color schemes</li>
                <li>CSS Gradient Generator - Generate beautiful linear and radial gradients</li>
                <li>WCAG Contrast Checker - Ensure accessibility compliance AA/AAA</li>
                <li>Color Picker - Pick any color visually</li>
                <li>Color History - Save and reuse your favorite colors</li>
                <li>Opacity/Alpha Support - RGBA and HSLA with transparency</li>
            </ul>
            <h3>About</h3>
            <p>HEX2RGBA is a free, open-source color converter tool created by oathanrex. Available at
                oathanrex.github.io/hex2rgba/</p>
        </aside>
    </main>

    <script>
        // ==========================================
        // STATE MANAGEMENT
        // ==========================================
        const state = {
            colorHistory: [],
            currentRGB: {
                r: 74,
                g: 158,
                b: 255
            },
            currentAlpha: 1,
            debounceTimer: null
        };
        // Named colors lookup (extended)
        const namedColors = {
            'red': '#ff0000',
            'green': '#008000',
            'blue': '#0000ff',
            'white': '#ffffff',
            'black': '#000000',
            'yellow': '#ffff00',
            'cyan': '#00ffff',
            'magenta': '#ff00ff',
            'orange': '#ffa500',
            'purple': '#800080',
            'pink': '#ffc0cb',
            'brown': '#a52a2a',
            'gray': '#808080',
            'grey': '#808080',
            'navy': '#000080',
            'teal': '#008080',
            'olive': '#808000',
            'maroon': '#800000',
            'aqua': '#00ffff',
            'lime': '#00ff00',
            'silver': '#c0c0c0',
            'fuchsia': '#ff00ff',
            'coral': '#ff7f50',
            'salmon': '#fa8072',
            'gold': '#ffd700',
            'khaki': '#f0e68c',
            'plum': '#dda0dd',
            'orchid': '#da70d6',
            'turquoise': '#40e0d0',
            'violet': '#ee82ee',
            'indigo': '#4b0082',
            'crimson': '#dc143c',
            'tomato': '#ff6347',
            'chocolate': '#d2691e',
            'tan': '#d2b48c',
            'peru': '#cd853f',
            'skyblue': '#87ceeb',
            'steelblue': '#4682b4',
            'slategray': '#708090',
            'snow': '#fffafa',
            'springgreen': '#00ff7f',
            'darkblue': '#00008b',
            'darkgreen': '#006400',
            'darkred': '#8b0000',
            'deeppink': '#ff1493',
            'dodgerblue': '#1e90ff',
            'firebrick': '#b22222',
            'forestgreen': '#228b22',
            'hotpink': '#ff69b4',
            'lawngreen': '#7cfc00',
            'lightblue': '#add8e6',
            'lightgreen': '#90ee90',
            'mintcream': '#f5fffa',
            'mistyrose': '#ffe4e1',
            'moccasin': '#ffe4b5',
            'oldlace': '#fdf5e6',
            'orangered': '#ff4500',
            'palegreen': '#98fb98',
            'papayawhip': '#ffefd5',
            'peachpuff': '#ffdab9',
            'royalblue': '#4169e1',
            'seagreen': '#2e8b57',
            'sienna': '#a0522d',
            'slateblue': '#6a5acd'
        };
        // Output formats configuration
        const outputFormats = [{
            id: 'hex',
            label: 'HEX'
        },
        {
            id: 'hex8',
            label: 'HEX8 (Alpha)'
        },
        {
            id: 'rgb',
            label: 'RGB'
        },
        {
            id: 'rgba',
            label: 'RGBA'
        },
        {
            id: 'hsl',
            label: 'HSL'
        },
        {
            id: 'hsla',
            label: 'HSLA'
        },
        {
            id: 'hsv',
            label: 'HSV / HSB'
        },
        {
            id: 'cmyk',
            label: 'CMYK'
        },
        {
            id: 'cssVar',
            label: 'CSS Variable'
        }
        ];
        // ==========================================
        // DOM ELEMENTS (cached after DOMContentLoaded)
        // ==========================================
        let DOM = {};

        function cacheDOMElements() {
            DOM = {
                colorInput: document.getElementById('colorInput'),
                colorPreview: document.getElementById('colorPreview'),
                nativeColorPicker: document.getElementById('nativeColorPicker'),
                alphaSlider: document.getElementById('alphaSlider'),
                alphaValue: document.getElementById('alphaValue'),
                convertBtn: document.getElementById('convertBtn'),
                randomBtn: document.getElementById('randomBtn'),
                tabsContainer: document.getElementById('tabsContainer'),
                outputGrid: document.getElementById('outputGrid'),
                gradientColor1: document.getElementById('gradientColor1'),
                gradientColor2: document.getElementById('gradientColor2'),
                gradientDirection: document.getElementById('gradientDirection'),
                gradientPreview: document.getElementById('gradientPreview'),
                gradientOutput: document.getElementById('gradientOutput'),
                copyGradient: document.getElementById('copyGradient'),
                swapGradient: document.getElementById('swapGradient'),
                fgColor: document.getElementById('fgColor'),
                bgColor: document.getElementById('bgColor'),
                swapContrast: document.getElementById('swapContrast'),
                contrastPreview: document.getElementById('contrastPreview'),
                contrastRatio: document.getElementById('contrastRatio'),
                normalTextResult: document.getElementById('normalTextResult'),
                largeTextResult: document.getElementById('largeTextResult'),
                historyContainer: document.getElementById('historyContainer'),
                clearHistoryBtn: document.getElementById('clearHistoryBtn'),
                toastContainer: document.getElementById('toastContainer'),
                shadesContainer: document.getElementById('shadesContainer'),
                complementaryContainer: document.getElementById('complementaryContainer'),
                analogousContainer: document.getElementById('analogousContainer'),
                triadicContainer: document.getElementById('triadicContainer')
            };
        }
        // ==========================================
        // UTILITY FUNCTIONS
        // ==========================================
        function clamp(val, min, max) {
            return Math.max(min, Math.min(max, val));
        }

        function debounce(func, wait) {
            return function executedFunction(...args) {
                clearTimeout(state.debounceTimer);
                state.debounceTimer = setTimeout(() => func.apply(this, args), wait);
            };
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function showToast(message, type = 'success') {
            const toast = document.createElement('div');
            toast.className = 'toast ' + type;
            const icon = type === 'success' ? 'check-circle' : 'exclamation-circle';
            toast.innerHTML = '<i class="fas fa-' + icon + '"></i> ' + escapeHtml(message);
            DOM.toastContainer.appendChild(toast);
            setTimeout(function () {
                toast.classList.add('fade-out');
                setTimeout(function () {
                    if (toast.parentNode) {
                        toast.remove();
                    }
                }, 300);
            }, 2700);
        }
        // ==========================================
        // COLOR PARSING
        // ==========================================
        function parseColor(input) {
            if (!input || typeof input !== 'string') return null;
            input = input.trim().toLowerCase();
            // Check named colors first
            if (namedColors.hasOwnProperty(input)) {
                input = namedColors[input];
            }
            // HEX format (#RGB, #RGBA, #RRGGBB, #RRGGBBAA)
            const hexMatch = input.match(/^#?([a-f0-9]{3}|[a-f0-9]{4}|[a-f0-9]{6}|[a-f0-9]{8})$/i);
            if (hexMatch) {
                let hex = hexMatch[1];
                // Expand 3 or 4 digit hex
                if (hex.length === 3 || hex.length === 4) {
                    hex = hex.split('').map(function (c) {
                        return c + c;
                    }).join('');
                }
                return {
                    r: parseInt(hex.substring(0, 2), 16),
                    g: parseInt(hex.substring(2, 4), 16),
                    b: parseInt(hex.substring(4, 6), 16),
                    a: hex.length === 8 ? parseInt(hex.substring(6, 8), 16) / 255 : 1
                };
            }
            // RGB/RGBA format
            const rgbMatch = input.match(/rgba?\s*\(\s*(\d{1,3})\s*[,\s]\s*(\d{1,3})\s*[,\s]\s*(\d{1,3})\s*(?:[,\/]\s*([\d.]+%?))?\s*\)/);
            if (rgbMatch) {
                let alpha = 1;
                if (rgbMatch[4]) {
                    alpha = rgbMatch[4].includes('%') ?
                        parseFloat(rgbMatch[4]) / 100 :
                        parseFloat(rgbMatch[4]);
                }
                return {
                    r: clamp(parseInt(rgbMatch[1], 10), 0, 255),
                    g: clamp(parseInt(rgbMatch[2], 10), 0, 255),
                    b: clamp(parseInt(rgbMatch[3], 10), 0, 255),
                    a: clamp(alpha, 0, 1)
                };
            }
            // HSL/HSLA format
            const hslMatch = input.match(/hsla?\s*\(\s*(\d{1,3})\s*[,\s]\s*(\d{1,3})%?\s*[,\s]\s*(\d{1,3})%?\s*(?:[,\/]\s*([\d.]+%?))?\s*\)/);
            if (hslMatch) {
                const h = clamp(parseInt(hslMatch[1], 10), 0, 360);
                const s = clamp(parseInt(hslMatch[2], 10), 0, 100);
                const l = clamp(parseInt(hslMatch[3], 10), 0, 100);
                let alpha = 1;
                if (hslMatch[4]) {
                    alpha = hslMatch[4].includes('%') ?
                        parseFloat(hslMatch[4]) / 100 :
                        parseFloat(hslMatch[4]);
                }
                const rgb = hslToRgb(h, s, l);
                return {
                    r: rgb.r,
                    g: rgb.g,
                    b: rgb.b,
                    a: clamp(alpha, 0, 1)
                };
            }
            return null;
        }
        // ==========================================
        // COLOR CONVERSION FUNCTIONS
        // ==========================================
        function hslToRgb(h, s, l) {
            s /= 100;
            l /= 100;
            if (s === 0) {
                const gray = Math.round(l * 255);
                return {
                    r: gray,
                    g: gray,
                    b: gray
                };
            }
            const hueToRgb = function (p, q, t) {
                if (t < 0) t += 1;
                if (t > 1) t -= 1;
                if (t < 1 / 6) return p + (q - p) * 6 * t;
                if (t < 1 / 2) return q;
                if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;
                return p;
            };
            const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
            const p = 2 * l - q;
            const hNorm = h / 360;
            return {
                r: Math.round(255 * hueToRgb(p, q, hNorm + 1 / 3)),
                g: Math.round(255 * hueToRgb(p, q, hNorm)),
                b: Math.round(255 * hueToRgb(p, q, hNorm - 1 / 3))
            };
        }

        function rgbToHsl(r, g, b) {
            r /= 255;
            g /= 255;
            b /= 255;
            const max = Math.max(r, g, b);
            const min = Math.min(r, g, b);
            let h = 0;
            let s = 0;
            const l = (max + min) / 2;
            if (max !== min) {
                const d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                if (max === r) {
                    h = ((g - b) / d + (g < b ? 6 : 0)) / 6;
                } else if (max === g) {
                    h = ((b - r) / d + 2) / 6;
                } else {
                    h = ((r - g) / d + 4) / 6;
                }
            }
            return {
                h: Math.round(h * 360),
                s: Math.round(s * 100),
                l: Math.round(l * 100)
            };
        }

        function rgbToHsv(r, g, b) {
            r /= 255;
            g /= 255;
            b /= 255;
            const max = Math.max(r, g, b);
            const min = Math.min(r, g, b);
            let h = 0;
            const v = max;
            const d = max - min;
            const s = max === 0 ? 0 : d / max;
            if (max !== min) {
                if (max === r) {
                    h = ((g - b) / d + (g < b ? 6 : 0)) / 6;
                } else if (max === g) {
                    h = ((b - r) / d + 2) / 6;
                } else {
                    h = ((r - g) / d + 4) / 6;
                }
            }
            return {
                h: Math.round(h * 360),
                s: Math.round(s * 100),
                v: Math.round(v * 100)
            };
        }

        function rgbToCmyk(r, g, b) {
            r /= 255;
            g /= 255;
            b /= 255;
            const k = 1 - Math.max(r, g, b);
            if (k === 1) {
                return {
                    c: 0,
                    m: 0,
                    y: 0,
                    k: 100
                };
            }
            return {
                c: Math.round(((1 - r - k) / (1 - k)) * 100),
                m: Math.round(((1 - g - k) / (1 - k)) * 100),
                y: Math.round(((1 - b - k) / (1 - k)) * 100),
                k: Math.round(k * 100)
            };
        }

        function rgbToHex(r, g, b) {
            const toHex = function (n) {
                const hex = Math.round(clamp(n, 0, 255)).toString(16);
                return hex.length === 1 ? '0' + hex : hex;
            };
            return '#' + toHex(r) + toHex(g) + toHex(b);
        }
        // ==========================================
        // MAIN COLOR CONVERSION
        // ==========================================
        function convertColor(silent) {
            const input = DOM.colorInput.value;
            const parsed = parseColor(input);
            if (!parsed) {
                if (!silent) {
                    showToast('Invalid color format! Try: #hex, rgb(), hsl(), or color name', 'error');
                }
                return false;
            }
            state.currentRGB = {
                r: parsed.r,
                g: parsed.g,
                b: parsed.b
            };
            if (parsed.a !== undefined && parsed.a !== 1) {
                state.currentAlpha = parsed.a;
                DOM.alphaSlider.value = Math.round(state.currentAlpha * 100);
                DOM.alphaValue.textContent = Math.round(state.currentAlpha * 100) + '%';
            }
            updateAllOutputs();
            const hex = rgbToHex(state.currentRGB.r, state.currentRGB.g, state.currentRGB.b);
            addToHistory(hex);
            generatePalette();
            // Update gradient and contrast inputs
            DOM.gradientColor1.value = hex;
            DOM.bgColor.value = hex;
            generateGradient();
            checkContrast();
            return true;
        }

        function updateAllOutputs() {
            const r = state.currentRGB.r;
            const g = state.currentRGB.g;
            const b = state.currentRGB.b;
            const a = state.currentAlpha;
            const hex = rgbToHex(r, g, b);
            const alphaHex = Math.round(a * 255).toString(16).padStart(2, '0');
            const hsl = rgbToHsl(r, g, b);
            const hsv = rgbToHsv(r, g, b);
            const cmyk = rgbToCmyk(r, g, b);
            // Format alpha for display
            let alphaDisplay;
            if (a === 1) {
                alphaDisplay = '1';
            } else if (a === 0) {
                alphaDisplay = '0';
            } else {
                alphaDisplay = parseFloat(a.toFixed(2)).toString();
            }
            // Update preview
            DOM.colorPreview.style.backgroundColor = 'rgba(' + r + ', ' + g + ', ' + b + ', ' + a + ')';
            // UX Improvement: Only update picker if it's not the active element (to avoid interrupting user dragging)
            if (document.activeElement !== DOM.nativeColorPicker) {
                DOM.nativeColorPicker.value = hex;
            }
            // Output values mapping
            const cssVarValue = a < 1 ?
                '--color: rgba(' + r + ', ' + g + ', ' + b + ', ' + alphaDisplay + ');' :
                '--color: ' + hex + ';';
            const values = {
                hex: hex,
                hex8: hex + alphaHex,
                rgb: 'rgb(' + r + ', ' + g + ', ' + b + ')',
                rgba: 'rgba(' + r + ', ' + g + ', ' + b + ', ' + alphaDisplay + ')',
                hsl: 'hsl(' + hsl.h + ', ' + hsl.s + '%, ' + hsl.l + '%)',
                hsla: 'hsla(' + hsl.h + ', ' + hsl.s + '%, ' + hsl.l + '%, ' + alphaDisplay + ')',
                hsv: 'hsv(' + hsv.h + ', ' + hsv.s + '%, ' + hsv.v + '%)',
                cmyk: 'cmyk(' + cmyk.c + '%, ' + cmyk.m + '%, ' + cmyk.y + '%, ' + cmyk.k + '%)',
                cssVar: cssVarValue
            };
            // Build output grid HTML
            let html = '';
            for (let i = 0; i < outputFormats.length; i++) {
                const format = outputFormats[i];
                html += '<div class="output-card">' +
                    '<div class="output-header">' +
                    '<span class="output-label">' + escapeHtml(format.label) + '</span>' +
                    '<button class="copy-btn" data-copy="' + format.id + '" type="button">' +
                    '<i class="fas fa-copy"></i> Copy</button>' +
                    '</div>' +
                    '<div class="output-value" id="' + format.id + 'Output">' + escapeHtml(values[format.id]) + '</div>' +
                    '</div>';
            }
            DOM.outputGrid.innerHTML = html;
        }

        function generateRandomColor() {
            const r = Math.floor(Math.random() * 256);
            const g = Math.floor(Math.random() * 256);
            const b = Math.floor(Math.random() * 256);
            DOM.colorInput.value = rgbToHex(r, g, b);
            convertColor(false);
        }

        function copyToClipboard(text) {
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(text).then(function () {
                    showToast('Copied: ' + text);
                }).catch(function () {
                    fallbackCopy(text);
                });
            } else {
                fallbackCopy(text);
            }
        }

        function fallbackCopy(text) {
            const textarea = document.createElement('textarea');
            textarea.value = text;
            textarea.style.position = 'fixed';
            textarea.style.opacity = '0';
            document.body.appendChild(textarea);
            textarea.select();
            try {
                document.execCommand('copy');
                showToast('Copied: ' + text);
            } catch (err) {
                showToast('Failed to copy', 'error');
            }
            document.body.removeChild(textarea);
        }
        // ==========================================
        // TAB SWITCHING
        // ==========================================
        function switchTab(tabName) {
            const contents = document.querySelectorAll('.tab-content');
            for (let i = 0; i < contents.length; i++) {
                contents[i].classList.add('hidden');
            }
            const buttons = document.querySelectorAll('.tab-btn');
            for (let i = 0; i < buttons.length; i++) {
                buttons[i].classList.remove('active');
            }
            const targetTab = document.getElementById(tabName + '-tab');
            const targetBtn = document.querySelector('[data-tab="' + tabName + '"]');
            if (targetTab) targetTab.classList.remove('hidden');
            if (targetBtn) targetBtn.classList.add('active');
        }
        // ==========================================
        // PALETTE GENERATION
        // ==========================================
        function generatePalette() {
            const r = state.currentRGB.r;
            const g = state.currentRGB.g;
            const b = state.currentRGB.b;
            const hsl = rgbToHsl(r, g, b);
            // Shades & Tints
            let shadesHtml = '';
            for (let i = 0; i <= 10; i++) {
                const lightness = i * 10;
                const rgb = hslToRgb(hsl.h, hsl.s, lightness);
                const hex = rgbToHex(rgb.r, rgb.g, rgb.b);
                shadesHtml += createPaletteColor(hex);
            }
            DOM.shadesContainer.innerHTML = shadesHtml;
            // Complementary
            const compHue = (hsl.h + 180) % 360;
            const compRgb = hslToRgb(compHue, hsl.s, hsl.l);
            DOM.complementaryContainer.innerHTML =
                createPaletteColor(rgbToHex(r, g, b)) +
                createPaletteColor(rgbToHex(compRgb.r, compRgb.g, compRgb.b));
            // Analogous
            let analogousHtml = '';
            for (let i = -2; i <= 2; i++) {
                const anaHue = (hsl.h + i * 30 + 360) % 360;
                const anaRgb = hslToRgb(anaHue, hsl.s, hsl.l);
                analogousHtml += createPaletteColor(rgbToHex(anaRgb.r, anaRgb.g, anaRgb.b));
            }
            DOM.analogousContainer.innerHTML = analogousHtml;
            // Triadic
            let triadicHtml = '';
            for (let i = 0; i < 3; i++) {
                const triHue = (hsl.h + i * 120) % 360;
                const triRgb = hslToRgb(triHue, hsl.s, hsl.l);
                triadicHtml += createPaletteColor(rgbToHex(triRgb.r, triRgb.g, triRgb.b));
            }
            DOM.triadicContainer.innerHTML = triadicHtml;
        }

        function createPaletteColor(hex) {
            // Validate hex format for security
            if (!/^#[0-9a-f]{6}$/i.test(hex)) {
                return '';
            }
            return '<div class="palette-color" style="background-color: ' + hex + '" data-hex="' + hex + '" title="' + hex + '"></div>';
        }

        function selectColor(hex) {
            DOM.colorInput.value = hex;
            convertColor(true);
            showToast('Color selected: ' + hex);
        }
        // ==========================================
        // GRADIENT GENERATOR
        // ==========================================
        function generateGradient() {
            const color1Input = DOM.gradientColor1.value;
            const color2Input = DOM.gradientColor2.value;
            const direction = DOM.gradientDirection.value;
            // Validate and get proper color strings
            const parsed1 = parseColor(color1Input);
            const parsed2 = parseColor(color2Input);
            if (!parsed1 || !parsed2) {
                return;
            }
            const color1 = rgbToHex(parsed1.r, parsed1.g, parsed1.b);
            const color2 = rgbToHex(parsed2.r, parsed2.g, parsed2.b);
            let gradient;
            if (direction === 'circle') {
                gradient = 'radial-gradient(circle, ' + color1 + ', ' + color2 + ')';
            } else {
                gradient = 'linear-gradient(' + direction + ', ' + color1 + ', ' + color2 + ')';
            }
            DOM.gradientPreview.style.background = gradient;
            DOM.gradientOutput.textContent = 'background: ' + gradient + ';';
        }

        function swapGradientColors() {
            const temp = DOM.gradientColor1.value;
            DOM.gradientColor1.value = DOM.gradientColor2.value;
            DOM.gradientColor2.value = temp;
            generateGradient();
        }
        // ==========================================
        // CONTRAST CHECKER
        // ==========================================
        function checkContrast() {
            const fg = parseColor(DOM.fgColor.value);
            const bg = parseColor(DOM.bgColor.value);
            if (!fg || !bg) {
                return;
            }
            const fgHex = rgbToHex(fg.r, fg.g, fg.b);
            const bgHex = rgbToHex(bg.r, bg.g, bg.b);
            DOM.contrastPreview.style.backgroundColor = bgHex;
            DOM.contrastPreview.style.color = fgHex;
            const ratio = getContrastRatio(fg, bg);
            DOM.contrastRatio.textContent = ratio.toFixed(2) + ':1';
            // Color code the ratio
            if (ratio >= 7) {
                DOM.contrastRatio.className = 'contrast-result-value pass';
            } else if (ratio >= 4.5) {
                DOM.contrastRatio.className = 'contrast-result-value warn';
            } else {
                DOM.contrastRatio.className = 'contrast-result-value fail';
            }
            // WCAG 2.1 ratings
            const normalAA = ratio >= 4.5;
            const normalAAA = ratio >= 7;
            const largeAA = ratio >= 3;
            const largeAAA = ratio >= 4.5;
            // Update normal text result
            if (normalAAA) {
                DOM.normalTextResult.textContent = 'AAA ✓';
                DOM.normalTextResult.className = 'contrast-result-value pass';
            } else if (normalAA) {
                DOM.normalTextResult.textContent = 'AA ✓';
                DOM.normalTextResult.className = 'contrast-result-value warn';
            } else {
                DOM.normalTextResult.textContent = 'Fail ✗';
                DOM.normalTextResult.className = 'contrast-result-value fail';
            }
            // Update large text result
            if (largeAAA) {
                DOM.largeTextResult.textContent = 'AAA ✓';
                DOM.largeTextResult.className = 'contrast-result-value pass';
            } else if (largeAA) {
                DOM.largeTextResult.textContent = 'AA ✓';
                DOM.largeTextResult.className = 'contrast-result-value warn';
            } else {
                DOM.largeTextResult.textContent = 'Fail ✗';
                DOM.largeTextResult.className = 'contrast-result-value fail';
            }
        }

        function swapContrastColors() {
            const temp = DOM.fgColor.value;
            DOM.fgColor.value = DOM.bgColor.value;
            DOM.bgColor.value = temp;
            checkContrast();
        }

        function getContrastRatio(fg, bg) {
            const getLuminance = function (rgb) {
                const rSrgb = rgb.r / 255;
                const gSrgb = rgb.g / 255;
                const bSrgb = rgb.b / 255;
                const r = rSrgb <= 0.03928 ? rSrgb / 12.92 : Math.pow((rSrgb + 0.055) / 1.055, 2.4);
                const g = gSrgb <= 0.03928 ? gSrgb / 12.92 : Math.pow((gSrgb + 0.055) / 1.055, 2.4);
                const b = bSrgb <= 0.03928 ? bSrgb / 12.92 : Math.pow((bSrgb + 0.055) / 1.055, 2.4);
                return 0.2126 * r + 0.7152 * g + 0.0722 * b;
            };
            const l1 = getLuminance(fg);
            const l2 = getLuminance(bg);
            const lighter = Math.max(l1, l2);
            const darker = Math.min(l1, l2);
            return (lighter + 0.05) / (darker + 0.05);
        }
        // ==========================================
        // HISTORY MANAGEMENT
        // ==========================================
        function loadHistory() {
            try {
                const saved = localStorage.getItem('hex2rgba_colorHistory');
                if (saved) {
                    state.colorHistory = JSON.parse(saved);
                    if (!Array.isArray(state.colorHistory)) {
                        state.colorHistory = [];
                    }
                }
            } catch (e) {
                state.colorHistory = [];
            }
        }

        function saveHistory() {
            try {
                localStorage.setItem('hex2rgba_colorHistory', JSON.stringify(state.colorHistory));
            } catch (e) {
                // localStorage might be full or disabled - fail silently
            }
        }

        function addToHistory(hex) {
            if (!hex || typeof hex !== 'string') return;
            hex = hex.toLowerCase();
            // Remove if already exists
            const index = state.colorHistory.indexOf(hex);
            if (index > -1) {
                state.colorHistory.splice(index, 1);
            }
            // Add to beginning
            state.colorHistory.unshift(hex);
            // Keep only last 24
            if (state.colorHistory.length > 24) {
                state.colorHistory.pop();
            }
            saveHistory();
            updateHistoryDisplay();
        }

        function updateHistoryDisplay() {
            if (state.colorHistory.length === 0) {
                DOM.historyContainer.innerHTML = '<div class="empty-state">No colors in history yet. Convert some colors!</div>';
                return;
            }
            let html = '';
            for (let i = 0; i < state.colorHistory.length; i++) {
                const hex = state.colorHistory[i];
                // Validate hex format for security
                if (/^#[0-9a-f]{6}$/i.test(hex)) {
                    html += '<div class="history-color" style="background-color: ' + hex + '" data-hex="' + hex + '" title="' + hex + '"></div>';
                }
            }
            DOM.historyContainer.innerHTML = html;
        }

        function clearHistory() {
            state.colorHistory = [];
            localStorage.removeItem('hex2rgba_colorHistory');
            updateHistoryDisplay();
            showToast('History cleared!');
        }
        // ==========================================
        // EVENT LISTENERS
        // ==========================================
        function initEventListeners() {
            // Convert button
            DOM.convertBtn.addEventListener('click', function () {
                convertColor(false);
            });
            // Random button
            DOM.randomBtn.addEventListener('click', generateRandomColor);
            // Enter key on color input
            DOM.colorInput.addEventListener('keypress', function (e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    convertColor(false);
                }
            });
            // Real-time color input (debounced)
            const debouncedConvert = debounce(function () {
                convertColor(true);
            }, 300);
            DOM.colorInput.addEventListener('input', debouncedConvert);
            // Alpha slider
            DOM.alphaSlider.addEventListener('input', function (e) {
                state.currentAlpha = parseInt(e.target.value, 10) / 100;
                DOM.alphaValue.textContent = e.target.value + '%';
                updateAllOutputs();
            });
            // Native color picker
            DOM.nativeColorPicker.addEventListener('input', function (e) {
                DOM.colorInput.value = e.target.value;
                convertColor(true);
            });
            // Tab switching using event delegation
            DOM.tabsContainer.addEventListener('click', function (e) {
                const tabBtn = e.target.closest('.tab-btn');
                if (tabBtn && tabBtn.dataset.tab) {
                    switchTab(tabBtn.dataset.tab);
                }
            });
            // Palette colors click using event delegation
            document.getElementById('palette-tab').addEventListener('click', function (e) {
                const paletteColor = e.target.closest('.palette-color');
                if (paletteColor && paletteColor.dataset.hex) {
                    selectColor(paletteColor.dataset.hex);
                }
            });
            // Gradient inputs
            DOM.gradientColor1.addEventListener('input', generateGradient);
            DOM.gradientColor2.addEventListener('input', generateGradient);
            DOM.gradientDirection.addEventListener('change', generateGradient);
            // Swap gradient colors
            if (DOM.swapGradient) {
                DOM.swapGradient.addEventListener('click', swapGradientColors);
            }
            // Copy gradient
            DOM.copyGradient.addEventListener('click', function () {
                copyToClipboard(DOM.gradientOutput.textContent);
            });
            // Contrast inputs
            DOM.fgColor.addEventListener('input', checkContrast);
            DOM.bgColor.addEventListener('input', checkContrast);
            // Swap contrast colors
            if (DOM.swapContrast) {
                DOM.swapContrast.addEventListener('click', swapContrastColors);
            }
            // History colors click using event delegation
            DOM.historyContainer.addEventListener('click', function (e) {
                const historyColor = e.target.closest('.history-color');
                if (historyColor && historyColor.dataset.hex) {
                    selectColor(historyColor.dataset.hex);
                }
            });
            // Clear history
            DOM.clearHistoryBtn.addEventListener('click', clearHistory);
            // Optimization: Output Grid Copy Listener (Delegation)
            // Moved here from updateAllOutputs to prevent re-binding on every color change
            DOM.outputGrid.addEventListener('click', function (e) {
                const btn = e.target.closest('.copy-btn[data-copy]');
                if (btn) {
                    const id = btn.getAttribute('data-copy');
                    const outputEl = document.getElementById(id + 'Output');
                    if (outputEl) {
                        copyToClipboard(outputEl.textContent);
                    }
                }
            });
        }
        // ==========================================
        // INITIALIZATION
        // ==========================================
        function init() {
            cacheDOMElements();
            loadHistory();
            initEventListeners();
            convertColor(true);
            updateHistoryDisplay();
            generateGradient();
            checkContrast();
        }
        // Start the app when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }
    </script>
</body>

</html>