<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <canvas id="starCanvas"></canvas>

<!-- STAGE -->
<div class="stage">
	<div class="nebula" id="nebula"></div>
	<div class="planet-system">
		<div class="glow-outer" id="glowOuter"></div>

		<!-- back rings -->
		<div class="rings-wrap" id="ringsBack" style="clip-path:inset(0 0 50% 0);z-index:1;">
			<div class="ring ring-1" id="r1b"></div>
			<div class="ring ring-2" id="r2b"></div>
			<div class="ring ring-3" id="r3b"></div>
		</div>

		<!-- planet -->
		<div class="planet" id="planet">
			<div class="planet-surface" id="planetSurface"></div>
			<div class="terminator" id="terminator"></div>
			<div class="atm-rim" id="atmRim"></div>
		</div>

		<!-- front rings -->
		<div class="rings-wrap" id="ringsFront" style="clip-path:inset(50% 0 0 0);z-index:5;">
			<div class="ring ring-1" id="r1f"></div>
			<div class="ring ring-2" id="r2f"></div>
			<div class="ring ring-3" id="r3f"></div>
		</div>

		<!-- moon orbit -->
		<div class="moon-orbit" id="moonOrbit">
			<div class="moon" id="moon"></div>
		</div>
	</div>

	<!-- live code -->
	<div class="code-pill">
		<button class="pill-copy" id="pillCopy">copy</button>
		<span class="cd">/* radial-gradient( at 50% 50% in oklch, */</span><br>
		<span class="cf">color-mix</span>(<span class="ck">in oklch</span>, <span class="cl" id="cA">…</span>, <span class="cl" id="cB">…</span> <span class="cl" id="cp1">80%</span>),<br>
		<span class="cf">color-mix</span>(<span class="ck">in oklch</span>, <span class="cl" id="cA2">…</span>, <span class="cl" id="cB2">…</span> <span class="cl" id="cp2">10%</span>) <span class="cl" id="cs1">19%</span>,<br>
		<span class="cf">color-mix</span>(<span class="ck">in oklch</span>, <span class="cl" id="cA3">…</span>, <span class="cl" id="cB3">…</span> <span class="cl" id="cp3">20%</span>) <span class="cl" id="cs2">20%</span>,<br>
		<span class="cf">color-mix</span>(<span class="ck">in oklch</span>, <span class="cl" id="cA4">…</span>, <span class="cl" id="cB4">…</span> <span class="cl" id="cp4">80%</span>),<br>
		<span class="cf">color-mix</span>(<span class="ck">in oklch</span>, <span class="cl" id="cB5">…</span>, <span class="cl" id="cC">…</span> <span class="cl" id="cp5">50%</span>) <span class="cl" id="cs3">55%</span>,<br>
		<span class="ck">transparent</span> <span class="cl" id="cs4">70%</span> )
	</div>
</div>

<!-- PANEL -->
<div class="panel">
	<div class="panel-header">
		<div class="brand">Terra<span>form</span></div>
		<div class="brand-sub">oklch · color-mix() · live lab</div>
	</div>

	<!-- toolbar -->
	<div class="toolbar">
		<button class="tb-btn" id="btnRandom" title="R">
			⟳ rand <span class="kbd">R</span>
		</button>
		<button class="tb-btn" id="btnUndo" title="Ctrl+Z">
			↩ undo <span class="kbd">⌘Z</span>
		</button>
		<button class="tb-btn" id="btnExport">
			⎘ copy <span class="kbd">E</span>
		</button>
	</div>

	<div class="panel-scroll">

		<!-- PALETTES -->
		<div class="section">
			<div class="section-label">Palettes</div>
			<div class="palette-grid" id="paletteGrid"></div>
		</div>

		<!-- BASE COLORS -->
		<div class="section">
			<div class="section-label">Base Colors</div>
			<div class="pick-row">
				<span class="pick-label"><code>A</code> light<small>bright side</small></span>
				<div class="pick-wrap">
					<div class="pick-swatch" id="swA"></div>
					<input type="color" id="pickA" value="#87ceeb">
				</div>
			</div>
			<div class="pick-row">
				<span class="pick-label"><code>B</code> dark<small>deep body</small></span>
				<div class="pick-wrap">
					<div class="pick-swatch" id="swB"></div>
					<input type="color" id="pickB" value="#0000ff">
				</div>
			</div>
			<div class="pick-row">
				<span class="pick-label"><code>C</code> shadow<small>night side</small></span>
				<div class="pick-wrap">
					<div class="pick-swatch" id="swC"></div>
					<input type="color" id="pickC" value="#000000">
				</div>
			</div>
			<div class="mix-strip" id="mixStrip"></div>
		</div>

		<!-- COLOR-MIX -->
		<div class="section">
			<div class="section-label">color-mix() B%</div>
			<div class="sl-row">
				<span class="sl-label">Core<small>stop 1</small></span>
				<input type="range" class="tr-p" id="sl1" min="0" max="100" value="80">
				<div class="sl-swatch" id="sw1"></div>
				<span class="sl-val" id="v1">80%</span>
			</div>
			<div class="sl-row">
				<span class="sl-label">Ring ↑<small>stop 2</small></span>
				<input type="range" class="tr-p" id="sl2" min="0" max="100" value="10">
				<div class="sl-swatch" id="sw2"></div>
				<span class="sl-val" id="v2">10%</span>
			</div>
			<div class="sl-row">
				<span class="sl-label">Ring ↓<small>stop 3</small></span>
				<input type="range" class="tr-p" id="sl3" min="0" max="100" value="20">
				<div class="sl-swatch" id="sw3"></div>
				<span class="sl-val" id="v3">20%</span>
			</div>
			<div class="sl-row">
				<span class="sl-label">Body<small>stop 4</small></span>
				<input type="range" class="tr-p" id="sl4" min="0" max="100" value="80">
				<div class="sl-swatch" id="sw4"></div>
				<span class="sl-val" id="v4">80%</span>
			</div>
			<div class="sl-row">
				<span class="sl-label">Night<small>mix(B,C)</small></span>
				<input type="range" class="tr-p" id="sl5" min="0" max="100" value="50">
				<div class="sl-swatch" id="sw5"></div>
				<span class="sl-val" id="v5">50%</span>
			</div>
		</div>

		<!-- STOP POSITIONS -->
		<div class="section">
			<div class="section-label">Stop Positions</div>
			<div class="sl-row">
				<span class="sl-label">Ring edge<small>stops 2–3</small></span>
				<input type="range" class="tr-s" id="slS1" min="5" max="45" value="19">
				<div class="sl-swatch" style="background:transparent;border-color:transparent"></div>
				<span class="sl-val" id="vS1">19%</span>
			</div>
			<div class="sl-row">
				<span class="sl-label">Night start<small>stop 5</small></span>
				<input type="range" class="tr-s" id="slS3" min="25" max="85" value="55">
				<div class="sl-swatch" style="background:transparent;border-color:transparent"></div>
				<span class="sl-val" id="vS3">55%</span>
			</div>
			<div class="sl-row">
				<span class="sl-label">Fade out<small>transparent</small></span>
				<input type="range" class="tr-s" id="slS4" min="40" max="100" value="70">
				<div class="sl-swatch" style="background:transparent;border-color:transparent"></div>
				<span class="sl-val" id="vS4">70%</span>
			</div>
		</div>

		<!-- ATMOSPHERE & GLOW -->
		<div class="section">
			<div class="section-label">Atmosphere & Glow</div>
			<div class="pick-row">
				<span class="pick-label"><code>Atm</code><small>rim color</small></span>
				<div class="pick-wrap">
					<div class="pick-swatch" id="swAtm"></div>
					<input type="color" id="pickAtm" value="#66aaff">
				</div>
			</div>
			<div class="sl-row">
				<span class="sl-label">Atm strength</span>
				<input type="range" class="tr-g" id="slAtmO" min="0" max="100" value="55">
				<div class="sl-swatch" style="background:transparent;border-color:transparent"></div>
				<span class="sl-val" id="vAtmO">55%</span>
			</div>
			<div class="sl-row">
				<span class="sl-label">Glow bloom</span>
				<input type="range" class="tr-g" id="slGlowO" min="0" max="100" value="45">
				<div class="sl-swatch" style="background:transparent;border-color:transparent"></div>
				<span class="sl-val" id="vGlowO">45%</span>
			</div>
		</div>

		<!-- RINGS -->
		<div class="section">
			<div class="section-label">Rings</div>
			<div class="tgl-row">
				<span class="sl-label">Show rings</span>
				<div class="tgl on" id="tglRings"></div>
			</div>
			<div class="pick-row">
				<span class="pick-label"><code>Ring</code><small>color</small></span>
				<div class="pick-wrap">
					<div class="pick-swatch" id="swRing"></div>
					<input type="color" id="pickRing" value="#7088bb">
				</div>
			</div>
			<div class="sl-row">
				<span class="sl-label">Opacity</span>
				<input type="range" class="tr-p" id="slRO" min="0" max="100" value="50">
				<div class="sl-swatch" style="background:transparent;border-color:transparent"></div>
				<span class="sl-val" id="vRO">50%</span>
			</div>
		</div>

		<!-- MOON -->
		<div class="section">
			<div class="section-label">Moon</div>
			<div class="tgl-row">
				<span class="sl-label">Show moon</span>
				<div class="tgl on" id="tglMoon"></div>
			</div>
			<div class="sl-row">
				<span class="sl-label">Size<small>diameter</small></span>
				<input type="range" class="tr-m" id="slMoonSize" min="6" max="40" value="18">
				<div class="sl-swatch" style="background:transparent;border-color:transparent"></div>
				<span class="sl-val" id="vMoonSize">18</span>
			</div>
			<div class="sl-row">
				<span class="sl-label">Orbit r<small>radius</small></span>
				<input type="range" class="tr-m" id="slMoonR" min="150" max="260" value="210">
				<div class="sl-swatch" style="background:transparent;border-color:transparent"></div>
				<span class="sl-val" id="vMoonR">210</span>
			</div>
			<div class="sl-row">
				<span class="sl-label">Speed<small>× base</small></span>
				<input type="range" class="tr-m" id="slMoonSpd" min="10" max="300" value="100">
				<div class="sl-swatch" style="background:transparent;border-color:transparent"></div>
				<span class="sl-val" id="vMoonSpd">1.0×</span>
			</div>
		</div>

		<!-- AUTO-CYCLE -->
		<div class="section">
			<div class="section-label">Auto-Cycle</div>
			<div class="tgl-row">
				<span class="sl-label">Cycle palettes<small>auto-morph</small></span>
				<div class="tgl cycle" id="tglCycle"></div>
			</div>
			<div class="sl-row">
				<span class="sl-label">Interval<small>seconds</small></span>
				<input type="range" class="tr-m" id="slCycleInt" min="2" max="20" value="6">
				<div class="sl-swatch" style="background:transparent;border-color:transparent"></div>
				<span class="sl-val" id="vCycleInt">6s</span>
			</div>
			<!-- undo history dots -->
			<div class="undo-bar">
				<span>history</span>
				<div class="undo-dots" id="undoDots"></div>
			</div>
		</div>

	</div>
</div>

<!-- Toast -->
<div class="toast" id="toast"></div>
<script src="app.js"></script>
</body>
</html>