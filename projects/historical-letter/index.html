<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚úâÔ∏è historical letters ¬∑ viewer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #2b2a26;
            background-image: radial-gradient(circle at 30% 40%, #4a473f 0%, #1f1e1a 100%);
            font-family: 'Crimson Text', 'Georgia', 'Times New Roman', serif;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1.2rem;
            color: #f2ede4;
        }

        .letters-app {
            max-width: 1300px;
            width: 100%;
            background: rgba(28, 26, 22, 0.85);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border-radius: 3rem;
            padding: 2rem 2rem 2.5rem;
            box-shadow: 0 30px 60px -15px #0a0806, 0 0 0 1px #998f7f inset, 0 0 0 2px rgba(240, 215, 170, 0.1);
            border: 1px solid #b7a070;
        }

        /* header */
        .app-header {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 2rem;
            border-bottom: 1px solid #5f5543;
            padding-bottom: 1rem;
        }

        .title-section h1 {
            font-size: 2.6rem;
            font-weight: 500;
            letter-spacing: -0.5px;
            background: linear-gradient(145deg, #f5e6cf, #dac29c);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .letter-count {
            background: #3b352d;
            border: 1px solid #9f905b;
            padding: 0.4rem 1.8rem;
            border-radius: 60px;
            font-size: 1rem;
            color: #eedbba;
            font-weight: 500;
        }

        /* search / filter bar */
        .search-section {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            align-items: center;
            margin-bottom: 2.5rem;
            background: #26221c80;
            padding: 0.8rem 1.8rem;
            border-radius: 60px;
            border: 1px solid #675e4d;
        }

        .search-icon {
            font-size: 1.5rem;
        }

        #searchInput {
            flex: 2;
            min-width: 220px;
            background: transparent;
            border: none;
            padding: 0.8rem 0.2rem;
            font-size: 1.2rem;
            color: #f5e5ce;
            font-family: inherit;
            outline: none;
            border-bottom: 1px dashed #7f725b;
        }

        #searchInput::placeholder {
            color: #a7977a;
            font-style: italic;
        }

        .filter-btns {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-left: auto;
        }

        .filter-btn {
            background: #3a3329;
            border: 1px solid #766b55;
            color: #eadbc2;
            padding: 0.4rem 1.4rem;
            border-radius: 40px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: 0.1s;
            font-family: inherit;
        }

        .filter-btn.active {
            background: #baa077;
            border-color: #f5ddb1;
            color: #201e18;
            box-shadow: 0 0 12px #edc27a;
        }

        .filter-btn:hover {
            background: #5f513f;
        }

        /* main grid (letter cards) */
        .letters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.8rem;
            margin: 2.2rem 0 2rem;
            max-height: 550px;
            overflow-y: auto;
            padding-right: 10px;
        }

        .letter-card {
            background: #2f2b24f2;
            border-radius: 2rem;
            padding: 1.5rem 1.3rem;
            border: 1px solid #857a64;
            box-shadow: 0 16px 28px -12px #0a0804;
            transition: transform 0.15s, border-color 0.15s;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            backdrop-filter: blur(4px);
        }

        .letter-card:hover {
            transform: translateY(-6px);
            border-color: #e2c089;
            background: #3d372e;
        }

        .card-year {
            font-size: 1.3rem;
            font-weight: 600;
            color: #dbb776;
            margin-bottom: 0.2rem;
            letter-spacing: 1px;
        }

        .card-sender {
            font-size: 1.6rem;
            font-weight: 600;
            line-height: 1.2;
            margin-bottom: 0.25rem;
            color: #f2e0c5;
        }

        .card-recipient {
            font-size: 1rem;
            color: #c5b69b;
            margin-bottom: 0.75rem;
            font-style: italic;
        }
        .card-recipient::before {
            content: "to ";
            opacity: 0.8;
        }

        .card-excerpt {
            font-size: 0.95rem;
            color: #cdc0aa;
            margin: 0.6rem 0 1rem;
            line-height: 1.5;
            flex: 1;
            border-left: 2px solid #7b6d52;
            padding-left: 0.8rem;
        }

        .card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top: 1px dashed #6a5f4b;
            padding-top: 0.8rem;
            font-size: 0.85rem;
            color: #bcae93;
        }
        .card-place {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        /* modal for full letter */
        .modal-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(10, 8, 5, 0.85);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            visibility: hidden;
            opacity: 0;
            transition: 0.2s;
            padding: 1.5rem;
        }

        .modal-overlay.show {
            visibility: visible;
            opacity: 1;
        }

        .modal-letter {
            max-width: 700px;
            width: 100%;
            max-height: 85vh;
            overflow-y: auto;
            background: #2b261e;
            border-radius: 3rem;
            padding: 2.5rem 2.8rem;
            border: 2px solid #c5a25d;
            box-shadow: 0 40px 80px #000;
            color: #f2e5d2;
            position: relative;
            font-family: 'Crimson Text', serif;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            border-bottom: 1px solid #7e6f56;
            padding-bottom: 1rem;
            margin-bottom: 2rem;
        }

        .modal-sender {
            font-size: 2.2rem;
            font-weight: 600;
            color: #f5d9aa;
        }
        .modal-year {
            font-size: 1.6rem;
            color: #b5955f;
        }

        .modal-recipient {
            font-size: 1.3rem;
            font-style: italic;
            color: #d4bd99;
            margin-bottom: 1.8rem;
        }

        .modal-body {
            font-size: 1.2rem;
            line-height: 1.7;
            white-space: pre-line;
            margin-bottom: 2.5rem;
            color: #f0e0ca;
        }

        .modal-place {
            font-size: 1rem;
            color: #bbaa8c;
            margin-bottom: 1.5rem;
        }

        .modal-close {
            background: #7a633b;
            border: none;
            color: #f2e0c2;
            font-size: 1.2rem;
            padding: 0.7rem 2rem;
            border-radius: 60px;
            cursor: pointer;
            font-weight: 600;
            border: 1px solid #e6b86b;
            font-family: inherit;
        }
        .modal-close:hover { background: #9e814d; }

        .footer-note {
            display: flex;
            justify-content: space-between;
            color: #9e927b;
            margin-top: 1rem;
            font-size: 0.95rem;
        }
    </style>
</head>
<body>
    <div class="letters-app">
        <div class="app-header">
            <div class="title-section">
                <h1>
                    <span>üìú</span> historical letters
                </h1>
            </div>
            <div class="letter-count" id="counterDisplay">12 letters</div>
        </div>

        <!-- search & filter -->
        <div class="search-section">
            <span class="search-icon">üîç</span>
            <input type="text" id="searchInput" placeholder="search by sender, recipient, words..." aria-label="Search letters">
            <div class="filter-btns" id="centuryFilters">
                <button class="filter-btn active" data-century="all">all</button>
                <button class="filter-btn" data-century="16">16th c.</button>
                <button class="filter-btn" data-century="17">17th c.</button>
                <button class="filter-btn" data-century="18">18th c.</button>
                <button class="filter-btn" data-century="19">19th c.</button>
            </div>
        </div>

        <!-- grid of letter cards -->
        <div class="letters-grid" id="lettersGrid"></div>

        <div class="footer-note">
            <span>‚úâÔ∏è click any letter to read full text</span>
            <span id="resultCounter">showing 12 letters</span>
        </div>
    </div>

    <!-- modal (hidden) -->
    <div class="modal-overlay" id="letterModal">
        <div class="modal-letter" id="modalLetterContent">
            <div class="modal-header">
                <span class="modal-sender" id="modalSender">Sender</span>
                <span class="modal-year" id="modalYear">1600</span>
            </div>
            <div class="modal-recipient" id="modalRecipient">to Recipient</div>
            <div class="modal-place" id="modalPlace">üìç place</div>
            <div class="modal-body" id="modalBody">
                Full letter text goes here...
            </div>
            <button class="modal-close" id="closeModalBtn">close</button>
        </div>
    </div>

    <script>
        (function() {
            // ----- HISTORICAL LETTERS DATASET -----
            const letters = [
                {
                    sender: "Michelangelo",
                    recipient: "Giovanni da Pistoia",
                    year: 1509,
                    place: "Rome",
                    excerpt: "I am more exhausted than any man who ever lived; I am overcome with effort...",
                    fullText: "I am more exhausted than any man who ever lived; I am overcome with effort, surrounded by the greatest anxiety. Already for months I have been living in the most complete discomfort, working night and day, and my body has been reduced to a skeleton. But I cannot stop‚Äîthe Pope demands the ceiling finished, and I must obey. This work is my torment and my glory.",
                    century: "16"
                },
                {
                    sender: "Queen Elizabeth I",
                    recipient: "King James VI of Scotland",
                    year: 1586,
                    place: "Greenwich",
                    excerpt: "My dear brother, I hope you will understand the necessity...",
                    fullText: "My dear brother, I hope you will understand the necessity of the actions I must take. The Queen of Scots, your mother, has been implicated in plots against my throne. I assure you this decision is not taken lightly, but for the safety of my realm and yours, I see no other path. May God guide us both.",
                    century: "16"
                },
                {
                    sender: "Galileo Galilei",
                    recipient: "Belisario Vinta",
                    year: 1610,
                    place: "Padua",
                    excerpt: "I have discovered four wandering stars not known to any astronomer before me...",
                    fullText: "I have discovered four wandering stars not known to any astronomer before me. They revolve around Jupiter, like Venus and Mercury around the Sun. This confirms the Copernican system, which many still deny. I shall name them the Medicean Stars, in honor of your noble family.",
                    century: "17"
                },
                {
                    sender: "Ren√© Descartes",
                    recipient: "Marin Mersenne",
                    year: 1637,
                    place: "Leiden",
                    excerpt: "I think, therefore I am, is so firm and certain that...",
                    fullText: "I think, therefore I am, is so firm and certain that all the most extravagant suppositions of the skeptics are incapable of shaking it. I have decided to publish my Discourse on the Method, hoping it will contribute to the advancement of knowledge. I await your judgment, my friend.",
                    century: "17"
                },
                {
                    sender: "Voltaire",
                    recipient: "Frederick the Great",
                    year: 1740,
                    place: "Berlin",
                    excerpt: "You are a philosopher king; you prove that a monarch can think...",
                    fullText: "You are a philosopher king; you prove that a monarch can think, and that thought does not weaken the will. Prussia is fortunate to have you. Let us enlighten Europe together! I shall remain at your court as long as my health permits.",
                    century: "18"
                },
                {
                    sender: "Thomas Jefferson",
                    recipient: "John Adams",
                    year: 1813,
                    place: "Monticello",
                    excerpt: "I have received and read with great pleasure your letter...",
                    fullText: "I have received and read with great pleasure your letter. We have lived through an age of revolution, and now in our old age we can reflect on what we built. The Declaration and the Constitution remain beacons. Let us correspond often, my old friend, for there is none left who remembers what we do.",
                    century: "19"
                },
                {
                    sender: "Jane Austen",
                    recipient: "Cassandra Austen",
                    year: 1813,
                    place: "Chawton",
                    excerpt: "I have just finished writing a novel called 'Pride and Prejudice'...",
                    fullText: "I have just finished writing a novel called 'Pride and Prejudice', and I flatter myself it is something quite clever. The characters are drawn from life, though I shall deny it if asked. I hope you will be the first to read it when it is published.",
                    century: "19"
                },
                {
                    sender: "Abraham Lincoln",
                    recipient: "Mrs. Bixby",
                    year: 1864,
                    place: "Washington",
                    excerpt: "I feel how weak and fruitless must be any words of mine...",
                    fullText: "Dear Madam, I have been shown in the files of the War Department a statement of the Adjutant General of Massachusetts that you are the mother of five sons who have died gloriously on the field of battle. I feel how weak and fruitless must be any words of mine which should attempt to beguile you from the grief of a loss so overwhelming. But I cannot refrain from tendering to you the consolation that may be found in the thanks of the republic they died to save.",
                    century: "19"
                },
                {
                    sender: "Wolfgang Amadeus Mozart",
                    recipient: "Leopold Mozart",
                    year: 1778,
                    place: "Mannheim",
                    excerpt: "I write to you with a heavy heart; my mother is very ill...",
                    fullText: "I write to you with a heavy heart; my mother is very ill. The doctor says there is little hope. I am doing everything I can, but I fear the worst. Please forgive any distress this causes you. I will write again soon. Your loving son, Wolfgang.",
                    century: "18"
                },
                {
                    sender: "Beatrix Potter",
                    recipient: "Noel Moore",
                    year: 1893,
                    place: "London",
                    excerpt: "My dear Noel, I don't know what to write to you, so I shall tell you a story...",
                    fullText: "My dear Noel, I don't know what to write to you, so I shall tell you a story about four little rabbits whose names were Flopsy, Mopsy, Cottontail, and Peter. They lived with their mother in a sandbank under the root of a big fir tree...",
                    century: "19"
                },
                {
                    sender: "Napoleon Bonaparte",
                    recipient: "Jos√©phine",
                    year: 1796,
                    place: "Milan",
                    excerpt: "I have not spent a day without loving you; I have not spent a night without holding you in my arms...",
                    fullText: "I have not spent a day without loving you; I have not spent a night without holding you in my arms. I have drunk no tea without cursing the glory and ambition that keep me away from you, soul of my life. A thousand kisses, as pure and tender as my heart.",
                    century: "18"
                },
                {
                    sender: "Emily Dickinson",
                    recipient: "Thomas Wentworth Higginson",
                    year: 1862,
                    place: "Amherst",
                    excerpt: "Are you too deeply occupied to say if my verse is alive?",
                    fullText: "Are you too deeply occupied to say if my verse is alive? The mind is so near itself it cannot see distinctly. I have no one to ask. Should you think it breathed, and had you the leisure to tell me, I should feel quick gratitude. I enclose my name, asking you to return it, if you please.",
                    century: "19"
                }
            ];

            // ----- DOM elements -----
            const grid = document.getElementById('lettersGrid');
            const searchInput = document.getElementById('searchInput');
            const centuryBtns = document.querySelectorAll('.filter-btn');
            const counterSpan = document.getElementById('counterDisplay');
            const resultCounter = document.getElementById('resultCounter');
            const modalOverlay = document.getElementById('letterModal');
            const modalSender = document.getElementById('modalSender');
            const modalYear = document.getElementById('modalYear');
            const modalRecipient = document.getElementById('modalRecipient');
            const modalPlace = document.getElementById('modalPlace');
            const modalBody = document.getElementById('modalBody');
            const closeModalBtn = document.getElementById('closeModalBtn');

            // ----- state -----
            let activeCentury = 'all';
            let searchTerm = '';

            // ----- filter logic (century + search) -----
            function filterLetters() {
                return letters.filter(letter => {
                    // century filter
                    if (activeCentury !== 'all' && letter.century !== activeCentury) return false;

                    // search (case-insensitive) in sender, recipient, excerpt, fullText, place
                    if (searchTerm.trim() !== '') {
                        const term = searchTerm.trim().toLowerCase();
                        const haystack = `${letter.sender} ${letter.recipient} ${letter.excerpt} ${letter.fullText} ${letter.place}`.toLowerCase();
                        return haystack.includes(term);
                    }
                    return true;
                });
            }

            // ----- render cards -----
            function renderGrid() {
                const filtered = filterLetters();
                // sort by year ascending (oldest first)
                filtered.sort((a,b) => a.year - b.year);

                if (filtered.length === 0) {
                    grid.innerHTML = `<div style="grid-column:1/-1; text-align:center; padding:3.5rem; background:#2f2a22; border-radius:3rem; color:#bba88b;">üì≠ no letters match your search</div>`;
                } else {
                    let html = '';
                    filtered.forEach(letter => {
                        html += `
                            <div class="letter-card" data-sender="${letter.sender}" data-recipient="${letter.recipient}" data-year="${letter.year}" data-place="${letter.place}" data-full="${letter.fullText.replace(/"/g, '&quot;')}" data-century="${letter.century}">
                                <div class="card-year">${letter.year}</div>
                                <div class="card-sender">${letter.sender}</div>
                                <div class="card-recipient">${letter.recipient}</div>
                                <div class="card-excerpt">‚Äú${letter.excerpt}‚Äù</div>
                                <div class="card-footer">
                                    <span class="card-place">üìç ${letter.place}</span>
                                    <span>üìñ read</span>
                                </div>
                            </div>
                        `;
                    });
                    grid.innerHTML = html;
                }

                // update counters
                const total = filtered.length;
                counterSpan.textContent = `${total} letter${total !== 1 ? 's' : ''}`;
                resultCounter.textContent = `showing ${total} letter${total !== 1 ? 's' : ''}`;

                // attach click listeners to cards
                document.querySelectorAll('.letter-card').forEach(card => {
                    card.addEventListener('click', () => {
                        const sender = card.dataset.sender;
                        const recipient = card.dataset.recipient;
                        const year = card.dataset.year;
                        const place = card.dataset.place;
                        const fullText = card.dataset.full;
                        openModal(sender, recipient, year, place, fullText);
                    });
                });
            }

            // open modal with full letter
            function openModal(sender, recipient, year, place, fullText) {
                modalSender.textContent = sender;
                modalRecipient.textContent = `to ${recipient}`;
                modalYear.textContent = year;
                modalPlace.textContent = `üìç ${place}`;
                modalBody.textContent = fullText || 'Full text unavailable.';
                modalOverlay.classList.add('show');
            }

            // close modal
            function closeModal() {
                modalOverlay.classList.remove('show');
            }

            // ----- event listeners -----
            searchInput.addEventListener('input', (e) => {
                searchTerm = e.target.value;
                renderGrid();
            });

            centuryBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    centuryBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    activeCentury = btn.dataset.century;
                    renderGrid();
                });
            });

            closeModalBtn.addEventListener('click', closeModal);
            modalOverlay.addEventListener('click', (e) => {
                if (e.target === modalOverlay) closeModal();
            });

            // initial render
            renderGrid();
        })();
    </script>
</body>
</html>