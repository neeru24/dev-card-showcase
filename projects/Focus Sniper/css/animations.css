/* ==================== PARTICLE ANIMATIONS ==================== */
.particle {
    position: absolute;
    pointer-events: none;
    border-radius: 50%;
    animation: particleFade 1s ease-out forwards;
}

.particle.explosion {
    animation: particleExplosion 0.6s ease-out forwards;
}

.particle.trail {
    animation: particleTrail 0.8s ease-out forwards;
}

@keyframes particleFade {
    0% {
        opacity: 1;
        transform: scale(1);
    }
    100% {
        opacity: 0;
        transform: scale(0);
    }
}

@keyframes particleExplosion {
    0% {
        opacity: 1;
        transform: scale(0) translate(0, 0);
    }
    100% {
        opacity: 0;
        transform: scale(1.5) translate(var(--tx), var(--ty));
    }
}

@keyframes particleTrail {
    0% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
    100% {
        opacity: 0;
        transform: translateY(var(--fall-distance)) scale(0.5);
    }
}

/* ==================== HIT EFFECTS ==================== */
.hit-marker {
    position: absolute;
    font-size: 24px;
    font-weight: bold;
    color: var(--primary-color);
    text-shadow: 0 0 10px var(--primary-color);
    pointer-events: none;
    animation: hitMarkerFloat 1s ease-out forwards;
}

.hit-marker.critical {
    font-size: 36px;
    color: var(--accent-color);
    text-shadow: 0 0 20px var(--accent-color);
}

.hit-marker.miss {
    color: var(--danger-color);
    text-shadow: 0 0 10px var(--danger-color);
}

@keyframes hitMarkerFloat {
    0% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
    100% {
        opacity: 0;
        transform: translateY(-100px) scale(1.5);
    }
}

/* ==================== COMBO EFFECTS ==================== */
.combo-notification {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 48px;
    font-weight: bold;
    color: var(--warning-color);
    text-shadow: 0 0 30px var(--warning-color);
    pointer-events: none;
    animation: comboNotify 1.5s ease-out forwards;
    z-index: 50;
}

@keyframes comboNotify {
    0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0) rotate(-180deg);
    }
    50% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1.2) rotate(0deg);
    }
    100% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(1.5) rotate(180deg);
    }
}

/* ==================== SCREEN SHAKE ==================== */
.game-area.shake-light {
    animation: shakeLight 0.3s ease-in-out;
}

.game-area.shake-medium {
    animation: shakeMedium 0.5s ease-in-out;
}

.game-area.shake-heavy {
    animation: shakeHeavy 0.7s ease-in-out;
}

@keyframes shakeLight {
    0%, 100% { transform: translate(0, 0); }
    10%, 30%, 50%, 70%, 90% { transform: translate(-2px, 2px); }
    20%, 40%, 60%, 80% { transform: translate(2px, -2px); }
}

@keyframes shakeMedium {
    0%, 100% { transform: translate(0, 0) rotate(0deg); }
    10%, 30%, 50%, 70%, 90% { transform: translate(-5px, 5px) rotate(-1deg); }
    20%, 40%, 60%, 80% { transform: translate(5px, -5px) rotate(1deg); }
}

@keyframes shakeHeavy {
    0%, 100% { transform: translate(0, 0) rotate(0deg); }
    10%, 30%, 50%, 70%, 90% { transform: translate(-10px, 10px) rotate(-2deg); }
    20%, 40%, 60%, 80% { transform: translate(10px, -10px) rotate(2deg); }
}

/* ==================== RIPPLE EFFECT ==================== */
.ripple {
    position: absolute;
    border-radius: 50%;
    border: 3px solid var(--primary-color);
    animation: rippleExpand 0.8s ease-out forwards;
    pointer-events: none;
}

@keyframes rippleExpand {
    0% {
        width: 0;
        height: 0;
        opacity: 1;
        box-shadow: 0 0 10px var(--primary-color);
    }
    100% {
        width: 200px;
        height: 200px;
        opacity: 0;
        box-shadow: 0 0 30px var(--primary-color);
    }
}

/* ==================== LASER BEAM EFFECT ==================== */
.laser-beam {
    position: absolute;
    height: 2px;
    background: linear-gradient(90deg, 
        transparent, 
        var(--primary-color), 
        var(--accent-color), 
        transparent);
    box-shadow: 0 0 10px var(--primary-color);
    pointer-events: none;
    animation: laserFade 0.4s ease-out forwards;
    transform-origin: left center;
}

@keyframes laserFade {
    0% {
        opacity: 1;
        width: 0;
    }
    50% {
        opacity: 1;
    }
    100% {
        opacity: 0;
        width: var(--beam-length);
    }
}

/* ==================== ENERGY RING ==================== */
.energy-ring {
    position: absolute;
    border-radius: 50%;
    border: 4px solid var(--accent-color);
    animation: energyRingPulse 1s ease-out forwards;
    pointer-events: none;
    box-shadow: 0 0 20px var(--accent-color);
}

@keyframes energyRingPulse {
    0% {
        width: 20px;
        height: 20px;
        opacity: 1;
    }
    100% {
        width: 150px;
        height: 150px;
        opacity: 0;
    }
}

/* ==================== SCAN LINE EFFECT ==================== */
.scan-line {
    position: absolute;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, 
        transparent, 
        var(--primary-color), 
        transparent);
    box-shadow: 0 0 20px var(--primary-color);
    pointer-events: none;
    animation: scanLineMove 2s linear infinite;
}

@keyframes scanLineMove {
    0% {
        top: 0;
        opacity: 0;
    }
    10% {
        opacity: 1;
    }
    90% {
        opacity: 1;
    }
    100% {
        top: 100%;
        opacity: 0;
    }
}

/* ==================== GLITCH TEXT ==================== */
.glitch-text {
    position: relative;
    animation: glitchSkew 1s infinite;
}

.glitch-text::before,
.glitch-text::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.glitch-text::before {
    animation: glitchTop 0.4s infinite;
    clip-path: polygon(0 0, 100% 0, 100% 45%, 0 45%);
    color: var(--danger-color);
}

.glitch-text::after {
    animation: glitchBottom 0.4s infinite;
    clip-path: polygon(0 55%, 100% 55%, 100% 100%, 0 100%);
    color: var(--accent-color);
}

@keyframes glitchSkew {
    0%, 100% { transform: skew(0deg); }
    20% { transform: skew(-2deg); }
    40% { transform: skew(2deg); }
    60% { transform: skew(-1deg); }
    80% { transform: skew(1deg); }
}

@keyframes glitchTop {
    0%, 100% { transform: translate(0, 0); }
    33% { transform: translate(-2px, 2px); }
    66% { transform: translate(2px, -2px); }
}

@keyframes glitchBottom {
    0%, 100% { transform: translate(0, 0); }
    33% { transform: translate(2px, -2px); }
    66% { transform: translate(-2px, 2px); }
}

/* ==================== PULSE EFFECT ==================== */
.pulse-effect {
    animation: pulseGlow 0.6s ease-out;
}

@keyframes pulseGlow {
    0%, 100% {
        box-shadow: 0 0 0 0 var(--primary-color);
    }
    50% {
        box-shadow: 0 0 30px 10px var(--primary-color);
    }
}

/* ==================== FOCUS INDICATOR ==================== */
.focus-indicator {
    position: absolute;
    border: 3px dashed var(--primary-color);
    border-radius: 50%;
    pointer-events: none;
    animation: focusRotate 4s linear infinite;
    opacity: 0.6;
}

@keyframes focusRotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* ==================== DISTRACTION SPAWN EFFECT ==================== */
.distraction-spawn {
    animation: distractionSpawn 0.5s ease-out;
}

@keyframes distractionSpawn {
    0% {
        transform: scale(0) rotate(-360deg);
        opacity: 0;
        filter: blur(10px);
    }
    60% {
        transform: scale(1.1) rotate(10deg);
        filter: blur(0px);
    }
    100% {
        transform: scale(1) rotate(0deg);
        opacity: 1;
        filter: blur(0px);
    }
}

/* ==================== CRITICAL HIT FLASH ==================== */
.critical-flash {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle, var(--accent-color) 0%, transparent 70%);
    pointer-events: none;
    z-index: 99;
    animation: criticalFlash 0.4s ease-out;
}

@keyframes criticalFlash {
    0%, 100% {
        opacity: 0;
    }
    50% {
        opacity: 0.3;
    }
}

/* ==================== ACCURACY DECAY VISUAL ==================== */
.accuracy-warning {
    border: 3px solid var(--warning-color) !important;
    animation: accuracyWarningPulse 0.5s ease-in-out infinite;
}

@keyframes accuracyWarningPulse {
    0%, 100% {
        box-shadow: 0 0 10px var(--warning-color);
    }
    50% {
        box-shadow: 0 0 30px var(--warning-color);
    }
}

/* ==================== LEVEL UP EFFECT ==================== */
.level-up-notification {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 72px;
    font-weight: bold;
    background: linear-gradient(45deg, var(--primary-color), var(--accent-color), var(--warning-color));
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 0 0 40px rgba(255, 255, 255, 0.5);
    pointer-events: none;
    z-index: 100;
    animation: levelUpAppear 2s ease-out forwards;
}

@keyframes levelUpAppear {
    0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0) rotate(-180deg);
    }
    30% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1.3) rotate(10deg);
    }
    70% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1) rotate(-5deg);
    }
    100% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(1.5) rotate(0deg);
    }
}

/* ==================== STREAK NOTIFICATION ==================== */
.streak-notification {
    position: absolute;
    padding: 10px 25px;
    background: linear-gradient(135deg, var(--warning-color), var(--danger-color));
    border-radius: 25px;
    color: white;
    font-weight: bold;
    font-size: 18px;
    box-shadow: 0 0 30px var(--warning-color);
    pointer-events: none;
    animation: streakSlide 2s ease-out forwards;
}

@keyframes streakSlide {
    0% {
        opacity: 0;
        transform: translateX(-200px) rotate(-10deg);
    }
    20% {
        opacity: 1;
        transform: translateX(0) rotate(0deg);
    }
    80% {
        opacity: 1;
        transform: translateX(0) rotate(0deg);
    }
    100% {
        opacity: 0;
        transform: translateX(200px) rotate(10deg);
    }
}

/* ==================== CONFETTI PARTICLE ==================== */
.confetti {
    position: absolute;
    width: 10px;
    height: 10px;
    background: var(--primary-color);
    pointer-events: none;
    animation: confettiFall 3s ease-out forwards;
}

@keyframes confettiFall {
    0% {
        transform: translateY(0) rotate(0deg);
        opacity: 1;
    }
    100% {
        transform: translateY(var(--fall-distance)) rotate(var(--rotation));
        opacity: 0;
    }
}

/* ==================== DISTORTION WAVE ==================== */
.distortion-wave {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    z-index: 98;
    background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(0, 255, 0, 0.1) 2px,
        rgba(0, 255, 0, 0.1) 4px
    );
    animation: distortionMove 0.5s linear;
    opacity: 0;
}

@keyframes distortionMove {
    0%, 100% {
        opacity: 0;
        transform: translateY(0);
    }
    50% {
        opacity: 0.5;
        transform: translateY(20px);
    }
}

/* ==================== DAMAGE VIGNETTE ==================== */
.damage-vignette {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    z-index: 97;
    background: radial-gradient(circle, transparent 30%, var(--danger-color) 150%);
    opacity: 0;
    animation: damageFlash 0.5s ease-out;
}

@keyframes damageFlash {
    0%, 100% {
        opacity: 0;
    }
    50% {
        opacity: 0.5;
    }
}

/* ==================== TIME SLOW EFFECT ==================== */
.time-slow {
    filter: hue-rotate(180deg) saturate(0.5);
    transition: filter 0.5s ease;
}

/* ==================== POWERUP GLOW ==================== */
.powerup-glow {
    animation: powerupGlow 2s ease-in-out infinite;
}

@keyframes powerupGlow {
    0%, 100% {
        box-shadow: 0 0 20px var(--accent-color);
        transform: scale(1);
    }
    50% {
        box-shadow: 0 0 40px var(--accent-color);
        transform: scale(1.1);
    }
}

/* ==================== UTILITY ANIMATIONS ==================== */
.fade-in {
    animation: fadeIn 0.3s ease;
}

.fade-out {
    animation: fadeOut 0.3s ease forwards;
}

@keyframes fadeOut {
    from {
        opacity: 1;
    }
    to {
        opacity: 0;
    }
}

.slide-in-top {
    animation: slideInTop 0.5s ease;
}

@keyframes slideInTop {
    from {
        transform: translateY(-100%);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

.bounce-in {
    animation: bounceIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes bounceIn {
    0% {
        transform: scale(0);
        opacity: 0;
    }
    50% {
        transform: scale(1.1);
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}

.zoom-out {
    animation: zoomOut 0.3s ease forwards;
}

@keyframes zoomOut {
    from {
        transform: scale(1);
        opacity: 1;
    }
    to {
        transform: scale(0);
        opacity: 0;
    }
}
