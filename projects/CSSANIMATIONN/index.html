<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AnimateCSS - CSS Animation Builder</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #8B5CF6;
            --primary-light: #A78BFA;
            --primary-dark: #7C3AED;
            --secondary: #10B981;
            --secondary-light: #34D399;
            --accent: #F59E0B;
            --dark: #1F2937;
            --light: #F9FAFB;
            --gray: #6B7280;
            --light-gray: #E5E7EB;
            --white: #FFFFFF;
            --danger: #EF4444;
            --success: #10B981;
            --card-bg: #FFFFFF;
            --shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05);
            --shadow-heavy: 0 20px 40px -10px rgba(0, 0, 0, 0.1);
            --timeline-bg: #F3F4F6;
        }

        body {
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: var(--white);
            padding: 25px 0;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo i {
            font-size: 2.5rem;
            background-color: rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 12px;
        }

        .logo h1 {
            font-size: 2.2rem;
            font-weight: 700;
        }

        .logo .tagline {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-top: 2px;
        }

        .controls {
            display: flex;
            gap: 15px;
        }

        main {
            display: grid;
            grid-template-columns: 300px 1fr 350px;
            gap: 25px;
            margin-bottom: 40px;
        }

        @media (max-width: 1300px) {
            main {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto auto;
            }
            
            .header-content {
                flex-direction: column;
                align-items: flex-start;
                gap: 20px;
            }
            
            .controls {
                width: 100%;
                flex-wrap: wrap;
            }
        }

        .card {
            background-color: var(--card-bg);
            border-radius: 16px;
            padding: 25px;
            box-shadow: var(--shadow);
            border: 1px solid var(--light-gray);
            margin-bottom: 25px;
        }

        .card:last-child {
            margin-bottom: 0;
        }

        .card h2 {
            color: var(--dark);
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 2px solid var(--light-gray);
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.3rem;
        }

        .card h2 i {
            color: var(--primary);
        }

        .animation-preview-container {
            background-color: var(--light);
            border-radius: 12px;
            padding: 30px;
            height: 350px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid var(--light-gray);
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
        }

        #animationTarget {
            width: 120px;
            height: 120px;
            background-color: var(--primary);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
            box-shadow: 0 5px 15px rgba(139, 92, 246, 0.3);
            position: relative;
            transition: all 0.3s ease;
        }

        .animation-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .btn {
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            border: none;
        }

        .btn-primary {
            background-color: var(--primary);
            color: var(--white);
        }

        .btn-primary:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(139, 92, 246, 0.2);
        }

        .btn-secondary {
            background-color: var(--secondary);
            color: var(--white);
        }

        .btn-secondary:hover {
            background-color: #0DA271;
            transform: translateY(-2px);
        }

        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background-color: var(--primary);
            color: var(--white);
        }

        .btn-danger {
            background-color: var(--danger);
            color: var(--white);
        }

        .btn-danger:hover {
            background-color: #DC2626;
            transform: translateY(-2px);
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.85rem;
        }

        .btn-full {
            width: 100%;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
            font-size: 0.95rem;
        }

        .select-wrapper {
            position: relative;
        }

        select, input {
            width: 100%;
            padding: 12px 16px;
            border-radius: 8px;
            border: 1px solid var(--light-gray);
            background-color: var(--white);
            font-size: 0.95rem;
            color: var(--dark);
            transition: all 0.3s ease;
        }

        select:focus, input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
        }

        input[type="range"] {
            padding: 0;
            height: 6px;
        }

        .range-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .range-value {
            min-width: 40px;
            text-align: center;
            font-weight: 600;
            color: var(--primary);
            font-size: 0.9rem;
        }

        input[type="range"] {
            flex: 1;
            height: 6px;
            -webkit-appearance: none;
            background: var(--light-gray);
            border-radius: 3px;
            outline: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
            border: 3px solid var(--white);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }

        .checkbox-item input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: var(--primary);
        }

        .color-picker {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .color-display {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            border: 2px solid var(--light-gray);
            cursor: pointer;
        }

        .timeline-container {
            background-color: var(--timeline-bg);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            min-height: 200px;
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid var(--light-gray);
        }

        .timeline-item {
            background-color: var(--white);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 4px solid var(--primary);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
            transition: all 0.2s ease;
            cursor: move;
        }

        .timeline-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }

        .timeline-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .timeline-item-title {
            font-weight: 600;
            color: var(--dark);
        }

        .timeline-item-actions {
            display: flex;
            gap: 8px;
        }

        .timeline-item-property {
            font-size: 0.85rem;
            color: var(--gray);
            margin-bottom: 5px;
        }

        .keyframe-editor {
            background-color: var(--white);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid var(--light-gray);
            margin-top: 20px;
        }

        .keyframe-row {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px dashed var(--light-gray);
        }

        .keyframe-row:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .keyframe-time {
            min-width: 60px;
            font-weight: 600;
            color: var(--primary);
        }

        .keyframe-properties {
            flex: 1;
        }

        .css-output {
            background-color: #1E1E1E;
            color: #D4D4D4;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
            overflow-x: auto;
            white-space: pre-wrap;
            max-height: 400px;
            overflow-y: auto;
        }

        .css-output .css-property {
            color: #9CDCFE;
        }

        .css-output .css-value {
            color: #CE9178;
        }

        .css-output .css-selector {
            color: #D7BA7D;
        }

        .css-output .css-comment {
            color: #6A9955;
        }

        .preset-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 15px;
        }

        .preset-card {
            background-color: var(--white);
            border-radius: 10px;
            padding: 15px;
            border: 2px solid var(--light-gray);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .preset-card:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
        }

        .preset-icon {
            font-size: 1.8rem;
            color: var(--primary);
            margin-bottom: 10px;
        }

        .preset-name {
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--dark);
        }

        .animation-properties-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .property-control {
            background-color: var(--light);
            border-radius: 8px;
            padding: 15px;
            border: 1px solid var(--light-gray);
        }

        .property-name {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--dark);
            font-size: 0.9rem;
        }

        .easing-visualizer {
            height: 60px;
            background-color: var(--light);
            border-radius: 8px;
            margin-top: 10px;
            position: relative;
            overflow: hidden;
            border: 1px solid var(--light-gray);
        }

        .easing-path {
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            stroke: var(--primary);
            stroke-width: 2;
            fill: none;
        }

        .animation-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--light-gray);
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            line-height: 1;
        }

        .stat-label {
            font-size: 0.8rem;
            color: var(--gray);
            margin-top: 5px;
        }

        footer {
            text-align: center;
            padding: 25px 0;
            color: var(--gray);
            border-top: 1px solid var(--light-gray);
            margin-top: 30px;
            font-size: 0.9rem;
        }

        .highlight {
            color: var(--primary);
            font-weight: 600;
        }

        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: var(--gray);
        }

        .empty-state i {
            font-size: 3rem;
            margin-bottom: 15px;
            color: var(--light-gray);
        }

        .transform-controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 15px;
        }

        .transform-input {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .transform-input label {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--gray);
        }

        .animation-progress {
            height: 6px;
            background-color: var(--light-gray);
            border-radius: 3px;
            margin-top: 15px;
            overflow: hidden;
        }

        .animation-progress-bar {
            height: 100%;
            background-color: var(--primary);
            width: 0%;
            transition: width 0.1s linear;
        }

        .animation-state {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
            font-weight: 600;
            color: var(--primary);
        }

        .timeline-visual {
            height: 80px;
            background-color: var(--light);
            border-radius: 8px;
            margin-top: 15px;
            position: relative;
            border: 1px solid var(--light-gray);
            overflow: hidden;
        }

        .timeline-track {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            height: 30px;
            background-color: var(--primary-light);
            border-radius: 15px;
            opacity: 0.7;
        }

        .timeline-marker {
            position: absolute;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 12px;
            height: 12px;
            background-color: var(--primary);
            border-radius: 50%;
            border: 2px solid var(--white);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        .playhead {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 2px;
            background-color: var(--danger);
            z-index: 10;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-magic"></i>
                    <div>
                        <h1>AnimateCSS</h1>
                        <div class="tagline">Visual CSS Animation Builder</div>
                    </div>
                </div>
                <div class="controls">
                    <button class="btn btn-outline" id="resetBtn">
                        <i class="fas fa-redo"></i> Reset
                    </button>
                    <button class="btn btn-secondary" id="exportBtn">
                        <i class="fas fa-download"></i> Export CSS
                    </button>
                    <button class="btn btn-primary" id="shareBtn">
                        <i class="fas fa-share"></i> Share Animation
                    </button>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <main>
            <div class="sidebar">
                <div class="card">
                    <h2><i class="fas fa-sliders-h"></i> Properties</h2>
                    
                    <div class="form-group">
                        <label for="animationName">Animation Name</label>
                        <input type="text" id="animationName" value="myAnimation" placeholder="Enter animation name">
                    </div>
                    
                    <div class="form-group">
                        <label for="animationDuration">Duration: <span id="durationValue" class="range-value">1s</span></label>
                        <div class="range-container">
                            <input type="range" id="animationDuration" min="0.1" max="5" value="1" step="0.1">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="animationDelay">Delay: <span id="delayValue" class="range-value">0s</span></label>
                        <div class="range-container">
                            <input type="range" id="animationDelay" min="0" max="3" value="0" step="0.1">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="iterationCount">Iterations</label>
                        <select id="iterationCount">
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="infinite">Infinite</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="animationDirection">Direction</label>
                        <select id="animationDirection">
                            <option value="normal">Normal</option>
                            <option value="reverse">Reverse</option>
                            <option value="alternate">Alternate</option>
                            <option value="alternate-reverse">Alternate Reverse</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="timingFunction">Timing Function</label>
                        <select id="timingFunction">
                            <option value="linear">Linear</option>
                            <option value="ease" selected>Ease</option>
                            <option value="ease-in">Ease In</option>
                            <option value="ease-out">Ease Out</option>
                            <option value="ease-in-out">Ease In Out</option>
                            <option value="cubic-bezier(0.68, -0.55, 0.27, 1.55)">Bounce</option>
                            <option value="cubic-bezier(0.175, 0.885, 0.32, 1.275)">Elastic</option>
                        </select>
                        <div class="easing-visualizer">
                            <svg class="easing-path" viewBox="0 0 100 40" preserveAspectRatio="none"></svg>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Fill Mode</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="radio" id="fillNone" name="fillMode" value="none" checked>
                                <label for="fillNone">None</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="radio" id="fillForwards" name="fillMode" value="forwards">
                                <label for="fillForwards">Forwards</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="radio" id="fillBackwards" name="fillMode" value="backwards">
                                <label for="fillBackwards">Backwards</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="radio" id="fillBoth" name="fillMode" value="both">
                                <label for="fillBoth">Both</label>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <h2><i class="fas fa-palette"></i> Target Styling</h2>
                    
                    <div class="form-group">
                        <label for="targetColor">Color</label>
                        <div class="color-picker">
                            <div class="color-display" id="targetColorDisplay" style="background-color: #8B5CF6;"></div>
                            <input type="color" id="targetColor" value="#8B5CF6" style="flex: 1;">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="targetWidth">Width: <span id="widthValue" class="range-value">120px</span></label>
                        <div class="range-container">
                            <input type="range" id="targetWidth" min="50" max="300" value="120" step="10">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="targetHeight">Height: <span id="heightValue" class="range-value">120px</span></label>
                        <div class="range-container">
                            <input type="range" id="targetHeight" min="50" max="300" value="120" step="10">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="targetShape">Shape</label>
                        <select id="targetShape">
                            <option value="square">Square</option>
                            <option value="circle">Circle</option>
                            <option value="rectangle">Rectangle</option>
                            <option value="triangle">Triangle</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div class="main-content">
                <div class="card">
                    <h2><i class="fas fa-eye"></i> Preview</h2>
                    
                    <div class="animation-preview-container">
                        <div id="animationTarget">
                            <i class="fas fa-star"></i>
                        </div>
                    </div>
                    
                    <div class="animation-controls">
                        <button class="btn btn-primary" id="playBtn">
                            <i class="fas fa-play"></i> Play
                        </button>
                        <button class="btn btn-outline" id="pauseBtn">
                            <i class="fas fa-pause"></i> Pause
                        </button>
                        <button class="btn btn-outline" id="stopBtn">
                            <i class="fas fa-stop"></i> Stop
                        </button>
                        <button class="btn btn-outline" id="reverseBtn">
                            <i class="fas fa-backward"></i> Reverse
                        </button>
                    </div>
                    
                    <div class="animation-progress">
                        <div class="animation-progress-bar" id="animationProgress"></div>
                    </div>
                    
                    <div class="animation-state" id="animationState">
                        <i class="fas fa-clock"></i> <span>Ready</span>
                    </div>
                    
                    <div class="timeline-visual" id="timelineVisual">
                        <!-- Timeline visualization will be generated here -->
                    </div>
                </div>
                
                <div class="card">
                    <h2><i class="fas fa-layer-group"></i> Keyframe Editor</h2>
                    
                    <div class="keyframe-editor">
                        <div class="keyframe-row">
                            <div class="keyframe-time">0%</div>
                            <div class="keyframe-properties">
                                <div class="transform-controls">
                                    <div class="transform-input">
                                        <label>Translate X</label>
                                        <input type="number" id="translateX0" value="0" placeholder="px">
                                    </div>
                                    <div class="transform-input">
                                        <label>Translate Y</label>
                                        <input type="number" id="translateY0" value="0" placeholder="px">
                                    </div>
                                    <div class="transform-input">
                                        <label>Scale</label>
                                        <input type="number" id="scale0" value="1" placeholder="1 = 100%" step="0.1">
                                    </div>
                                    <div class="transform-input">
                                        <label>Rotate</label>
                                        <input type="number" id="rotate0" value="0" placeholder="deg">
                                    </div>
                                    <div class="transform-input">
                                        <label>Opacity</label>
                                        <input type="number" id="opacity0" value="1" placeholder="0-1" step="0.1" min="0" max="1">
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="keyframe-row">
                            <div class="keyframe-time">50%</div>
                            <div class="keyframe-properties">
                                <div class="transform-controls">
                                    <div class="transform-input">
                                        <label>Translate X</label>
                                        <input type="number" id="translateX50" value="100" placeholder="px">
                                    </div>
                                    <div class="transform-input">
                                        <label>Translate Y</label>
                                        <input type="number" id="translateY50" value="-50" placeholder="px">
                                    </div>
                                    <div class="transform-input">
                                        <label>Scale</label>
                                        <input type="number" id="scale50" value="1.5" placeholder="1 = 100%" step="0.1">
                                    </div>
                                    <div class="transform-input">
                                        <label>Rotate</label>
                                        <input type="number" id="rotate50" value="180" placeholder="deg">
                                    </div>
                                    <div class="transform-input">
                                        <label>Opacity</label>
                                        <input type="number" id="opacity50" value="0.8" placeholder="0-1" step="0.1" min="0" max="1">
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="keyframe-row">
                            <div class="keyframe-time">100%</div>
                            <div class="keyframe-properties">
                                <div class="transform-controls">
                                    <div class="transform-input">
                                        <label>Translate X</label>
                                        <input type="number" id="translateX100" value="0" placeholder="px">
                                    </div>
                                    <div class="transform-input">
                                        <label>Translate Y</label>
                                        <input type="number" id="translateY100" value="0" placeholder="px">
                                    </div>
                                    <div class="transform-input">
                                        <label>Scale</label>
                                        <input type="number" id="scale100" value="1" placeholder="1 = 100%" step="0.1">
                                    </div>
                                    <div class="transform-input">
                                        <label>Rotate</label>
                                        <input type="number" id="rotate100" value="360" placeholder="deg">
                                    </div>
                                    <div class="transform-input">
                                        <label>Opacity</label>
                                        <input type="number" id="opacity100" value="1" placeholder="0-1" step="0.1" min="0" max="1">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="animation-controls" style="margin-top: 20px;">
                        <button class="btn btn-outline btn-small" id="addKeyframeBtn">
                            <i class="fas fa-plus"></i> Add Keyframe
                        </button>
                        <button class="btn btn-outline btn-small" id="removeKeyframeBtn">
                            <i class="fas fa-minus"></i> Remove Keyframe
                        </button>
                        <button class="btn btn-outline btn-small" id="updateAnimationBtn">
                            <i class="fas fa-sync"></i> Update Animation
                        </button>
                    </div>
                </div>
                
                <div class="card">
                    <h2><i class="fas fa-history"></i> Timeline</h2>
                    <div class="timeline-container" id="timelineContainer">
                        <div class="timeline-item">
                            <div class="timeline-item-header">
                                <div class="timeline-item-title">Move Right & Scale</div>
                                <div class="timeline-item-actions">
                                    <button class="btn btn-small btn-outline" style="padding: 4px 8px; font-size: 0.7rem;">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-small btn-danger" style="padding: 4px 8px; font-size: 0.7rem;">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="timeline-item-property">Translate X: 0px → 100px</div>
                            <div class="timeline-item-property">Scale: 1 → 1.5</div>
                            <div class="timeline-item-property">Time: 0% - 50%</div>
                        </div>
                        
                        <div class="timeline-item">
                            <div class="timeline-item-header">
                                <div class="timeline-item-title">Rotate & Return</div>
                                <div class="timeline-item-actions">
                                    <button class="btn btn-small btn-outline" style="padding: 4px 8px; font-size: 0.7rem;">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-small btn-danger" style="padding: 4px 8px; font-size: 0.7rem;">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="timeline-item-property">Rotate: 180° → 360°</div>
                            <div class="timeline-item-property">Translate X: 100px → 0px</div>
                            <div class="timeline-item-property">Time: 50% - 100%</div>
                        </div>
                    </div>
                    
                    <button class="btn btn-outline btn-full" id="addToTimelineBtn" style="margin-top: 15px;">
                        <i class="fas fa-plus-circle"></i> Add Animation to Timeline
                    </button>
                </div>
            </div>
            
            <div class="sidebar-right">
                <div class="card">
                    <h2><i class="fas fa-code"></i> CSS Output</h2>
                    <div id="cssOutput" class="css-output">
                        /* CSS will be generated here */
                    </div>
                    
                    <div class="animation-controls" style="margin-top: 20px;">
                        <button class="btn btn-primary" id="copyCssBtn">
                            <i class="fas fa-copy"></i> Copy CSS
                        </button>
                        <button class="btn btn-outline" id="copyHtmlBtn">
                            <i class="fas fa-code"></i> Copy HTML
                        </button>
                    </div>
                </div>
                
                <div class="card">
                    <h2><i class="fas fa-rocket"></i> Animation Presets</h2>
                    <div class="preset-grid">
                        <div class="preset-card" data-preset="bounce">
                            <div class="preset-icon">
                                <i class="fas fa-basketball-ball"></i>
                            </div>
                            <div class="preset-name">Bounce</div>
                        </div>
                        
                        <div class="preset-card" data-preset="fade">
                            <div class="preset-icon">
                                <i class="fas fa-eye-slash"></i>
                            </div>
                            <div class="preset-name">Fade In</div>
                        </div>
                        
                        <div class="preset-card" data-preset="slide">
                            <div class="preset-icon">
                                <i class="fas fa-arrow-right"></i>
                            </div>
                            <div class="preset-name">Slide In</div>
                        </div>
                        
                        <div class="preset-card" data-preset="spin">
                            <div class="preset-icon">
                                <i class="fas fa-sync-alt"></i>
                            </div>
                            <div class="preset-name">Spin</div>
                        </div>
                        
                        <div class="preset-card" data-preset="pulse">
                            <div class="preset-icon">
                                <i class="fas fa-heartbeat"></i>
                            </div>
                            <div class="preset-name">Pulse</div>
                        </div>
                        
                        <div class="preset-card" data-preset="shake">
                            <div class="preset-icon">
                                <i class="fas fa-hand-rock"></i>
                            </div>
                            <div class="preset-name">Shake</div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <h2><i class="fas fa-chart-line"></i> Animation Stats</h2>
                    <div class="animation-stats">
                        <div class="stat-item">
                            <div class="stat-value" id="keyframeCount">3</div>
                            <div class="stat-label">Keyframes</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="propertyCount">5</div>
                            <div class="stat-label">Properties</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="durationStat">1s</div>
                            <div class="stat-label">Duration</div>
                        </div>
                    </div>
                    
                    <div class="form-group" style="margin-top: 20px;">
                        <label>Performance</label>
                        <div class="animation-progress" style="height: 10px;">
                            <div class="animation-progress-bar" style="width: 85%; background-color: var(--success);"></div>
                        </div>
                        <div style="text-align: center; font-size: 0.8rem; color: var(--success); margin-top: 5px;">
                            <i class="fas fa-check-circle"></i> Good (85/100)
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <footer>
        <div class="container">
            <p>AnimateCSS &copy; 2026 | Visual CSS Animation Builder</p>
            <p style="margin-top: 10px; font-size: 0.8rem;">Tip: Use the timeline to sequence multiple animations on the same element.</p>
        </div>
    </footer>

    <script>
        // DOM Elements
        const animationTarget = document.getElementById('animationTarget');
        const animationNameInput = document.getElementById('animationName');
        const animationDurationInput = document.getElementById('animationDuration');
        const durationValue = document.getElementById('durationValue');
        const animationDelayInput = document.getElementById('animationDelay');
        const delayValue = document.getElementById('delayValue');
        const iterationCountSelect = document.getElementById('iterationCount');
        const animationDirectionSelect = document.getElementById('animationDirection');
        const timingFunctionSelect = document.getElementById('timingFunction');
        const easingVisualizer = document.querySelector('.easing-path');
        const targetColorInput = document.getElementById('targetColor');
        const targetColorDisplay = document.getElementById('targetColorDisplay');
        const targetWidthInput = document.getElementById('targetWidth');
        const widthValue = document.getElementById('widthValue');
        const targetHeightInput = document.getElementById('targetHeight');
        const heightValue = document.getElementById('heightValue');
        const targetShapeSelect = document.getElementById('targetShape');
        
        // Control buttons
        const playBtn = document.getElementById('playBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const stopBtn = document.getElementById('stopBtn');
        const reverseBtn = document.getElementById('reverseBtn');
        const resetBtn = document.getElementById('resetBtn');
        const exportBtn = document.getElementById('exportBtn');
        const shareBtn = document.getElementById('shareBtn');
        const copyCssBtn = document.getElementById('copyCssBtn');
        const copyHtmlBtn = document.getElementById('copyHtmlBtn');
        const addKeyframeBtn = document.getElementById('addKeyframeBtn');
        const removeKeyframeBtn = document.getElementById('removeKeyframeBtn');
        const updateAnimationBtn = document.getElementById('updateAnimationBtn');
        const addToTimelineBtn = document.getElementById('addToTimelineBtn');
        
        // Keyframe inputs
        const keyframeInputs = {
            '0': {
                translateX: document.getElementById('translateX0'),
                translateY: document.getElementById('translateY0'),
                scale: document.getElementById('scale0'),
                rotate: document.getElementById('rotate0'),
                opacity: document.getElementById('opacity0')
            },
            '50': {
                translateX: document.getElementById('translateX50'),
                translateY: document.getElementById('translateY50'),
                scale: document.getElementById('scale50'),
                rotate: document.getElementById('rotate50'),
                opacity: document.getElementById('opacity50')
            },
            '100': {
                translateX: document.getElementById('translateX100'),
                translateY: document.getElementById('translateY100'),
                scale: document.getElementById('scale100'),
                rotate: document.getElementById('rotate100'),
                opacity: document.getElementById('opacity100')
            }
        };
        
        // Output elements
        const cssOutput = document.getElementById('cssOutput');
        const animationProgress = document.getElementById('animationProgress');
        const animationState = document.getElementById('animationState');
        const timelineVisual = document.getElementById('timelineVisual');
        const timelineContainer = document.getElementById('timelineContainer');
        const keyframeCount = document.getElementById('keyframeCount');
        const propertyCount = document.getElementById('propertyCount');
        const durationStat = document.getElementById('durationStat');
        
        // App state
        let currentAnimation = null;
        let animationIsPlaying = false;
        let animationStartTime = 0;
        let animationProgressInterval = null;
        let keyframes = [
            { time: 0, properties: { translateX: 0, translateY: 0, scale: 1, rotate: 0, opacity: 1 } },
            { time: 50, properties: { translateX: 100, translateY: -50, scale: 1.5, rotate: 180, opacity: 0.8 } },
            { time: 100, properties: { translateX: 0, translateY: 0, scale: 1, rotate: 360, opacity: 1 } }
        ];
        let timelineItems = [];
        
        // Initialize the app
        function initApp() {
            // Set initial values
            updateRangeValues();
            updateTargetStyling();
            updateEasingVisualization();
            updateAnimationStats();
            updateCssOutput();
            generateTimelineVisual();
            
            // Set up event listeners
            setupEventListeners();
            
            // Apply initial animation
            applyAnimation();
        }
        
        // Set up event listeners
        function setupEventListeners() {
            // Range inputs
            animationDurationInput.addEventListener('input', updateRangeValues);
            animationDelayInput.addEventListener('input', updateRangeValues);
            targetWidthInput.addEventListener('input', updateRangeValues);
            targetHeightInput.addEventListener('input', updateRangeValues);
            
            // Color input
            targetColorInput.addEventListener('input', updateTargetStyling);
            
            // Shape select
            targetShapeSelect.addEventListener('change', updateTargetStyling);
            
            // Timing function select
            timingFunctionSelect.addEventListener('change', updateEasingVisualization);
            
            // Control buttons
            playBtn.addEventListener('click', playAnimation);
            pauseBtn.addEventListener('click', pauseAnimation);
            stopBtn.addEventListener('click', stopAnimation);
            reverseBtn.addEventListener('click', reverseAnimation);
            resetBtn.addEventListener('click', resetAnimation);
            exportBtn.addEventListener('click', exportAnimation);
            shareBtn.addEventListener('click', shareAnimation);
            copyCssBtn.addEventListener('click', copyCss);
            copyHtmlBtn.addEventListener('click', copyHtml);
            addKeyframeBtn.addEventListener('click', addKeyframe);
            removeKeyframeBtn.addEventListener('click', removeKeyframe);
            updateAnimationBtn.addEventListener('click', updateAnimationFromInputs);
            addToTimelineBtn.addEventListener('click', addToTimeline);
            
            // Keyframe input events
            Object.keys(keyframeInputs).forEach(time => {
                const inputs = keyframeInputs[time];
                Object.keys(inputs).forEach(property => {
                    inputs[property].addEventListener('input', () => {
                        updateKeyframeProperty(parseInt(time), property, inputs[property].value);
                    });
                });
            });
            
            // Preset cards
            document.querySelectorAll('.preset-card').forEach(card => {
                card.addEventListener('click', function() {
                    const preset = this.getAttribute('data-preset');
                    applyPreset(preset);
                });
            });
            
            // Animation end event
            animationTarget.addEventListener('animationend', function() {
                animationIsPlaying = false;
                updateAnimationState('Finished');
                clearInterval(animationProgressInterval);
                animationProgress.style.width = '100%';
            });
            
            // Animation start event
            animationTarget.addEventListener('animationstart', function() {
                updateAnimationState('Playing');
            });
        }
        
        // Update range value displays
        function updateRangeValues() {
            durationValue.textContent = `${animationDurationInput.value}s`;
            delayValue.textContent = `${animationDelayInput.value}s`;
            widthValue.textContent = `${targetWidthInput.value}px`;
            heightValue.textContent = `${targetHeightInput.value}px`;
            
            // Update stats
            durationStat.textContent = `${animationDurationInput.value}s`;
            
            // Update target styling if width/height changed
            if (event && (event.target.id === 'targetWidth' || event.target.id === 'targetHeight')) {
                updateTargetStyling();
            }
            
            // Update animation if duration/delay changed
            if (event && (event.target.id === 'animationDuration' || event.target.id === 'animationDelay')) {
                applyAnimation();
                updateCssOutput();
            }
        }
        
        // Update target styling
        function updateTargetStyling() {
            // Update color
            const color = targetColorInput.value;
            targetColorDisplay.style.backgroundColor = color;
            animationTarget.style.backgroundColor = color;
            
            // Update size
            const width = targetWidthInput.value + 'px';
            const height = targetHeightInput.value + 'px';
            animationTarget.style.width = width;
            animationTarget.style.height = height;
            
            // Update shape
            const shape = targetShapeSelect.value;
            switch(shape) {
                case 'circle':
                    animationTarget.style.borderRadius = '50%';
                    break;
                case 'rectangle':
                    animationTarget.style.borderRadius = '0';
                    break;
                case 'triangle':
                    animationTarget.style.borderRadius = '0';
                    animationTarget.style.clipPath = 'polygon(50% 0%, 0% 100%, 100% 100%)';
                    animationTarget.innerHTML = '<i class="fas fa-play" style="transform: rotate(90deg);"></i>';
                    break;
                default: // square
                    animationTarget.style.borderRadius = '12px';
                    animationTarget.style.clipPath = '';
                    animationTarget.innerHTML = '<i class="fas fa-star"></i>';
            }
            
            updateCssOutput();
        }
        
        // Update easing visualization
        function updateEasingVisualization() {
            const timingFunction = timingFunctionSelect.value;
            let path = '';
            
            // Create SVG path based on timing function
            if (timingFunction === 'linear') {
                path = 'M 0,30 L 100,10';
            } else if (timingFunction === 'ease') {
                path = 'M 0,30 C 25,30 40,5 100,10';
            } else if (timingFunction === 'ease-in') {
                path = 'M 0,30 C 40,30 70,20 100,10';
            } else if (timingFunction === 'ease-out') {
                path = 'M 0,30 C 30,20 60,10 100,10';
            } else if (timingFunction === 'ease-in-out') {
                path = 'M 0,30 C 20,30 40,5 60,5 C 80,5 90,10 100,10';
            } else if (timingFunction.includes('cubic-bezier')) {
                // For bounce/elastic presets
                path = 'M 0,30 C 25,5 40,30 60,5 C 80,30 90,5 100,10';
            }
            
            easingVisualizer.setAttribute('d', path);
            applyAnimation();
            updateCssOutput();
        }
        
        // Update keyframe property
        function updateKeyframeProperty(time, property, value) {
            const keyframe = keyframes.find(k => k.time === time);
            if (keyframe) {
                keyframe.properties[property] = parseFloat(value);
                applyAnimation();
                updateCssOutput();
                updateAnimationStats();
            }
        }
        
        // Apply animation to target
        function applyAnimation() {
            // Remove any existing animation
            animationTarget.style.animation = 'none';
            
            // Create keyframes CSS
            const keyframesCss = generateKeyframesCss();
            
            // Create style element for keyframes
            let styleEl = document.getElementById('dynamicKeyframes');
            if (!styleEl) {
                styleEl = document.createElement('style');
                styleEl.id = 'dynamicKeyframes';
                document.head.appendChild(styleEl);
            }
            
            styleEl.textContent = keyframesCss;
            
            // Apply animation to target
            const duration = animationDurationInput.value + 's';
            const delay = animationDelayInput.value + 's';
            const iterationCount = iterationCountSelect.value;
            const direction = animationDirectionSelect.value;
            const timingFunction = timingFunctionSelect.value;
            const fillMode = document.querySelector('input[name="fillMode"]:checked').value;
            const animationName = animationNameInput.value || 'myAnimation';
            
            animationTarget.style.animation = `
                ${animationName} ${duration} ${timingFunction} ${delay} ${iterationCount} ${direction} ${fillMode}
            `;
            
            // Update current animation reference
            currentAnimation = animationTarget.style.animation;
            
            // Update timeline visualization
            generateTimelineVisual();
        }
        
        // Generate keyframes CSS
        function generateKeyframesCss() {
            const animationName = animationNameInput.value || 'myAnimation';
            let css = `@keyframes ${animationName} {\n`;
            
            // Sort keyframes by time
            const sortedKeyframes = [...keyframes].sort((a, b) => a.time - b.time);
            
            sortedKeyframes.forEach(keyframe => {
                css += `  ${keyframe.time}% {\n`;
                
                // Add transform properties
                const transforms = [];
                if (keyframe.properties.translateX !== 0 || keyframe.properties.translateY !== 0) {
                    transforms.push(`translate(${keyframe.properties.translateX}px, ${keyframe.properties.translateY}px)`);
                }
                if (keyframe.properties.scale !== 1) {
                    transforms.push(`scale(${keyframe.properties.scale})`);
                }
                if (keyframe.properties.rotate !== 0) {
                    transforms.push(`rotate(${keyframe.properties.rotate}deg)`);
                }
                
                if (transforms.length > 0) {
                    css += `    transform: ${transforms.join(' ')};\n`;
                }
                
                // Add opacity
                if (keyframe.properties.opacity !== 1) {
                    css += `    opacity: ${keyframe.properties.opacity};\n`;
                }
                
                css += `  }\n`;
            });
            
            css += '}';
            return css;
        }
        
        // Update CSS output display
        function updateCssOutput() {
            const keyframesCss = generateKeyframesCss();
            
            // Get animation properties
            const duration = animationDurationInput.value + 's';
            const delay = animationDelayInput.value + 's';
            const iterationCount = iterationCountSelect.value;
            const direction = animationDirectionSelect.value;
            const timingFunction = timingFunctionSelect.value;
            const fillMode = document.querySelector('input[name="fillMode"]:checked').value;
            const animationName = animationNameInput.value || 'myAnimation';
            
            // Get target styling
            const width = targetWidthInput.value + 'px';
            const height = targetHeightInput.value + 'px';
            const color = targetColorInput.value;
            const shape = targetShapeSelect.value;
            
            let shapeCss = '';
            if (shape === 'circle') {
                shapeCss = '  border-radius: 50%;';
            } else if (shape === 'triangle') {
                shapeCss = '  clip-path: polygon(50% 0%, 0% 100%, 100% 100%);';
            }
            
            const css = `/* Keyframes Definition */
${keyframesCss}

/* Element Styling */
.animated-element {
  width: ${width};
  height: ${height};
  background-color: ${color};
  border-radius: 12px;
${shapeCss}
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: bold;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}

/* Animation Application */
.animated-element {
  animation: ${animationName} ${duration} ${timingFunction} ${delay} ${iterationCount} ${direction} ${fillMode};
}`;
            
            // Syntax highlighting (basic)
            const highlightedCss = css
                .replace(/\/(\*[\s\S]*?\*)\//g, '<span class="css-comment">$1</span>')
                .replace(/(@keyframes|@media|@import)/g, '<span class="css-selector">$1</span>')
                .replace(/(animation|transform|opacity|width|height|background-color|border-radius|display|align-items|justify-content|color|font-weight|box-shadow)/g, '<span class="css-property">$1</span>')
                .replace(/([0-9.]+(px|s|deg|%)|#[0-9a-fA-F]{3,6}|circle|flex|center|bold)/g, '<span class="css-value">$1</span>');
            
            cssOutput.innerHTML = highlightedCss;
        }
        
        // Play animation
        function playAnimation() {
            if (animationIsPlaying) return;
            
            animationIsPlaying = true;
            animationStartTime = Date.now();
            updateAnimationState('Playing');
            
            // Reset progress bar
            animationProgress.style.width = '0%';
            
            // Start progress tracking
            const duration = parseFloat(animationDurationInput.value) * 1000;
            clearInterval(animationProgressInterval);
            
            animationProgressInterval = setInterval(() => {
                const elapsed = Date.now() - animationStartTime;
                const progress = Math.min((elapsed / duration) * 100, 100);
                animationProgress.style.width = `${progress}%`;
                
                if (progress >= 100) {
                    clearInterval(animationProgressInterval);
                    animationIsPlaying = false;
                    updateAnimationState('Finished');
                }
            }, 16); // ~60fps
            
            // Trigger animation
            animationTarget.style.animationPlayState = 'running';
        }
        
        // Pause animation
        function pauseAnimation() {
            if (!animationIsPlaying) return;
            
            animationIsPlaying = false;
            animationTarget.style.animationPlayState = 'paused';
            updateAnimationState('Paused');
            clearInterval(animationProgressInterval);
        }
        
        // Stop animation
        function stopAnimation() {
            animationIsPlaying = false;
            animationTarget.style.animation = 'none';
            updateAnimationState('Stopped');
            clearInterval(animationProgressInterval);
            animationProgress.style.width = '0%';
            
            // Reapply animation after a brief moment
            setTimeout(() => {
                applyAnimation();
            }, 10);
        }
        
        // Reverse animation
        function reverseAnimation() {
            const currentDirection = animationDirectionSelect.value;
            let newDirection;
            
            switch(currentDirection) {
                case 'normal': newDirection = 'reverse'; break;
                case 'reverse': newDirection = 'normal'; break;
                case 'alternate': newDirection = 'alternate-reverse'; break;
                case 'alternate-reverse': newDirection = 'alternate'; break;
                default: newDirection = 'reverse';
            }
            
            animationDirectionSelect.value = newDirection;
            applyAnimation();
            updateCssOutput();
        }
        
        // Reset animation
        function resetAnimation() {
            // Reset all inputs to defaults
            animationNameInput.value = 'myAnimation';
            animationDurationInput.value = 1;
            animationDelayInput.value = 0;
            iterationCountSelect.value = 1;
            animationDirectionSelect.value = 'normal';
            timingFunctionSelect.value = 'ease';
            
            // Reset keyframes to defaults
            keyframes = [
                { time: 0, properties: { translateX: 0, translateY: 0, scale: 1, rotate: 0, opacity: 1 } },
                { time: 50, properties: { translateX: 100, translateY: -50, scale: 1.5, rotate: 180, opacity: 0.8 } },
                { time: 100, properties: { translateX: 0, translateY: 0, scale: 1, rotate: 360, opacity: 1 } }
            ];
            
            // Update keyframe inputs
            updateKeyframeInputs();
            
            // Reset target styling
            targetColorInput.value = '#8B5CF6';
            targetWidthInput.value = 120;
            targetHeightInput.value = 120;
            targetShapeSelect.value = 'square';
            
            // Update UI
            updateRangeValues();
            updateTargetStyling();
            updateEasingVisualization();
            updateAnimationStats();
            applyAnimation();
            updateCssOutput();
            stopAnimation();
            
            alert('Animation has been reset to defaults.');
        }
        
        // Update keyframe inputs from keyframes data
        function updateKeyframeInputs() {
            keyframes.forEach(keyframe => {
                const time = keyframe.time;
                const inputs = keyframeInputs[time];
                
                if (inputs) {
                    Object.keys(keyframe.properties).forEach(property => {
                        if (inputs[property]) {
                            inputs[property].value = keyframe.properties[property];
                        }
                    });
                }
            });
        }
        
        // Add keyframe
        function addKeyframe() {
            // Find a time slot that's not already used
            let newTime = 25;
            while (keyframes.some(k => k.time === newTime)) {
                newTime += 25;
                if (newTime >= 100) {
                    alert('Maximum number of keyframes reached (4).');
                    return;
                }
            }
            
            // Add new keyframe
            keyframes.push({
                time: newTime,
                properties: { translateX: 50, translateY: 0, scale: 1.2, rotate: 90, opacity: 0.9 }
            });
            
            // Sort keyframes
            keyframes.sort((a, b) => a.time - b.time);
            
            // Update UI
            updateAnimationStats();
            applyAnimation();
            updateCssOutput();
            
            alert(`New keyframe added at ${newTime}%`);
        }
        
        // Remove keyframe
        function removeKeyframe() {
            if (keyframes.length <= 2) {
                alert('You need at least 2 keyframes (start and end).');
                return;
            }
            
            // Remove the middle keyframe (not 0% or 100%)
            const middleKeyframes = keyframes.filter(k => k.time > 0 && k.time < 100);
            if (middleKeyframes.length > 0) {
                const toRemove = middleKeyframes[middleKeyframes.length - 1].time;
                keyframes = keyframes.filter(k => k.time !== toRemove);
                
                // Update UI
                updateAnimationStats();
                applyAnimation();
                updateCssOutput();
                
                alert(`Keyframe at ${toRemove}% removed.`);
            }
        }
        
        // Update animation from inputs
        function updateAnimationFromInputs() {
            // Update keyframes from inputs
            Object.keys(keyframeInputs).forEach(time => {
                const timeNum = parseInt(time);
                let keyframe = keyframes.find(k => k.time === timeNum);
                
                if (keyframe) {
                    const inputs = keyframeInputs[time];
                    Object.keys(inputs).forEach(property => {
                        keyframe.properties[property] = parseFloat(inputs[property].value) || 0;
                    });
                }
            });
            
            applyAnimation();
            updateCssOutput();
            updateAnimationStats();
            
            alert('Animation updated from keyframe inputs.');
        }
        
        // Add to timeline
        function addToTimeline() {
            const animationName = animationNameInput.value || 'myAnimation';
            const duration = animationDurationInput.value + 's';
            
            // Create timeline item
            const timelineItem = {
                id: Date.now(),
                name: animationName,
                duration: duration,
                keyframes: [...keyframes]
            };
            
            timelineItems.push(timelineItem);
            
            // Add to timeline UI
            const timelineItemEl = document.createElement('div');
            timelineItemEl.className = 'timeline-item';
            timelineItemEl.innerHTML = `
                <div class="timeline-item-header">
                    <div class="timeline-item-title">${animationName}</div>
                    <div class="timeline-item-actions">
                        <button class="btn btn-small btn-outline timeline-edit" style="padding: 4px 8px; font-size: 0.7rem;">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-small btn-danger timeline-delete" style="padding: 4px 8px; font-size: 0.7rem;">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
                <div class="timeline-item-property">Duration: ${duration}</div>
                <div class="timeline-item-property">Keyframes: ${keyframes.length}</div>
            `;
            
            timelineContainer.appendChild(timelineItemEl);
            
            // Add event listeners to buttons
            timelineItemEl.querySelector('.timeline-edit').addEventListener('click', function() {
                // Load this animation into the editor
                keyframes = [...timelineItem.keyframes];
                animationNameInput.value = timelineItem.name;
                updateKeyframeInputs();
                applyAnimation();
                updateCssOutput();
                updateAnimationStats();
                
                alert(`Loaded "${timelineItem.name}" from timeline.`);
            });
            
            timelineItemEl.querySelector('.timeline-delete').addEventListener('click', function() {
                timelineItems = timelineItems.filter(item => item.id !== timelineItem.id);
                timelineItemEl.remove();
            });
            
            alert('Animation added to timeline.');
        }
        
        // Apply preset
        function applyPreset(presetName) {
            switch(presetName) {
                case 'bounce':
                    keyframes = [
                        { time: 0, properties: { translateX: 0, translateY: 0, scale: 1, rotate: 0, opacity: 1 } },
                        { time: 20, properties: { translateX: 0, translateY: -80, scale: 1.1, rotate: 0, opacity: 1 } },
                        { time: 40, properties: { translateX: 0, translateY: 0, scale: 1, rotate: 0, opacity: 1 } },
                        { time: 60, properties: { translateX: 0, translateY: -50, scale: 1.05, rotate: 0, opacity: 1 } },
                        { time: 80, properties: { translateX: 0, translateY: 0, scale: 1, rotate: 0, opacity: 1 } },
                        { time: 100, properties: { translateX: 0, translateY: 0, scale: 1, rotate: 0, opacity: 1 } }
                    ];
                    timingFunctionSelect.value = 'cubic-bezier(0.68, -0.55, 0.27, 1.55)';
                    animationDurationInput.value = 0.8;
                    break;
                    
                case 'fade':
                    keyframes = [
                        { time: 0, properties: { translateX: 0, translateY: 0, scale: 1, rotate: 0, opacity: 0 } },
                        { time: 100, properties: { translateX: 0, translateY: 0, scale: 1, rotate: 0, opacity: 1 } }
                    ];
                    timingFunctionSelect.value = 'ease-in';
                    animationDurationInput.value = 1.5;
                    break;
                    
                case 'slide':
                    keyframes = [
                        { time: 0, properties: { translateX: -200, translateY: 0, scale: 1, rotate: 0, opacity: 1 } },
                        { time: 100, properties: { translateX: 0, translateY: 0, scale: 1, rotate: 0, opacity: 1 } }
                    ];
                    timingFunctionSelect.value = 'ease-out';
                    animationDurationInput.value = 0.7;
                    break;
                    
                case 'spin':
                    keyframes = [
                        { time: 0, properties: { translateX: 0, translateY: 0, scale: 1, rotate: 0, opacity: 1 } },
                        { time: 100, properties: { translateX: 0, translateY: 0, scale: 1, rotate: 360, opacity: 1 } }
                    ];
                    timingFunctionSelect.value = 'linear';
                    animationDurationInput.value = 1;
                    iterationCountSelect.value = 'infinite';
                    break;
                    
                case 'pulse':
                    keyframes = [
                        { time: 0, properties: { translateX: 0, translateY: 0, scale: 1, rotate: 0, opacity: 1 } },
                        { time: 50, properties: { translateX: 0, translateY: 0, scale: 1.2, rotate: 0, opacity: 0.9 } },
                        { time: 100, properties: { translateX: 0, translateY: 0, scale: 1, rotate: 0, opacity: 1 } }
                    ];
                    timingFunctionSelect.value = 'ease-in-out';
                    animationDurationInput.value = 1;
                    iterationCountSelect.value = 'infinite';
                    break;
                    
                case 'shake':
                    keyframes = [
                        { time: 0, properties: { translateX: 0, translateY: 0, scale: 1, rotate: 0, opacity: 1 } },
                        { time: 10, properties: { translateX: -10, translateY: 0, scale: 1, rotate: -5, opacity: 1 } },
                        { time: 20, properties: { translateX: 10, translateY: 0, scale: 1, rotate: 5, opacity: 1 } },
                        { time: 30, properties: { translateX: -10, translateY: 0, scale: 1, rotate: -5, opacity: 1 } },
                        { time: 40, properties: { translateX: 10, translateY: 0, scale: 1, rotate: 5, opacity: 1 } },
                        { time: 50, properties: { translateX: -10, translateY: 0, scale: 1, rotate: -5, opacity: 1 } },
                        { time: 60, properties: { translateX: 10, translateY: 0, scale: 1, rotate: 5, opacity: 1 } },
                        { time: 70, properties: { translateX: -10, translateY: 0, scale: 1, rotate: -5, opacity: 1 } },
                        { time: 80, properties: { translateX: 10, translateY: 0, scale: 1, rotate: 5, opacity: 1 } },
                        { time: 90, properties: { translateX: -5, translateY: 0, scale: 1, rotate: -2, opacity: 1 } },
                        { time: 100, properties: { translateX: 0, translateY: 0, scale: 1, rotate: 0, opacity: 1 } }
                    ];
                    timingFunctionSelect.value = 'linear';
                    animationDurationInput.value = 0.5;
                    break;
            }
            
            // Update UI
            updateKeyframeInputs();
            updateRangeValues();
            updateEasingVisualization();
            updateAnimationStats();
            applyAnimation();
            updateCssOutput();
            
            alert(`"${presetName}" preset applied.`);
        }
        
        // Update animation state display
        function updateAnimationState(state) {
            const stateText = animationState.querySelector('span');
            stateText.textContent = state;
            
            // Update icon based on state
            const icon = animationState.querySelector('i');
            switch(state) {
                case 'Playing':
                    icon.className = 'fas fa-play';
                    break;
                case 'Paused':
                    icon.className = 'fas fa-pause';
                    break;
                case 'Stopped':
                    icon.className = 'fas fa-stop';
                    break;
                case 'Finished':
                    icon.className = 'fas fa-check';
                    break;
                default:
                    icon.className = 'fas fa-clock';
            }
        }
        
        // Update animation stats
        function updateAnimationStats() {
            keyframeCount.textContent = keyframes.length;
            
            // Count unique properties being animated
            const properties = new Set();
            keyframes.forEach(k => {
                Object.keys(k.properties).forEach(prop => {
                    // Check if property changes across keyframes
                    const values = keyframes.map(kf => kf.properties[prop]);
                    if (new Set(values).size > 1) {
                        properties.add(prop);
                    }
                });
            });
            
            propertyCount.textContent = properties.size;
        }
        
        // Generate timeline visualization
        function generateTimelineVisual() {
            timelineVisual.innerHTML = '';
            
            // Create tracks for each property
            const properties = ['translateX', 'translateY', 'scale', 'rotate', 'opacity'];
            
            properties.forEach((prop, index) => {
                const track = document.createElement('div');
                track.className = 'timeline-track';
                track.style.top = `${20 + index * 15}%`;
                track.style.left = '0%';
                track.style.width = '100%';
                timelineVisual.appendChild(track);
            });
            
            // Add keyframe markers
            keyframes.forEach(keyframe => {
                const marker = document.createElement('div');
                marker.className = 'timeline-marker';
                marker.style.left = `${keyframe.time}%`;
                marker.style.top = '50%';
                timelineVisual.appendChild(marker);
            });
            
            // Add playhead
            const playhead = document.createElement('div');
            playhead.className = 'playhead';
            playhead.id = 'timelinePlayhead';
            playhead.style.left = '0%';
            timelineVisual.appendChild(playhead);
        }
        
        // Export animation
        function exportAnimation() {
            const css = cssOutput.textContent;
            const blob = new Blob([css], { type: 'text/css' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${animationNameInput.value || 'animation'}.css`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            alert(`Animation exported as ${a.download}`);
        }
        
        // Share animation
        function shareAnimation() {
            // In a real app, this would generate a shareable link
            alert('Share functionality would generate a unique URL for this animation in a production app.');
        }
        
        // Copy CSS to clipboard
        async function copyCss() {
            try {
                const css = cssOutput.textContent;
                await navigator.clipboard.writeText(css);
                alert('CSS copied to clipboard!');
            } catch (err) {
                console.error('Failed to copy: ', err);
                alert('Failed to copy CSS to clipboard. Please try again.');
            }
        }
        
        // Copy HTML to clipboard
        async function copyHtml() {
            const html = `<div class="animated-element">
  <i class="fas fa-star"></i>
</div>`;
            
            try {
                await navigator.clipboard.writeText(html);
                alert('HTML copied to clipboard!');
            } catch (err) {
                console.error('Failed to copy: ', err);
                alert('Failed to copy HTML to clipboard. Please try again.');
            }
        }
        
        // Initialize the app when page loads
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>