<!DOCTYPE html>
<html lang="en">
<head >
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîç mystery puzzle ¬∑ enigma chamber</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Courier New', monospace, system-ui;
            user-select: none;
        }

        body {
            background: #0b1a22;
            background-image: radial-gradient(circle at 30% 10%, #1d445b 0%, #08212b 90%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }

        .mystery-card {
            max-width: 1100px;
            width: 100%;
            background: #142830e0;
            backdrop-filter: blur(12px);
            border: 3px solid #7cabbe;
            border-radius: 64px;
            padding: 2rem 2rem 2.2rem;
            box-shadow: 0 30px 40px -10px black, inset 0 0 30px #386277;
        }

        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            color: #e7f2fd;
            text-shadow: 0 2px 0 #103d51;
            border-bottom: 2px dashed #639bb3;
            padding-bottom: 0.8rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .riddle-tag {
            background: #1d4b60;
            border-radius: 60px;
            padding: 0.5rem 2rem;
            font-size: 1.3rem;
            border: 2px solid #b1defa;
            font-weight: 600;
            letter-spacing: 2px;
        }

        .clue-counter {
            font-size: 1.5rem;
            background: #0e2f3d;
            border-radius: 40px;
            padding: 0.3rem 2rem;
            border: 2px solid #7ac4e7;
        }

        .puzzle-grid {
            display: grid;
            grid-template-columns: 2fr 1.2fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        @media (max-width: 700px) {
            .puzzle-grid { grid-template-columns: 1fr; }
        }

        /* left mystery area */
        .mystery-area {
            background: #0b2530d0;
            border-radius: 48px;
            border: 2px solid #6fadcc;
            padding: 1.8rem 1.5rem;
            box-shadow: inset 0 -5px 0 #1f495b, 0 15px 20px -5px black;
        }

        .question-box {
            background: #123d4e;
            border-radius: 40px;
            padding: 1.5rem;
            border: 3px solid #a7d4f0;
            margin-bottom: 2rem;
        }

        .riddle-text {
            color: #fbeba0;
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 0.8rem;
            text-align: center;
            word-break: break-word;
        }

        .hint-text {
            color: #b4e3ff;
            font-size: 1.2rem;
            font-style: italic;
            border-top: 1px dashed #7eb2ca;
            padding-top: 0.8rem;
        }

        .input-group {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            margin-bottom: 1.5rem;
        }

        .mystery-input {
            flex: 2;
            background: #082631;
            border: 3px solid #4797bd;
            border-radius: 60px;
            padding: 1.2rem 1.8rem;
            font-size: 1.4rem;
            color: #fffbee;
            outline: none;
            min-width: 200px;
        }
        .mystery-input:focus {
            border-color: #f5cf7b;
            box-shadow: 0 0 20px #f5b81b;
        }

        .btn {
            background: #2e6077;
            border: none;
            border-radius: 60px;
            padding: 1rem 2.2rem;
            font-size: 1.4rem;
            font-weight: 700;
            color: #faf9e4;
            border-bottom: 6px solid #17465a;
            box-shadow: 0 9px 0 #0a2d3a;
            cursor: pointer;
            transition: 0.06s linear;
            border-left: 2px solid #aae0fc;
            border-right: 2px solid #aae0fc;
            display: inline-flex;
            align-items: center;
            gap: 12px;
        }

        .btn:active {
            transform: translateY(5px);
            box-shadow: 0 4px 0 #0a2d3a;
            border-bottom-width: 3px;
        }

        .btn-primary {
            background: #bc8b3c;
            border-bottom-color: #755523;
            box-shadow: 0 9px 0 #52401b;
        }

        .clue-log {
            background: #0c2c39;
            border-radius: 32px;
            padding: 1.5rem;
            border: 2px solid #4d99bb;
        }

        .clue-log h3 {
            color: #ffeeb5;
            font-size: 1.8rem;
            margin-bottom: 0.8rem;
        }

        .log-list {
            list-style: none;
            max-height: 200px;
            overflow-y: auto;
            padding-right: 5px;
        }
        .log-list li {
            background: #124e66;
            border-radius: 30px;
            padding: 0.7rem 1.4rem;
            margin-bottom: 8px;
            color: #e6f3ff;
            border: 1px solid #99d2f0;
            font-size: 1.1rem;
        }

        /* right panel: puzzles & inventory */
        .puzzle-panel {
            background: #092631d0;
            border-radius: 48px;
            border: 2px solid #70a9c9;
            padding: 1.8rem 1.5rem;
        }

        .puzzle-piece {
            background: #144c62;
            border-radius: 30px;
            padding: 1.2rem;
            margin-bottom: 1.5rem;
            border: 2px solid #9fd0ec;
        }

        .piece-title {
            color: #f9e289;
            font-size: 1.5rem;
            font-weight: 600;
        }
        .piece-desc {
            color: #c4e2f5;
            font-size: 1.1rem;
            margin: 0.6rem 0;
        }

        .puzzle-status {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        .indicator {
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: #3a3a3a;
            box-shadow: 0 0 8px currentColor;
        }
        .solved { background: #7be07b; box-shadow: 0 0 15px #a5f7a5; }
        .unsolved { background: #e05b5b; box-shadow: 0 0 10px #ff7b7b; }

        .artifact-box {
            background: #104154;
            border-radius: 28px;
            padding: 1rem 1.5rem;
            margin: 1.5rem 0;
            border: 2px solid #cb9a5e;
            color: #f5d29c;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .artifact-box span {
            background: #1f140e;
            padding: 0.3rem 1.5rem;
            border-radius: 40px;
            font-family: monospace;
            font-size: 1.6rem;
        }

        .footer-stats {
            display: flex;
            justify-content: space-between;
            color: #bedcf0;
            background: #0d3342;
            border-radius: 60px;
            padding: 1rem 2rem;
            border: 2px solid #6caccc;
            margin-top: 1.5rem;
        }
    </style>
</head>
<body>
    <div class="mystery-card">
        <div class="header">
            <span class="riddle-tag">üîé ENIGMA VAULT</span>
            <span class="clue-counter" id="clueCountDisplay">üóùÔ∏è clues 0/5</span>
        </div>

        <div class="puzzle-grid">
            <!-- LEFT: mystery input + log -->
            <div class="mystery-area">
                <div class="question-box">
                    <div class="riddle-text" id="riddleDisplay">‚ö° "I speak without a mouth..."</div>
                    <div class="hint-text" id="hintDisplay">hint: the answer is all around you</div>
                </div>

                <div class="input-group">
                    <input type="text" class="mystery-input" id="answerInput" placeholder="your answer..." autocomplete="off">
                    <button class="btn btn-primary" id="submitBtn">üîì submit</button>
                </div>

                <div class="clue-log">
                    <h3>üìú clue log</h3>
                    <ul class="log-list" id="logList">
                        <li>üîç the adventure begins...</li>
                    </ul>
                </div>
            </div>

            <!-- RIGHT: puzzle pieces & inventory -->
            <div class="puzzle-panel">
                <div class="puzzle-piece" id="puzzle1">
                    <div class="piece-title">üß© silent echo</div>
                    <div class="piece-desc">a reflection that repeats, but never speaks</div>
                    <div class="puzzle-status">
                        <span class="indicator" id="p1Indicator"></span>
                        <span id="p1Status">unsolved</span>
                    </div>
                </div>
                <div class="puzzle-piece" id="puzzle2">
                    <div class="piece-title">üß© hidden number</div>
                    <div class="piece-desc">a number hidden in plain sight: 3.14159...</div>
                    <div class="puzzle-status">
                        <span class="indicator" id="p2Indicator"></span>
                        <span id="p2Status">unsolved</span>
                    </div>
                </div>

                <div class="artifact-box">
                    <span>üîÆ</span> <span id="artifactCode">????</span>
                </div>

                <button class="btn" id="resetBtn" style="width:100%;">üîÑ reset mystery</button>
            </div>
        </div>

        <!-- footer stats -->
        <div class="footer-stats">
            <span>üïØÔ∏è mystery level: <span id="mysteryLevel">1</span></span>
            <span>‚ú® fragments: <span id="fragmentCount">0</span>/2</span>
            <span id="finalMessage"></span>
        </div>
    </div>

    <script>
        (function() {
            // ---------- MYSTERY DATA ----------
            const riddles = [
                { riddle: 'I speak without a mouth and hear without ears. I have no body, but I come alive with wind.', hint: 'echo, echo, echo...', answer: 'echo' },
                { riddle: 'The more of me you take, the more you leave behind. What am I?', hint: 'steps / footprints', answer: 'footsteps' },
                { riddle: 'I have cities, but no houses. I have mountains, but no trees. I have water, but no fish.', hint: 'atlas / map', answer: 'map' }
            ];

            // puzzle pieces (two parts to collect)
            let fragments = [false, false]; // fragment 0 (puzzle1), fragment 1 (puzzle2)

            // game state
            let currentRiddleIndex = 0;          // 0,1,2...
            let solvedRiddlesCount = 0;
            let clueLog = ['üîç the adventure begins...'];
            let mysteryLevel = 1;
            let artifactUnlocked = false;

            // DOM elements
            const riddleDisplay = document.getElementById('riddleDisplay');
            const hintDisplay = document.getElementById('hintDisplay');
            const answerInput = document.getElementById('answerInput');
            const submitBtn = document.getElementById('submitBtn');
            const logList = document.getElementById('logList');
            const clueCountSpan = document.getElementById('clueCountDisplay');
            const p1Indicator = document.getElementById('p1Indicator');
            const p2Indicator = document.getElementById('p2Indicator');
            const p1Status = document.getElementById('p1Status');
            const p2Status = document.getElementById('p2Status');
            const artifactCodeSpan = document.getElementById('artifactCode');
            const mysteryLevelSpan = document.getElementById('mysteryLevel');
            const fragmentSpan = document.getElementById('fragmentCount');
            const finalMessageSpan = document.getElementById('finalMessage');
            const resetBtn = document.getElementById('resetBtn');

            // update UI according to state
            function refreshUI() {
                // update riddle
                const r = riddles[currentRiddleIndex % riddles.length];
                riddleDisplay.innerText = `‚ùì "${r.riddle}"`;
                hintDisplay.innerText = `üí° hint: ${r.hint}`;

                // update fragments / puzzle pieces
                p1Indicator.className = fragments[0] ? 'indicator solved' : 'indicator unsolved';
                p2Indicator.className = fragments[1] ? 'indicator solved' : 'indicator unsolved';
                p1Status.innerText = fragments[0] ? 'solved' : 'unsolved';
                p2Status.innerText = fragments[1] ? 'solved' : 'unsolved';

                // artifact code revealed if both fragments collected
                if (fragments[0] && fragments[1]) {
                    artifactCodeSpan.innerText = 'Œ®Œû-42';
                    artifactUnlocked = true;
                    finalMessageSpan.innerText = 'üèÜ ARTIFACT UNLOCKED';
                } else {
                    artifactCodeSpan.innerText = '????';
                    finalMessageSpan.innerText = '';
                }

                // clue log list
                logList.innerHTML = clueLog.map(msg => `<li>${msg}</li>`).join('');

                // clue count = solvedRiddlesCount
                clueCountSpan.innerText = `üóùÔ∏è clues ${solvedRiddlesCount}/${riddles.length * 2}`; // just aesthetic

                mysteryLevelSpan.innerText = mysteryLevel;
                fragmentSpan.innerText = `${fragments.filter(Boolean).length}/2`;
            }

            // add log message
            function addLog(msg) {
                clueLog.push(msg);
                if (clueLog.length > 8) clueLog.shift();
                refreshUI();
            }

            // handle answer submission
            function handleSubmit() {
                const userAnswer = answerInput.value.trim().toLowerCase();
                if (!userAnswer) {
                    addLog('‚ö†Ô∏è you must type something...');
                    return;
                }

                const currentRiddle = riddles[currentRiddleIndex % riddles.length];
                const correct = currentRiddle.answer.toLowerCase();

                if (userAnswer === correct || userAnswer.includes(correct)) { // simple match
                    // correct!
                    addLog(`‚úÖ correct: "${currentRiddle.answer}" ‚Äî mystery deepens.`);

                    // award fragment based on riddle index (even/odd)
                    if (currentRiddleIndex % 2 === 0) {
                        if (!fragments[0]) {
                            fragments[0] = true;
                            addLog('üß© obtained: silent echo fragment');
                        } else {
                            addLog('üîÅ you already solved that piece, but the echo lingers.');
                        }
                    } else {
                        if (!fragments[1]) {
                            fragments[1] = true;
                            addLog('üß© obtained: hidden number fragment');
                        } else {
                            addLog('üîÅ you already have this fragment.');
                        }
                    }

                    solvedRiddlesCount++;
                    // advance to next riddle, cycle through
                    currentRiddleIndex = (currentRiddleIndex + 1) % riddles.length;
                    mysteryLevel++;

                    // check if both fragments gathered
                    if (fragments[0] && fragments[1] && !artifactUnlocked) {
                        addLog('üåüüåü THE ARTIFACT GLOWS: Œ®Œû-42 revealed!');
                    }

                } else {
                    addLog(`‚ùå "${userAnswer}" is not correct. try again.`);
                }

                // clear input
                answerInput.value = '';
                refreshUI();
            }

            // reset game (but keep some mystery)
            function resetGame() {
                fragments = [false, false];
                solvedRiddlesCount = 0;
                currentRiddleIndex = 0;
                mysteryLevel = 1;
                artifactUnlocked = false;
                clueLog = ['üîç mystery reset. the enigma awaits...'];
                refreshUI();
                addLog('üåÄ all fragments vanished.');
            }

            // event listeners
            submitBtn.addEventListener('click', handleSubmit);
            answerInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') handleSubmit();
            });
            resetBtn.addEventListener('click', resetGame);

            // initialize
            refreshUI();
            addLog('‚ú® whisper the right words to unveil fragments.');
        })();
    </script>
</body>
</html>