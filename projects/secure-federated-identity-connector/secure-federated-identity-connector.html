<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure Federated Identity Connector</title>
    <link rel="stylesheet" href="cross-platform-rendering-engine.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/crypto-js@4.1.1/crypto-js.min.js"></script>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-content">
            <div class="logo">
                <i class="fas fa-shield-alt"></i>
                <div>
                    <h1 class="header-title">Secure Federated Identity Connector</h1>
                    <p class="header-subtitle">Unified Identity Management Across Multiple Providers</p>
                </div>
            </div>
            <div class="connection-status">
                <div class="status-indicator" id="connectionStatus"></div>
                <span id="connectionStatusText">Secure Connection</span>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav>
        <ul class="nav-list">
            <li class="nav-item"><a href="#dashboard" class="nav-link active"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
            <li class="nav-item"><a href="#providers" class="nav-link"><i class="fas fa-server"></i> Identity Providers</a></li>
            <li class="nav-item"><a href="#federation" class="nav-link"><i class="fas fa-link"></i> Federation</a></li>
            <li class="nav-item"><a href="#security" class="nav-link"><i class="fas fa-lock"></i> Security</a></li>
            <li class="nav-item"><a href="#analytics" class="nav-link"><i class="fas fa-chart-line"></i> Analytics</a></li>
            <li class="nav-item"><a href="#settings" class="nav-link"><i class="fas fa-cog"></i> Settings</a></li>
        </ul>
    </nav>

    <!-- Dashboard Section -->
    <section id="dashboard" class="section active">
        <h2 class="section-title"><i class="fas fa-tachometer-alt"></i> Identity Dashboard</h2>

        <!-- Metrics Grid -->
        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-header">
                    <h3 class="metric-title">Active Users</h3>
                    <i class="fas fa-users metric-icon"></i>
                </div>
                <div class="metric-value" id="activeUsersValue">2,847</div>
                <div class="metric-change positive" id="activeUsersChange">+12.5%</div>
            </div>

            <div class="metric-card">
                <div class="metric-header">
                    <h3 class="metric-title">Federated Logins</h3>
                    <i class="fas fa-sign-in-alt metric-icon"></i>
                </div>
                <div class="metric-value" id="federatedLoginsValue">15,632</div>
                <div class="metric-change positive" id="federatedLoginsChange">+8.2%</div>
            </div>

            <div class="metric-card">
                <div class="metric-header">
                    <h3 class="metric-title">Security Score</h3>
                    <i class="fas fa-shield-alt metric-icon"></i>
                </div>
                <div class="metric-value" id="securityScoreValue">98.7%</div>
                <div class="metric-change positive" id="securityScoreChange">+2.1%</div>
            </div>

            <div class="metric-card">
                <div class="metric-header">
                    <h3 class="metric-title">Failed Attempts</h3>
                    <i class="fas fa-exclamation-triangle metric-icon"></i>
                </div>
                <div class="metric-value" id="failedAttemptsValue">23</div>
                <div class="metric-change negative" id="failedAttemptsChange">-15.3%</div>
            </div>
        </div>

        <!-- Charts Container -->
        <div class="charts-container">
            <div class="chart-container">
                <h3 class="chart-title">Authentication Trends</h3>
                <canvas id="authTrendsChart"></canvas>
            </div>

            <div class="chart-container">
                <h3 class="chart-title">Provider Distribution</h3>
                <canvas id="providerChart"></canvas>
            </div>
        </div>

        <!-- Recent Activity -->
        <div class="activity-panel">
            <h3 class="panel-title"><i class="fas fa-history"></i> Recent Activity</h3>
            <div class="activity-list" id="activityList">
                <!-- Activity items will be populated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Identity Providers Section -->
    <section id="providers" class="section">
        <h2 class="section-title"><i class="fas fa-server"></i> Identity Providers</h2>

        <div class="providers-controls">
            <button class="btn btn-primary" id="addProviderBtn">
                <i class="fas fa-plus"></i> Add Provider
            </button>
            <div class="search-container">
                <input type="text" id="providerSearch" placeholder="Search providers..." class="form-control">
                <i class="fas fa-search search-icon"></i>
            </div>
        </div>

        <div class="providers-grid" id="providersGrid">
            <!-- Provider cards will be populated by JavaScript -->
        </div>
    </section>

    <!-- Federation Section -->
    <section id="federation" class="section">
        <h2 class="section-title"><i class="fas fa-link"></i> Federation Management</h2>

        <div class="federation-controls">
            <div class="control-group">
                <label for="federationProtocol">Protocol</label>
                <select id="federationProtocol" class="form-control">
                    <option value="saml">SAML 2.0</option>
                    <option value="oauth">OAuth 2.0</option>
                    <option value="openid">OpenID Connect</option>
                    <option value="wsfed">WS-Federation</option>
                </select>
            </div>

            <div class="control-group">
                <label for="trustLevel">Trust Level</label>
                <select id="trustLevel" class="form-control">
                    <option value="high">High Trust</option>
                    <option value="medium">Medium Trust</option>
                    <option value="low">Low Trust</option>
                </select>
            </div>

            <button class="btn btn-primary" id="createFederationBtn">
                <i class="fas fa-plus"></i> Create Federation
            </button>
        </div>

        <div class="federation-table" id="federationTable">
            <!-- Federation entries will be populated by JavaScript -->
        </div>
    </section>

    <!-- Security Section -->
    <section id="security" class="section">
        <h2 class="section-title"><i class="fas fa-lock"></i> Security Center</h2>

        <div class="security-grid">
            <div class="security-panel">
                <h3 class="panel-title"><i class="fas fa-key"></i> Token Management</h3>
                <div class="token-controls">
                    <button class="btn btn-secondary" id="rotateTokensBtn">
                        <i class="fas fa-sync"></i> Rotate Tokens
                    </button>
                    <button class="btn btn-warning" id="revokeTokensBtn">
                        <i class="fas fa-ban"></i> Revoke Compromised
                    </button>
                </div>
                <div class="token-stats" id="tokenStats">
                    <!-- Token statistics will be populated by JavaScript -->
                </div>
            </div>

            <div class="security-panel">
                <h3 class="panel-title"><i class="fas fa-shield-alt"></i> Security Policies</h3>
                <div class="policy-list" id="policyList">
                    <!-- Security policies will be populated by JavaScript -->
                </div>
            </div>

            <div class="security-panel">
                <h3 class="panel-title"><i class="fas fa-exclamation-triangle"></i> Threat Detection</h3>
                <div class="threat-alerts" id="threatAlerts">
                    <!-- Threat alerts will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </section>

    <!-- Analytics Section -->
    <section id="analytics" class="section">
        <h2 class="section-title"><i class="fas fa-chart-line"></i> Identity Analytics</h2>

        <div class="analytics-controls">
            <div class="control-group">
                <label for="timeRange">Time Range</label>
                <select id="timeRange" class="form-control">
                    <option value="24h">Last 24 Hours</option>
                    <option value="7d">Last 7 Days</option>
                    <option value="30d">Last 30 Days</option>
                    <option value="90d">Last 90 Days</option>
                </select>
            </div>

            <button class="btn btn-primary" id="refreshAnalyticsBtn">
                <i class="fas fa-sync"></i> Refresh
            </button>
        </div>

        <div class="analytics-charts">
            <div class="chart-container full-width">
                <h3 class="chart-title">Authentication Success Rate</h3>
                <canvas id="successRateChart"></canvas>
            </div>

            <div class="chart-container">
                <h3 class="chart-title">Login Methods</h3>
                <canvas id="loginMethodsChart"></canvas>
            </div>

            <div class="chart-container">
                <h3 class="chart-title">Geographic Distribution</h3>
                <canvas id="geoChart"></canvas>
            </div>
        </div>
    </section>

    <!-- Settings Section -->
    <section id="settings" class="section">
        <h2 class="section-title"><i class="fas fa-cog"></i> System Settings</h2>

        <div class="settings-grid">
            <div class="setting-group">
                <h3 class="group-title">General Settings</h3>
                <div class="setting-item">
                    <label class="setting-label">Auto-rotate Tokens</label>
                    <label class="toggle-switch">
                        <input type="checkbox" id="autoRotateToggle" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <div class="setting-item">
                    <label class="setting-label">Multi-factor Authentication</label>
                    <label class="toggle-switch">
                        <input type="checkbox" id="mfaToggle" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <div class="setting-item">
                    <label class="setting-label">Session Timeout (minutes)</label>
                    <input type="number" id="sessionTimeoutInput" value="30" min="5" max="480" class="form-control small">
                </div>
            </div>

            <div class="setting-group">
                <h3 class="group-title">Security Settings</h3>
                <div class="setting-item">
                    <label class="setting-label">Enable Threat Detection</label>
                    <label class="toggle-switch">
                        <input type="checkbox" id="threatDetectionToggle" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <div class="setting-item">
                    <label class="setting-label">IP Whitelisting</label>
                    <label class="toggle-switch">
                        <input type="checkbox" id="ipWhitelistToggle">
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <div class="setting-item">
                    <label class="setting-label">Max Failed Attempts</label>
                    <input type="number" id="maxFailedAttemptsInput" value="5" min="1" max="20" class="form-control small">
                </div>
            </div>

            <div class="setting-group">
                <h3 class="group-title">Federation Settings</h3>
                <div class="setting-item">
                    <label class="setting-label">Auto-approve Providers</label>
                    <label class="toggle-switch">
                        <input type="checkbox" id="autoApproveToggle">
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <div class="setting-item">
                    <label class="setting-label">Default Trust Level</label>
                    <select id="defaultTrustLevel" class="form-control">
                        <option value="high">High</option>
                        <option value="medium" selected>Medium</option>
                        <option value="low">Low</option>
                    </select>
                </div>

                <div class="setting-item">
                    <label class="setting-label">Federation Timeout (seconds)</label>
                    <input type="number" id="federationTimeoutInput" value="30" min="5" max="300" class="form-control small">
                </div>
            </div>
        </div>

        <div class="settings-actions">
            <button class="btn btn-primary" id="saveSettingsBtn">
                <i class="fas fa-save"></i> Save Settings
            </button>
            <button class="btn btn-secondary" id="resetSettingsBtn">
                <i class="fas fa-undo"></i> Reset to Defaults
            </button>
            <button class="btn btn-info" id="exportSettingsBtn">
                <i class="fas fa-download"></i> Export Configuration
            </button>
        </div>
    </section>

    <!-- Modals -->
    <div id="providerModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="providerModalTitle">Add Identity Provider</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <form id="providerForm">
                    <div class="form-group">
                        <label for="providerName">Provider Name</label>
                        <input type="text" id="providerName" class="form-control" required>
                    </div>

                    <div class="form-group">
                        <label for="providerType">Provider Type</label>
                        <select id="providerType" class="form-control" required>
                            <option value="oauth">OAuth 2.0</option>
                            <option value="saml">SAML</option>
                            <option value="openid">OpenID Connect</option>
                            <option value="ldap">LDAP</option>
                            <option value="social">Social Login</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="clientId">Client ID</label>
                        <input type="text" id="clientId" class="form-control" required>
                    </div>

                    <div class="form-group">
                        <label for="clientSecret">Client Secret</label>
                        <input type="password" id="clientSecret" class="form-control" required>
                    </div>

                    <div class="form-group">
                        <label for="authorizationUrl">Authorization URL</label>
                        <input type="url" id="authorizationUrl" class="form-control" required>
                    </div>

                    <div class="form-group">
                        <label for="tokenUrl">Token URL</label>
                        <input type="url" id="tokenUrl" class="form-control" required>
                    </div>

                    <div class="form-group">
                        <label for="userInfoUrl">User Info URL</label>
                        <input type="url" id="userInfoUrl" class="form-control">
                    </div>

                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="enabledProvider">
                            Enable Provider
                        </label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelProviderBtn">Cancel</button>
                <button class="btn btn-primary" id="saveProviderBtn">Save Provider</button>
            </div>
        </div>
    </div>

    <div id="alertModal" class="modal">
        <div class="modal-content small">
            <div class="modal-header">
                <h3 class="modal-title" id="alertTitle">Alert</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <p id="alertMessage"></p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="alertOkBtn">OK</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <p>&copy; 2026 Secure Federated Identity Connector. Built with modern web technologies.</p>
            <div class="footer-links">
                <a href="#privacy">Privacy Policy</a>
                <a href="#terms">Terms of Service</a>
                <a href="#support">Support</a>
            </div>
        </div>
    </footer>

    <script src="cross-platform-rendering-engine.js"></script>
</body>
</html>