/* Animations for Glitch and Shake */

@keyframes twitch {
    0% {
        transform: translate(0, 0);
    }

    2% {
        transform: translate(2px, 0);
    }

    4% {
        transform: translate(-2px, 0);
    }

    6% {
        transform: translate(0, 0);
    }

    100% {
        transform: translate(0, 0);
    }
}

@keyframes flicker {
    0% {
        opacity: 1;
    }

    3% {
        opacity: 0.4;
    }

    6% {
        opacity: 1;
    }

    7% {
        opacity: 0.4;
    }

    8% {
        opacity: 1;
    }

    9% {
        opacity: 1;
    }

    10% {
        opacity: 0.1;
    }

    11% {
        opacity: 1;
    }

    100% {
        opacity: 1;
    }
}

@keyframes drift {
    0% {
        transform: rotate(0deg);
    }

    50% {
        transform: rotate(1deg);
    }

    100% {
        transform: rotate(0deg);
    }
}

@keyframes chromatic-aberration {
    0% {
        text-shadow: 2px 0 0 red, -2px 0 0 blue;
    }

    10% {
        text-shadow: 2px 0 0 red, -2px 0 0 blue;
    }

    11% {
        text-shadow: -2px 0 0 red, 2px 0 0 blue;
    }

    12% {
        text-shadow: 2px 0 0 red, -2px 0 0 blue;
    }

    100% {
        text-shadow: 2px 0 0 red, -2px 0 0 blue;
    }
}

/* Utility Animation classes */
.anim-twitch {
    animation: twitch 3s infinite random;
}

.anim-flicker {
    animation: flicker 5s infinite;
}

.anim-drift {
    animation: drift 10s ease-in-out infinite;
}

.anim-glitch {
    position: relative;
}

.anim-glitch::before,
.anim-glitch::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--bg-color);
}

.anim-glitch::before {
    left: 2px;
    text-shadow: -1px 0 red;
    clip: rect(24px, 550px, 90px, 0);
    animation: glitch-anim-1 2.5s infinite linear alternate-reverse;
}

.anim-glitch::after {
    left: -2px;
    text-shadow: -1px 0 blue;
    clip: rect(85px, 550px, 140px, 0);
    animation: glitch-anim-2 3s infinite linear alternate-reverse;
}

@keyframes glitch-anim-1 {
    0% {
        clip: rect(20px, 9999px, 80px, 0);
    }

    20% {
        clip: rect(60px, 9999px, 10px, 0);
    }

    40% {
        clip: rect(10px, 9999px, 90px, 0);
    }

    60% {
        clip: rect(80px, 9999px, 50px, 0);
    }

    80% {
        clip: rect(40px, 9999px, 60px, 0);
    }

    100% {
        clip: rect(70px, 9999px, 30px, 0);
    }
}

@keyframes glitch-anim-2 {
    0% {
        clip: rect(10px, 9999px, 90px, 0);
    }

    20% {
        clip: rect(80px, 9999px, 20px, 0);
    }

    40% {
        clip: rect(40px, 9999px, 50px, 0);
    }

    60% {
        clip: rect(20px, 9999px, 70px, 0);
    }

    80% {
        clip: rect(60px, 9999px, 40px, 0);
    }

    100% {
        clip: rect(50px, 9999px, 80px, 0);
    }
}