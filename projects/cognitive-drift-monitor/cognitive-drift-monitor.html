<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cognitive Drift Monitor</title>
    <link rel="stylesheet" href="../../style.css">
    <link rel="icon" type="image/png" href="../../Hall of Fame (1).png" />
    <link rel="icon" href="../../assets/favicon/favicon.ico" type="image/x-icon">
    <link rel="icon" href="../../assets/favicon/favicon.png" type="image/png">
    <link rel="apple-touch-icon" href="../../assets/favicon/apple-touch-icon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="cognitive-drift-monitor.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
</head>
<body>
    <div id="navbar"></div>

    <div class="cognitive-container">
        <h1>üß† Cognitive Drift Monitor</h1>
        <p>Track your cognitive sharpness throughout the day with scheduled mini-tests. Monitor mental performance decline and identify your optimal work windows.</p>

        <div class="test-section">
            <h2>Cognitive Test</h2>
            <div class="test-type-selector">
                <button class="test-type-btn active" data-type="reaction" onclick="setTestType('reaction')">‚ö° Reaction Time</button>
                <button class="test-type-btn" data-type="memory" onclick="setTestType('memory')">üß† Memory Test</button>
                <button class="test-type-btn" data-type="math" onclick="setTestType('math')">üî¢ Math Speed</button>
            </div>

            <div id="testArea" class="test-area">
                <div id="instructions" class="instructions">
                    <h3>Instructions</h3>
                    <p id="testInstructions">Click the button as soon as it appears!</p>
                    <button id="startTestBtn" class="start-test-btn" onclick="startTest()">Start Test</button>
                </div>

                <div id="reactionTest" class="test-content hidden">
                    <div id="reactionTarget" class="reaction-target" onclick="recordReaction()"></div>
                    <div id="reactionResult" class="result-display"></div>
                </div>

                <div id="memoryTest" class="test-content hidden">
                    <div id="memorySequence" class="memory-sequence"></div>
                    <div id="memoryInput" class="memory-input hidden">
                        <p>Repeat the sequence:</p>
                        <div id="inputButtons"></div>
                        <button onclick="checkMemorySequence()">Submit</button>
                    </div>
                    <div id="memoryResult" class="result-display"></div>
                </div>

                <div id="mathTest" class="test-content hidden">
                    <div id="mathProblem" class="math-problem"></div>
                    <input type="number" id="mathAnswer" placeholder="Your answer">
                    <button onclick="checkMathAnswer()">Submit</button>
                    <div id="mathResult" class="result-display"></div>
                </div>
            </div>
        </div>

        <div class="stats-section">
            <h2>Cognitive Statistics</h2>
            <div class="stat-cards">
                <div class="stat-card">
                    <h3>Today's Tests</h3>
                    <div class="stat-value" id="todayTests">0</div>
                    <p class="stat-desc">Tests completed</p>
                </div>
                <div class="stat-card">
                    <h3>Average Score</h3>
                    <div class="stat-value" id="avgScore">0</div>
                    <p class="stat-desc">Mean performance</p>
                </div>
                <div class="stat-card">
                    <h3>Cognitive Drift</h3>
                    <div class="stat-value" id="driftIndex">0%</div>
                    <p class="stat-desc">Performance decline</p>
                </div>
                <div class="stat-card">
                    <h3>Peak Performance</h3>
                    <div class="stat-value" id="peakTime">--:--</div>
                    <p class="stat-desc">Best time window</p>
                </div>
            </div>
        </div>

        <div class="drift-chart-section">
            <h2>Daily Cognitive Drift</h2>
            <canvas id="driftChart"></canvas>
        </div>

        <div class="insights-section">
            <h2>Performance Insights</h2>
            <div id="insightsContainer">
                <div class="insight-card">
                    <h3>üìä Performance Pattern</h3>
                    <div id="performancePattern">No data available</div>
                </div>
                <div class="insight-card">
                    <h3>‚è∞ Optimal Work Times</h3>
                    <div id="optimalTimes">No data available</div>
                </div>
                <div class="insight-card">
                    <h3>üéØ Test Type Performance</h3>
                    <div id="testTypeInsights">No data available</div>
                </div>
            </div>
        </div>

        <div class="history-section">
            <h2>Test History</h2>
            <div class="history-filters">
                <button class="filter-btn active" data-filter="today" onclick="filterHistory('today')">Today</button>
                <button class="filter-btn" data-filter="week" onclick="filterHistory('week')">This Week</button>
                <button class="filter-btn" data-filter="all" onclick="filterHistory('all')">All Time</button>
            </div>
            <div id="testHistory"></div>
        </div>
    </div>

    <div id="footer"></div>

    <script src="cognitive-drift-monitor.js"></script>
    <script src="../../js/include.js"></script>
</body>
</html>