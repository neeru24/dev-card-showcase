*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

:root {
  --bg-color: #f0f0f0;
  --transition-standard: 0.3s ease;
}

html.dark {
  --bg-color: #000;
}

body {
  display: grid;
  place-content: center;
  height: 100vh;
  background-color: var(--bg-color);
  transition: background-color var(--transition-standard);
}

.theme-toggle {
  --base-scale: 120px;
  --toggle-width: 5.625em;
  --toggle-height: 2.5em;
  --radius-pill: 100em;
  --sun-diameter: 2.125em;
  --sun-offset: calc((var(--toggle-height) - var(--sun-diameter)) / 2);

  --bg-toggle-light: #3d7eae;
  --bg-toggle-dark: #1d1f2c;
  --color-sun: #ecca2f;
  --color-moon: #c4c9d1;
  --color-crater: #959db1;
  --color-star: #fff;
  --color-cloud-front: #f3fdff;
  --color-cloud-back: #aacadf;

  --shadow-primary: rgba(0, 0, 0, 0.25);
  --shadow-highlight: rgba(255, 255, 255, 0.94);
  --halo-color: rgba(255, 255, 255, 0.1);
}

.theme-toggle {
  font-size: var(--base-scale);
  background: none;
  border: none;
}

.theme-toggle__container {
  width: var(--toggle-width);
  height: var(--toggle-height);
  background-color: var(--bg-toggle-light);
  border-radius: var(--radius-pill);
  cursor: pointer;

  position: relative;

  transition: background-color var(--transition-standard);

  overflow: hidden;

  box-shadow: 0.06em 0.06em 0.125em var(--shadow-highlight);
}

html.dark .theme-toggle__container {
  background-color: var(--bg-toggle-dark);
}

.theme-toggle__container::after {
  content: "";
  position: absolute;
  inset: 0;
  box-shadow: 0em 0.05em 0.187em rgba(0, 0, 0, 0.5) inset;
  border-radius: var(--radius-pill);
  pointer-events: none;
}

.theme-toggle__sun {
  width: var(--sun-diameter);
  height: var(--sun-diameter);
  background-color: var(--color-sun);
  border-radius: 50%;

  position: absolute;
  top: var(--sun-offset);
  transform: translateX(var(--sun-offset));

  box-shadow: 0.05em 0.125em 0.125em var(--shadow-primary),
    0em 0.05em 0.125em var(--shadow-primary),
    0.05em 0.05em 0.05em 0em rgba(254, 255, 239, 0.61) inset,
    0em -0.05em 0.05em 0em #a1872a inset, 0 0 0 0.625em var(--halo-color),
    0 0 0 1.25em var(--halo-color), 0 0 0 1.875em var(--halo-color);

  transition: transform var(--transition-standard);

  overflow: hidden;
}

html.dark .theme-toggle__container .theme-toggle__sun {
  transform: translateX(
    calc(var(--toggle-width) - var(--sun-diameter) - var(--sun-offset))
  );
}

.theme-toggle__moon-mask {
  position: relative;
  width: 100%;
  height: 100%;
  background-color: var(--color-moon);
  border-radius: inherit;
  transform: translateX(100%);
  transition: transform var(--transition-standard);

  box-shadow: 0.062em 0.062em 0.062em 0em rgba(254, 255, 239, 0.61) inset,
    0em -0.062em 0.062em 0em #969696 inset;
}

html.dark .theme-toggle__container .theme-toggle__moon-mask {
  transform: translateX(0);
}

.theme-toggle__crater {
  position: absolute;
  background-color: var(--color-crater);
  border-radius: 50%;
  box-shadow: 0em 0.03em 0.06em var(--shadow-primary) inset;
}

.theme-toggle__crater:nth-of-type(1) {
  top: 0.75em;
  left: 0.3em;
  width: 0.75em;
  height: 0.75em;
}

.theme-toggle__crater:nth-of-type(2) {
  top: 0.9em;
  left: 1.375em;
  width: 0.375em;
  height: 0.375em;
}

.theme-toggle__crater:nth-of-type(3) {
  top: 0.3em;
  left: 0.8em;
  width: 0.25em;
  height: 0.25em;
}

.theme-toggle__stars {
  position: absolute;
  left: 0.3em;
  transform: translateY(-2em);
  transition: transform var(--transition-standard);
  width: 2.75em;
  color: var(--color-star);
}

html.dark .theme-toggle__container .theme-toggle__stars {
  transform: translateY(0.5em);
}

.theme-toggle__clouds {
  position: absolute;
  left: 0.3em;
  top: 2em;
  transform: translateY(0);
  width: 1.25em;
  height: 1.25em;
  background-color: var(--color-cloud-front);
  border-radius: 50%;

  box-shadow: 0.937em 0.312em var(--color-cloud-front),
    1.437em 0.375em var(--color-cloud-front), 2.187em 0 var(--color-cloud-front),
    2.937em 0.312em var(--color-cloud-front),
    3.625em -0.062em var(--color-cloud-front),
    4.5em -0.312em var(--color-cloud-front),
    4.625em -1.75em 0 0.437em var(--color-cloud-front),
    -0.312em -0.312em var(--color-cloud-back),
    0.5em -0.125em var(--color-cloud-back),
    1.25em -0.062em var(--color-cloud-back),
    2em -0.312em var(--color-cloud-back), 2.625em 0em var(--color-cloud-back),
    3.375em -0.437em var(--color-cloud-back),
    4em -0.625em var(--color-cloud-back),
    4.125em -2.125em 0 0.437em var(--color-cloud-back);

  transition: transform var(--transition-standard);
}

html.dark .theme-toggle__container .theme-toggle__clouds {
  transform: translateY(3em);
}

.theme-toggle__container:hover .theme-toggle__sun {
  transform: translateX(calc(var(--sun-offset) + 0.187em));
}

html.dark .theme-toggle__container:hover .theme-toggle__sun {
  transform: translateX(
    calc(
      var(--toggle-width) - var(--sun-diameter) - var(--sun-offset) - 0.187em
    )
  );
}
