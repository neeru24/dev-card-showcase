

:root {
  --bg:       #060810;
  --surface:  #0D1117;
  --border:   #1E2535;
  --ink:      #E8EDF5;
  --muted:    #4A5568;
  --neon:     #00F5A0;
  --neon2:    #00D4FF;
  --red:      #FF4757;
  --yellow:   #FFD93D;
  --purple:   #9D4EDD;
  --wait-col: #1A2035;
  --go-col:   #00F5A0;
  --r:        10px;
  --r-lg:     18px;
}

*, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }

body {
  font-family: 'Rajdhani', sans-serif;
  background: var(--bg);
  color: var(--ink);
  min-height: 100vh;
  overflow-x: hidden;
}

/* ── SCANLINES overlay ── */
.scanlines {
  position: fixed; inset: 0;
  pointer-events: none;
  z-index: 100;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0,0,0,.08) 2px,
    rgba(0,0,0,.08) 4px
  );
}

/* ── SCREENS ── */
.screen { display:none; min-height:100vh; align-items:center; justify-content:center; padding:28px; position:relative; }
.screen.active { display:flex; }
#sTest { flex-direction:column; padding:0; align-items:stretch; justify-content:flex-start; }

/* ─────────────────────────
   HOME
───────────────────────── */
.home-inner {
  max-width: 600px;
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 36px;
  position: relative;
  z-index: 1;
}

.lab-badge {
  font-family: 'Orbitron', monospace;
  font-size: .65rem;
  letter-spacing: 4px;
  color: var(--neon);
  background: rgba(0,245,160,.08);
  border: 1px solid rgba(0,245,160,.2);
  border-radius: 50px;
  padding: 6px 16px;
  display: inline-block;
  width: fit-content;
}

.home-title {
  font-family: 'Orbitron', monospace;
  font-size: clamp(2.2rem, 7vw, 3.6rem);
  font-weight: 900;
  line-height: 1.1;
  letter-spacing: -1px;
  color: var(--ink);
  text-shadow: 0 0 40px rgba(0,245,160,.15);
}
.home-title span {
  color: var(--neon);
  text-shadow: 0 0 20px rgba(0,245,160,.5), 0 0 60px rgba(0,245,160,.2);
}

.home-sub { font-size: .95rem; color: var(--muted); line-height: 1.7; }

/* Mode cards */
.mode-row { display: grid; grid-template-columns: repeat(3,1fr); gap: 12px; }

.mode-card {
  background: var(--surface);
  border: 1.5px solid var(--border);
  border-radius: var(--r-lg);
  padding: 20px 14px;
  text-align: center;
  cursor: pointer;
  transition: all .2s ease;
  display: flex;
  flex-direction: column;
  gap: 6px;
  align-items: center;
}
.mode-card:hover { border-color: var(--neon); transform: translateY(-3px); }
.mode-card.active {
  border-color: var(--neon);
  background: rgba(0,245,160,.06);
  box-shadow: 0 0 20px rgba(0,245,160,.15), inset 0 0 20px rgba(0,245,160,.04);
}
.mode-icon { font-size: 1.8rem; }
.mode-name {
  font-family: 'Orbitron', monospace;
  font-size: .7rem;
  font-weight: 700;
  letter-spacing: 2px;
  color: var(--ink);
}
.mode-card.active .mode-name { color: var(--neon); }
.mode-desc { font-size: .75rem; color: var(--muted); }

/* Launch button */
.btn-launch {
  position: relative;
  width: 100%;
  padding: 16px;
  background: transparent;
  border: 2px solid var(--neon);
  border-radius: var(--r-lg);
  cursor: pointer;
  overflow: hidden;
  transition: all .2s ease;
}
.btn-text {
  font-family: 'Orbitron', monospace;
  font-size: .9rem;
  font-weight: 700;
  letter-spacing: 3px;
  color: var(--neon);
  position: relative;
  z-index: 1;
}
.btn-glow {
  position: absolute;
  inset: 0;
  background: var(--neon);
  opacity: 0;
  transition: opacity .2s;
}
.btn-launch:hover .btn-glow { opacity: .12; }
.btn-launch:hover { box-shadow: 0 0 30px rgba(0,245,160,.3); transform: translateY(-2px); }
.btn-launch:active { transform: scale(.98); }

/* Personal best */
.personal-best {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 24px;
  background: var(--surface);
  border: 1.5px solid var(--border);
  border-radius: var(--r-lg);
  padding: 18px 24px;
}
.pb-item { text-align: center; }
.pb-val {
  display: block;
  font-family: 'Orbitron', monospace;
  font-size: 1.3rem;
  font-weight: 700;
  color: var(--neon);
  line-height: 1;
  margin-bottom: 4px;
}
.pb-lbl {
  font-family: 'Orbitron', monospace;
  font-size: .55rem;
  letter-spacing: 2px;
  color: var(--muted);
  text-transform: uppercase;
}
.pb-div { width: 1px; height: 36px; background: var(--border); }

/* ─────────────────────────
   TEST HUD
───────────────────────── */
.test-hud {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 24px;
  background: var(--surface);
  border-bottom: 1px solid var(--border);
  position: relative;
  z-index: 10;
}

.hud-back {
  font-family: 'Orbitron', monospace;
  font-size: .65rem;
  letter-spacing: 2px;
  color: var(--muted);
  background: transparent;
  border: 1px solid var(--border);
  border-radius: var(--r);
  padding: 7px 14px;
  cursor: pointer;
  transition: all .15s;
}
.hud-back:hover { border-color: var(--red); color: var(--red); }

.round-indicator { display: flex; align-items: center; gap: 12px; }
.ri-label {
  font-family: 'Orbitron', monospace;
  font-size: .6rem;
  letter-spacing: 3px;
  color: var(--muted);
}
.round-dots { display: flex; gap: 8px; }
.r-dot {
  width: 10px; height: 10px;
  border-radius: 50%;
  background: var(--border);
  transition: all .3s ease;
}
.r-dot.done    { background: var(--neon); box-shadow: 0 0 8px var(--neon); }
.r-dot.current { background: var(--yellow); box-shadow: 0 0 8px var(--yellow); animation: dotPulse .8s ease infinite; }
@keyframes dotPulse { 0%,100%{transform:scale(1)} 50%{transform:scale(1.3)} }

.hud-mode {
  font-family: 'Orbitron', monospace;
  font-size: .65rem;
  letter-spacing: 3px;
  color: var(--neon2);
  background: rgba(0,212,255,.08);
  border: 1px solid rgba(0,212,255,.2);
  border-radius: 50px;
  padding: 5px 14px;
}

/* ─────────────────────────
   REACTION ZONE
───────────────────────── */
.reaction-zone {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background .15s ease;
  background: var(--wait-col);
  position: relative;
  overflow: hidden;
}

.reaction-zone::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 50% 50%, rgba(0,245,160,.03) 0%, transparent 70%);
  pointer-events: none;
}

.reaction-zone.state-wait  { background: #0A0F1E; }
.reaction-zone.state-ready {
  background: #001A0D;
  animation: goFlash .15s ease;
}
.reaction-zone.state-too-early { background: #1A0508; }
.reaction-zone.state-result    { background: #0A0F1E; }

@keyframes goFlash {
  0%   { background: #00F5A0; }
  100% { background: #001A0D; }
}

.zone-inner {
  text-align: center;
  position: relative;
  z-index: 1;
  padding: 40px;
}

.zone-state { display: flex; flex-direction: column; align-items: center; gap: 16px; }
.zone-state.hidden { display: none; }

/* Wait state */
.wait-ring {
  width: 100px; height: 100px;
  border-radius: 50%;
  border: 3px solid var(--border);
  border-top-color: var(--neon);
  animation: spin 1.2s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* Zone title / sub */
.zone-title {
  font-family: 'Orbitron', monospace;
  font-size: clamp(1.4rem, 4vw, 2.2rem);
  font-weight: 700;
  letter-spacing: 2px;
  color: var(--ink);
}
.zone-sub { font-size: .9rem; color: var(--muted); letter-spacing: 1px; }

/* Flash state */
.flash-icon {
  font-size: 5rem;
  animation: flashPop .2s cubic-bezier(.34,1.56,.64,1);
  filter: drop-shadow(0 0 20px var(--neon));
}
@keyframes flashPop {
  from { transform: scale(0); opacity: 0; }
  to   { transform: scale(1); opacity: 1; }
}
#stateReady .zone-title {
  color: var(--neon);
  text-shadow: 0 0 20px var(--neon);
  font-size: clamp(2rem, 6vw, 3.5rem);
}

/* Too early */
.early-icon { font-size: 4rem; animation: shake .4s ease; }
@keyframes shake { 0%,100%{transform:translateX(0)} 25%{transform:translateX(-8px)} 75%{transform:translateX(8px)} }
#stateTooEarly .zone-title { color: var(--red); text-shadow: 0 0 16px var(--red); }

/* Round result */
.round-ms {
  font-family: 'Orbitron', monospace;
  font-size: clamp(3rem, 12vw, 6rem);
  font-weight: 900;
  color: var(--neon);
  line-height: 1;
  text-shadow: 0 0 30px rgba(0,245,160,.5);
  animation: countUp .4s cubic-bezier(.34,1.56,.64,1);
}
@keyframes countUp { from { transform: scale(.6); opacity: 0; } to { transform: scale(1); opacity: 1; } }
.round-ms-label {
  font-family: 'Orbitron', monospace;
  font-size: .65rem;
  letter-spacing: 4px;
  color: var(--muted);
}
.round-rating {
  font-family: 'Orbitron', monospace;
  font-size: .85rem;
  letter-spacing: 3px;
  padding: 6px 18px;
  border-radius: 50px;
  background: rgba(0,245,160,.1);
  border: 1px solid rgba(0,245,160,.3);
  color: var(--neon);
}
.round-rating.great  { background:rgba(0,245,160,.12); border-color:rgba(0,245,160,.4);  color:var(--neon);   }
.round-rating.good   { background:rgba(255,217,61,.1);  border-color:rgba(255,217,61,.4); color:var(--yellow); }
.round-rating.slow   { background:rgba(255,71,87,.1);   border-color:rgba(255,71,87,.4);  color:var(--red);    }

/* ─────────────────────────
   LIVE BAR
───────────────────────── */
.live-bar {
  background: var(--surface);
  border-top: 1px solid var(--border);
  padding: 14px 24px;
  min-height: 60px;
  display: flex;
  align-items: center;
}
.live-rounds { display: flex; gap: 10px; align-items: center; flex-wrap: wrap; }
.live-round-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 3px;
  animation: fadeIn .3s ease;
}
@keyframes fadeIn { from{opacity:0;transform:translateY(6px)} to{opacity:1;transform:none} }
.lr-ms {
  font-family: 'Orbitron', monospace;
  font-size: .85rem;
  font-weight: 700;
  color: var(--neon);
}
.lr-lbl {
  font-family: 'Orbitron', monospace;
  font-size: .5rem;
  letter-spacing: 2px;
  color: var(--muted);
}

/* ─────────────────────────
   RESULT
───────────────────────── */
.result-inner {
  max-width: 580px;
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 28px;
  position: relative;
  z-index: 1;
  animation: fadeUp .5s ease forwards;
}
@keyframes fadeUp { from{opacity:0;transform:translateY(20px)} to{opacity:1;transform:none} }

.result-top { display: flex; align-items: center; gap: 20px; }
.result-rank {
  width: 64px; height: 64px;
  border-radius: var(--r-lg);
  border: 2px solid var(--neon);
  display: flex; align-items: center; justify-content: center;
  font-family: 'Orbitron', monospace;
  font-size: 1.8rem;
  font-weight: 900;
  color: var(--neon);
  box-shadow: 0 0 24px rgba(0,245,160,.3), inset 0 0 20px rgba(0,245,160,.05);
  flex-shrink: 0;
}
.result-tag {
  font-family: 'Orbitron', monospace;
  font-size: .6rem;
  letter-spacing: 4px;
  color: var(--muted);
  margin-bottom: 6px;
}
.result-heading {
  font-family: 'Orbitron', monospace;
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--ink);
  letter-spacing: 1px;
}

/* Avg display */
.avg-display {
  background: var(--surface);
  border: 1.5px solid var(--border);
  border-radius: var(--r-lg);
  padding: 24px 28px;
  display: flex;
  align-items: baseline;
  gap: 10px;
  position: relative;
  overflow: hidden;
}
.avg-display::before {
  content: '';
  position: absolute;
  left: 0; top: 0; bottom: 0;
  width: 3px;
  background: var(--neon);
  box-shadow: 0 0 10px var(--neon);
}
.avg-num {
  font-family: 'Orbitron', monospace;
  font-size: clamp(2.5rem, 8vw, 4rem);
  font-weight: 900;
  color: var(--neon);
  letter-spacing: -2px;
  line-height: 1;
  text-shadow: 0 0 20px rgba(0,245,160,.4);
}
.avg-ms {
  font-family: 'Orbitron', monospace;
  font-size: 1.1rem;
  color: var(--muted);
  letter-spacing: 2px;
}
.avg-label {
  font-family: 'Orbitron', monospace;
  font-size: .6rem;
  letter-spacing: 3px;
  color: var(--muted);
  margin-left: auto;
  text-transform: uppercase;
}

/* Bar chart */
.chart-section {}
.chart-label {
  font-family: 'Orbitron', monospace;
  font-size: .6rem;
  letter-spacing: 3px;
  color: var(--muted);
  margin-bottom: 12px;
}
.bar-chart {
  display: flex;
  gap: 10px;
  align-items: flex-end;
  height: 80px;
  background: var(--surface);
  border: 1.5px solid var(--border);
  border-radius: var(--r);
  padding: 12px 16px 0;
}
.bar-item {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  height: 100%;
  justify-content: flex-end;
}
.bar-fill {
  width: 100%;
  border-radius: 4px 4px 0 0;
  background: var(--neon);
  box-shadow: 0 0 8px rgba(0,245,160,.4);
  transition: height .6s cubic-bezier(.34,1.56,.64,1);
  min-height: 4px;
}
.bar-ms {
  font-family: 'Orbitron', monospace;
  font-size: .52rem;
  color: var(--muted);
  padding-bottom: 6px;
}

/* Comparison */
.compare-row {
  display: flex;
  gap: 12px;
  align-items: flex-end;
}
.compare-item {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}
.cmp-bar-wrap {
  width: 100%;
  height: 80px;
  background: var(--surface);
  border: 1.5px solid var(--border);
  border-radius: var(--r);
  display: flex;
  align-items: flex-end;
  overflow: hidden;
}
.cmp-bar {
  width: 100%;
  border-radius: 0;
  transition: height .8s cubic-bezier(.34,1.56,.64,1);
}
.cmp-bar.you       { background: linear-gradient(180deg, var(--neon), rgba(0,245,160,.5)); }
.cmp-bar.avg-human { background: linear-gradient(180deg, var(--yellow), rgba(255,217,61,.5)); height:60%; }
.cmp-bar.pro       { background: linear-gradient(180deg, var(--neon2), rgba(0,212,255,.5)); height:38%; }
.cmp-label {
  font-family: 'Orbitron', monospace;
  font-size: .52rem;
  letter-spacing: 1px;
  color: var(--muted);
  text-align: center;
}

.new-best-msg {
  font-family: 'Orbitron', monospace;
  font-size: .75rem;
  letter-spacing: 2px;
  color: var(--neon);
  text-align: center;
  min-height: 20px;
}

.result-btns { display: flex; flex-direction: column; gap: 10px; }
.btn-secondary {
  width: 100%;
  padding: 14px;
  background: transparent;
  color: var(--muted);
  border: 1.5px solid var(--border);
  border-radius: var(--r-lg);
  font-family: 'Orbitron', monospace;
  font-size: .75rem;
  letter-spacing: 2px;
  cursor: pointer;
  transition: all .15s;
}
.btn-secondary:hover { border-color: var(--neon2); color: var(--neon2); }

/* ── RESPONSIVE ── */
@media (max-width: 520px) {
  .home-title    { font-size: 2rem; }
  .mode-row      { grid-template-columns: repeat(3,1fr); gap: 8px; }
  .mode-card     { padding: 14px 8px; }
  .mode-icon     { font-size: 1.4rem; }
  .avg-display   { padding: 18px 20px; }
  .compare-row   { gap: 8px; }
  .result-heading{ font-size: 1.1rem; }
  .personal-best { gap: 14px; padding: 14px 16px; }
}
