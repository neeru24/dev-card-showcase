<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ParasiteControl - Control Panel</title>
    <link rel="stylesheet" href="css/shared.css">
    <link rel="stylesheet" href="css/control.css">
</head>

<body>
    <div class="control-container">
        <header class="header">
            <h1>ðŸŽ® ParasiteControl</h1>
            <p class="text-secondary">Remote Control Interface</p>
        </header>

        <div id="connectionStatus" class="connection-status disconnected">
            <span id="statusIndicator" class="status-indicator status-disconnected"></span>
            <span id="statusText">Display Disconnected</span>
        </div>

        <div style="text-align: center; margin-bottom: 2rem;">
            <button id="openDisplayBtn" class="primary-button">Open Display Window</button>
        </div>

        <div class="control-grid">
            <div class="control-panel glass shadow-md">
                <h2>Background</h2>

                <div class="control-group">
                    <label class="control-label">Solid Color</label>
                    <input type="color" id="bgColor" class="control-input" value="#1a1a2e">
                </div>

                <div class="control-group">
                    <label class="control-label">Gradient</label>
                    <div style="display: flex; gap: 0.5rem; margin-bottom: 0.5rem;">
                        <input type="color" id="bgGradientStart" class="control-input" value="#667eea" style="flex: 1;">
                        <input type="color" id="bgGradientEnd" class="control-input" value="#764ba2" style="flex: 1;">
                    </div>
                    <div class="button-group">
                        <button id="applyGradientBtn" class="control-button">Apply</button>
                        <button id="clearGradientBtn" class="control-button">Clear</button>
                    </div>
                </div>

                <div class="control-group">
                    <label class="control-label">Pattern</label>
                    <div class="button-group">
                        <button id="patternNone" class="control-button active">None</button>
                        <button id="patternDots" class="control-button">Dots</button>
                        <button id="patternLines" class="control-button">Lines</button>
                        <button id="patternGrid" class="control-button">Grid</button>
                        <button id="patternWaves" class="control-button">Waves</button>
                    </div>
                </div>
            </div>

            <div class="control-panel glass shadow-md">
                <h2>Text Content</h2>

                <div class="control-group">
                    <label class="control-label">Content</label>
                    <input type="text" id="textContent" class="control-input" placeholder="Enter text..."
                        value="ParasiteControl">
                </div>

                <div class="control-group">
                    <label class="control-label">
                        Size
                        <span id="textSizeValue" class="value-display">64</span>
                    </label>
                    <input type="range" id="textSize" class="control-input" min="20" max="150" value="64">
                </div>

                <div class="control-group">
                    <label class="control-label">Color</label>
                    <input type="color" id="textColor" class="control-input" value="#ffffff">
                </div>

                <div class="control-group">
                    <label class="control-label" style="display: flex; align-items: center; gap: 0.5rem;">
                        <input type="checkbox" id="textGlow">
                        <span>Text Glow Effect</span>
                    </label>
                </div>

                <div class="control-group">
                    <label class="control-label">Position</label>
                    <div class="button-group">
                        <button id="positionTop" class="control-button">Top</button>
                        <button id="positionCenter" class="control-button active">Center</button>
                        <button id="positionBottom" class="control-button">Bottom</button>
                    </div>
                </div>
            </div>

            <div class="control-panel glass shadow-md">
                <h2>Layout Mode</h2>

                <div class="control-group">
                    <div class="button-group">
                        <button id="layoutSingle" class="control-button active">Single</button>
                        <button id="layoutGrid" class="control-button">Grid</button>
                        <button id="layoutFlex" class="control-button">Flex</button>
                    </div>
                </div>

                <div class="control-group">
                    <p class="text-muted" style="font-size: 0.85rem; margin-top: 1rem;">
                        Switch between single text display, grid layout, or flex layout modes.
                    </p>
                </div>
            </div>

            <div class="control-panel glass shadow-md">
                <h2>Visual Effects</h2>

                <div class="control-group">
                    <label class="control-label">
                        Blur
                        <span id="blurValue" class="value-display">0</span>
                    </label>
                    <input type="range" id="blurAmount" class="control-input" min="0" max="20" value="0">
                </div>

                <div class="control-group">
                    <label class="control-label">
                        Brightness
                        <span id="brightnessValue" class="value-display">100</span>
                    </label>
                    <input type="range" id="brightness" class="control-input" min="50" max="200" value="100">
                </div>

                <div class="control-group">
                    <label class="control-label" style="display: flex; align-items: center; gap: 0.5rem;">
                        <input type="checkbox" id="rotateEffect">
                        <span>Rotation Animation</span>
                    </label>
                </div>

                <div class="control-group">
                    <label class="control-label" style="display: flex; align-items: center; gap: 0.5rem;">
                        <input type="checkbox" id="scaleEffect">
                        <span>Scale Pulse</span>
                    </label>
                </div>
            </div>
        </div>

        <div style="text-align: center; margin-top: 2rem;">
            <button id="resetBtn" class="primary-button">Reset All Settings</button>
        </div>
    </div>

    <div id="feedbackToast" class="feedback-toast">Action completed</div>

    <script src="js/state.js"></script>
    <script src="js/messaging.js"></script>
    <script src="js/control-ui.js"></script>
    <script>
        const stateManager = new StateManager();
        const messenger = new WindowMessenger('control');
        const controlUI = new ControlUI(messenger, stateManager);
    </script>
</body>

</html>