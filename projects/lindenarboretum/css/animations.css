/**
 * LindenArboretum - Animations CSS
 * Contains keyframe animations for UI micro-interactions,
 * glowing pulses, and entrance effects.
 */

/* 
  * Subtle pulsing glow for the main canvas to simulate
  * an active, breathing alien environment.
  */
@keyframes ambient-pulse {
    0% {
        box-shadow: inset 0 0 50px rgba(0, 0, 0, 0.8);
    }

    50% {
        box-shadow: inset 0 0 100px hsla(var(--base-hue), var(--base-sat), 10%, 0.8);
    }

    100% {
        box-shadow: inset 0 0 50px rgba(0, 0, 0, 0.8);
    }
}

/* Apply pulse to the app container or an overlay */
#app-container::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 2;
    animation: ambient-pulse 10s infinite ease-in-out;
}

/* 
 * Entrance animation for UI panels
 * Slides them in while fading up.
 */
@keyframes panel-enter-right {
    from {
        opacity: 0;
        transform: translateX(40px) scale(0.95);
    }

    to {
        opacity: 1;
        transform: translateX(0) scale(1);
    }
}

@keyframes panel-enter-left {
    from {
        opacity: 0;
        transform: translateX(-40px) scale(0.95);
    }

    to {
        opacity: 1;
        transform: translateX(0) scale(1);
    }
}

@keyframes panel-enter-bottom {
    from {
        opacity: 0;
        transform: translate(-50%, 40px) scale(0.95);
    }

    to {
        opacity: 1;
        transform: translate(-50%, 0) scale(1);
    }
}

/* Apply entrance animations to panels on load */
#controls-panel {
    animation: panel-enter-right 0.8s cubic-bezier(0.1, 0.9, 0.2, 1) forwards;
}

#perf-monitor {
    animation: panel-enter-left 0.8s cubic-bezier(0.1, 0.9, 0.2, 1) forwards;
}

#bottom-bar {
    animation: panel-enter-bottom 0.8s cubic-bezier(0.1, 0.9, 0.2, 1) forwards;
}

/* 
 * Glitch effect for text or warnings to fit the sci-fi theme 
 */
@keyframes text-glitch {
    0% {
        transform: translate(0)
    }

    20% {
        transform: translate(-2px, 1px)
    }

    40% {
        transform: translate(-1px, -1px)
    }

    60% {
        transform: translate(2px, 1px)
    }

    80% {
        transform: translate(1px, -1px)
    }

    100% {
        transform: translate(0)
    }
}

.glitch-active {
    animation: text-glitch 0.2s linear infinite;
    color: var(--color-error);
    text-shadow: 2px 0 var(--color-primary-bright), -2px 0 blue;
}

/*
 * Pulse animation for the generate button to draw attention
 */
@keyframes button-pulse {
    0% {
        box-shadow: 0 0 0 0 hsla(var(--base-hue), var(--base-sat), var(--base-lit), 0.7);
    }

    70% {
        box-shadow: 0 0 0 10px hsla(var(--base-hue), var(--base-sat), var(--base-lit), 0);
    }

    100% {
        box-shadow: 0 0 0 0 hsla(var(--base-hue), var(--base-sat), var(--base-lit), 0);
    }
}

#btn-generate {
    animation: button-pulse 2s infinite;
}

#btn-generate:hover {
    animation: none;
    /* Stop pulsing on hover */
}