<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Micronutrient Diversity Index</title>
    <link rel="stylesheet" href="../../style.css">
    <link rel="icon" type="image/png" href="../../Hall of Fame (1).png" />
    <link rel="icon" href="../../assets/favicon/favicon.ico" type="image/x-icon">
    <link rel="icon" href="../../assets/favicon/favicon.png" type="image/png">
    <link rel="apple-touch-icon" href="../../assets/favicon/apple-touch-icon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="micronutrient-diversity-index.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div id="navbar"></div>

    <div class="micronutrient-container">
        <h1>üß¨ Micronutrient Diversity Index</h1>
        <p>Track your dietary diversity across essential micronutrients to identify nutrient gaps and encourage balanced eating habits. Score your food choices and visualize micronutrient coverage through interactive heatmaps.</p>

        <div class="log-section">
            <h2>Log Food Intake</h2>
            <div class="input-group">
                <label for="mealType">Meal Type:</label>
                <select id="mealType">
                    <option value="breakfast">Breakfast</option>
                    <option value="lunch">Lunch</option>
                    <option value="dinner">Dinner</option>
                    <option value="snack">Snack</option>
                </select>
            </div>
            <div class="input-group">
                <label for="foodCategory">Primary Food Category:</label>
                <select id="foodCategory">
                    <option value="vegetables">Vegetables</option>
                    <option value="fruits">Fruits</option>
                    <option value="grains">Grains/Cereals</option>
                    <option value="proteins">Proteins (Meat/Fish/Eggs)</option>
                    <option value="dairy">Dairy</option>
                    <option value="nuts-seeds">Nuts & Seeds</option>
                    <option value="legumes">Legumes</option>
                    <option value="oils-fats">Oils & Fats</option>
                    <option value="sweets">Sweets & Desserts</option>
                    <option value="beverages">Beverages</option>
                </select>
            </div>
            <div class="input-group">
                <label for="specificFoods">Specific Foods (comma-separated):</label>
                <input type="text" id="specificFoods" placeholder="e.g., spinach, broccoli, carrots">
            </div>
            <div class="input-group">
                <label for="portion">Portion Size:</label>
                <select id="portion">
                    <option value="small">Small (1 serving)</option>
                    <option value="medium">Medium (2 servings)</option>
                    <option value="large">Large (3+ servings)</option>
                </select>
            </div>
            <button class="log-btn" onclick="logFoodIntake()">Log Food Intake</button>
        </div>

        <div class="stats-section">
            <h2>Dietary Diversity Statistics</h2>
            <div class="stat-cards">
                <div class="stat-card">
                    <h3>Diversity Index</h3>
                    <div class="stat-value" id="diversityIndex">0</div>
                    <p class="stat-desc">Overall nutrient diversity score</p>
                </div>
                <div class="stat-card">
                    <h3>Categories Consumed</h3>
                    <div class="stat-value" id="categoriesConsumed">0/10</div>
                    <p class="stat-desc">Food categories this week</p>
                </div>
                <div class="stat-card">
                    <h3>Today's Score</h3>
                    <div class="stat-value" id="todayScore">0</div>
                    <p class="stat-desc">Daily diversity rating</p>
                </div>
                <div class="stat-card">
                    <h3>Weekly Average</h3>
                    <div class="stat-value" id="weeklyAverage">0</div>
                    <p class="stat-desc">7-day diversity trend</p>
                </div>
            </div>
        </div>

        <div class="charts-section">
            <div class="chart-container">
                <h2>Micronutrient Coverage Heatmap</h2>
                <canvas id="nutrientHeatmap"></canvas>
            </div>
            <div class="chart-container">
                <h2>Weekly Diversity Trend</h2>
                <canvas id="diversityTrendChart"></canvas>
            </div>
        </div>

        <div class="insights-section">
            <h2>Dietary Insights</h2>
            <div id="insightsContainer">
                <div class="insight-card">
                    <h3>ü•ï Most Consumed Category</h3>
                    <div id="topCategory">No data available</div>
                </div>
                <div class="insight-card">
                    <h3>‚ö†Ô∏è Nutrient Gaps</h3>
                    <div id="nutrientGaps">No significant gaps detected</div>
                </div>
                <div class="insight-card">
                    <h3>üìä Weekly Progress</h3>
                    <div id="weeklyProgress">No trend data available</div>
                </div>
            </div>
        </div>

        <div class="history-section">
            <h2>Food Intake History</h2>
            <div class="history-filters">
                <button class="filter-btn active" data-filter="all" onclick="filterHistory('all')">All</button>
                <button class="filter-btn" data-filter="today" onclick="filterHistory('today')">Today</button>
                <button class="filter-btn" data-filter="week" onclick="filterHistory('week')">This Week</button>
            </div>
            <div id="foodHistory"></div>
        </div>
    </div>

    <div id="footer"></div>

    <script src="micronutrient-diversity-index.js"></script>
    <script src="../../js/include.js"></script>
</body>
</html>