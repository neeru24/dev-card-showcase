<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BladeFabric - Cinematic Physics Engine</title>
    <!-- CSS Dependencies -->
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/typography.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/canvas.css">
    <link rel="stylesheet" href="css/controls.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/themes.css">
    <link rel="stylesheet" href="css/effects.css">
    <link rel="stylesheet" href="css/main.css">
</head>

<body>
    <div id="app">
        <!-- Render Layer -->
        <canvas id="physics-canvas"></canvas>
        <canvas id="effects-canvas"></canvas>

        <!-- UI Overlay Layer -->
        <div id="ui-layer">
            <header class="header">
                <h1 class="logo">BladeFabric<span class="dot">.</span></h1>
                <div class="stats">
                    <div class="stat-item"><span class="label">FPS</span><span id="stat-fps" class="value">0</span>
                    </div>
                    <div class="stat-item"><span class="label">Bodies</span><span id="stat-bodies"
                            class="value">0</span></div>
                    <div class="stat-item"><span class="label">Contacts</span><span id="stat-contacts"
                            class="value">0</span></div>
                </div>
            </header>

            <div class="controls-panel">
                <div class="control-group">
                    <h3>Simulation</h3>
                    <button id="btn-slowmo" class="btn"><span class="icon">⏱</span> Slow Motion</button>
                    <button id="btn-pause" class="btn"><span class="icon">⏸</span> Pause</button>
                    <button id="btn-reset" class="btn btn-danger"><span class="icon">↺</span> Reset</button>
                </div>

                <div class="control-group">
                    <h3>Spawn</h3>
                    <button id="btn-spawn-box" class="btn">Spawn Box</button>
                    <button id="btn-spawn-poly" class="btn">Spawn Polygon</button>
                    <button id="btn-spawn-blade" class="btn">Spawn Blade</button>
                    <button id="btn-spawn-cloth" class="btn">Spawn Cloth</button>
                </div>

                <div class="control-group">
                    <h3>Debug</h3>
                    <label class="toggle">
                        <input type="checkbox" id="toggle-debug-render">
                        <span class="slider"></span>
                        <span class="label-text">Debug Render</span>
                    </label>
                    <label class="toggle">
                        <input type="checkbox" id="toggle-aabb" disabled>
                        <span class="slider"></span>
                        <span class="label-text">Show AABB</span>
                    </label>
                    <label class="toggle">
                        <input type="checkbox" id="toggle-contacts" disabled>
                        <span class="slider"></span>
                        <span class="label-text">Show Contacts</span>
                    </label>
                </div>
            </div>

            <div id="notifications"></div>
        </div>
    </div>

    <!-- Math Library -->
    <script type="module" src="js/math/mathUtils.js"></script>
    <script type="module" src="js/math/vec2.js"></script>
    <script type="module" src="js/math/mat2.js"></script>
    <script type="module" src="js/math/mat3.js"></script>
    <script type="module" src="js/math/transform.js"></script>
    <script type="module" src="js/math/bounds.js"></script>
    <script type="module" src="js/math/ray.js"></script>
    <script type="module" src="js/math/segment.js"></script>
    <script type="module" src="js/math/polygon.js"></script>
    <script type="module" src="js/math/triangulate.js"></script>

    <!-- Physics Foundations -->
    <script type="module" src="js/physics/massData.js"></script>
    <script type="module" src="js/physics/shape.js"></script>
    <script type="module" src="js/physics/polygonShape.js"></script>
    <script type="module" src="js/physics/circleShape.js"></script>
    <script type="module" src="js/physics/body.js"></script>
    <script type="module" src="js/physics/world.js"></script>

    <!-- Collision System -->
    <script type="module" src="js/physics/collision/contact.js"></script>
    <script type="module" src="js/physics/collision/manifold.js"></script>
    <script type="module" src="js/physics/collision/clip.js"></script>
    <script type="module" src="js/physics/collision/sat.js"></script>
    <script type="module" src="js/physics/collision/broadphase.js"></script>
    <script type="module" src="js/physics/collision/aabbTree.js"></script>
    <script type="module" src="js/physics/collision/detector.js"></script>

    <!-- Dynamics & Solvers -->
    <script type="module" src="js/physics/dynamics/solver.js"></script>
    <script type="module" src="js/physics/dynamics/integrator.js"></script>
    <script type="module" src="js/physics/dynamics/positionSolver.js"></script>
    <script type="module" src="js/physics/dynamics/slicingAlgorithm.js"></script>
    <script type="module" src="js/physics/dynamics/polygonSplitter.js"></script>
    <script type="module" src="js/physics/dynamics/tearing.js"></script>

    <!-- Constraints -->
    <script type="module" src="js/physics/constraints/constraint.js"></script>
    <script type="module" src="js/physics/constraints/distance.js"></script>
    <script type="module" src="js/physics/constraints/spring.js"></script>
    <script type="module" src="js/physics/constraints/fabric.js"></script>

    <!-- Objects & Effects -->
    <script type="module" src="js/objects/wall.js"></script>
    <script type="module" src="js/objects/blade.js"></script>
    <script type="module" src="js/objects/cloth.js"></script>
    <script type="module" src="js/effects/particleSystem.js"></script>
    <script type="module" src="js/effects/spark.js"></script>
    <script type="module" src="js/effects/trail.js"></script>

    <!-- Core Engine -->
    <script type="module" src="js/core/eventBus.js"></script>
    <script type="module" src="js/core/time.js"></script>
    <script type="module" src="js/core/input.js"></script>
    <script type="module" src="js/core/camera.js"></script>
    <script type="module" src="js/core/canvas.js"></script>

    <!-- Render & UI -->
    <script type="module" src="js/render/drawMesh.js"></script>
    <script type="module" src="js/render/drawDebug.js"></script>
    <script type="module" src="js/render/renderer.js"></script>
    <script type="module" src="js/ui/uiManager.js"></script>
    <script type="module" src="js/ui/main.js"></script>
</body>

</html>