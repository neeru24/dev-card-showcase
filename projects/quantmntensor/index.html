<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuantumTensor | Real-time Cinematic Quantum Computer</title>
    
    <!-- CSS Inclusions (10 files) -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/theme.css">
    <link rel="stylesheet" href="css/typography.css">
    <link rel="stylesheet" href="css/grid.css">
    <link rel="stylesheet" href="css/gates.css">
    <link rel="stylesheet" href="css/charts.css">
    <link rel="stylesheet" href="css/bloch.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/controls.css">
</head>
<body>
    <div id="app-root" class="theme-dark cinematic-glow">
        
        <!-- Header -->
        <header id="top-bar">
            <div class="logo-container">
                <span class="logo-text">QuantumTensor</span>
                <span class="logo-badge">SIMULATOR v1.0</span>
            </div>
            <div class="global-controls">
                <button id="btn-run" class="control-btn primary">RUN EVOLUTION</button>
                <button id="btn-measure" class="control-btn danger">MEASURE SYSTEM</button>
                <button id="btn-clear" class="control-btn secondary">CLEAR CIRCUIT</button>
                <div class="qubit-selector">
                    <label for="qubit-count">Qubits:</label>
                    <input type="number" id="qubit-count" min="1" max="6" value="4">
                </div>
            </div>
        </header>

        <!-- Main Workspace -->
        <main id="workspace">
            
            <!-- Left Sidebar: Gate Palette & Tools -->
            <aside id="sidebar-left">
                <div class="panel-header">QUANTUM GATES</div>
                <div id="gate-palette" class="palette-container">
                    <!-- Palettes populated by GateUI.js -->
                </div>
                
                <div class="panel-header mt-4">MATHEMATICS ENGINE</div>
                <div id="math-logs" class="terminal-logs">
                    <!-- Logs populated by Logger.js -->
                </div>
            </aside>

            <!-- Center Vertical: The Circuit Grid -->
            <section id="center-stage">
                <div class="panel-header">CIRCUIT TOPOLOGY (<span id="qubit-display">4</span> QUBITS)</div>
                <div id="circuit-scroll-area">
                    <div id="circuit-grid" class="circuit-grid interactive-dropzone">
                        <!-- Wires and slots populated by CircuitGridRenderer.js -->
                    </div>
                </div>
                
                <!-- Evolution Timeline Controls -->
                <div id="timeline-container">
                    <div class="timeline-slider-wrapper">
                        <input type="range" id="timeline-scrubber" min="0" max="0" value="0" step="1">
                        <div id="timeline-ticks" class="timeline-ticks"></div>
                    </div>
                    <div class="timeline-status">STEP <span id="current-step">0</span> / <span id="total-steps">0</span></div>
                </div>
            </section>

            <!-- Right Sidebar: Visualizations -->
            <aside id="sidebar-right">
                <div class="panel-header">STATE PROBABILITIES</div>
                <div class="chart-container">
                    <canvas id="probability-chart" width="400" height="250"></canvas>
                </div>

                <div class="panel-header mt-4">BLOCH SPHERES</div>
                <div id="bloch-spheres-container" class="bloch-grid">
                    <!-- Dynamically created canvases for each qubit -->
                </div>
                
                <div class="panel-header mt-4">SYSTEM STATE VECTOR</div>
                <div id="state-vector-display" class="vector-readout">
                    <!-- |ψ⟩ display -->
                </div>
            </aside>

        </main>
        
        <!-- Measurement overlay glitch effect -->
        <div id="measurement-overlay" class="hidden">
            <div class="glitch-text">WAVEFUNCTION COLLAPSED</div>
            <div class="final-state-readout" id="final-measurement"></div>
        </div>
        
        <!-- Tooltip Container -->
        <div id="global-tooltip" class="tech-tooltip hidden"></div>
        
    </div>

    <!-- Math Engine (8) -->
    <script src="js/math/Constants.js"></script>
    <script src="js/math/MathUtils.js"></script>
    <script src="js/math/Complex.js"></script>
    <script src="js/math/Vector.js"></script>
    <script src="js/math/Matrix.js"></script>
    <script src="js/math/Kronecker.js"></script>
    <script src="js/math/TensorMath.js"></script>
    <script src="js/math/BlochMath.js"></script>

    <!-- Quantum Logic (8) -->
    <script src="js/quantum/QuantumState.js"></script>
    <script src="js/quantum/QuantumGate.js"></script>
    <script src="js/quantum/GateLibrary.js"></script>
    <script src="js/quantum/Measurement.js"></script>
    <script src="js/quantum/TimelineVector.js"></script>
    <script src="js/quantum/Circuit.js"></script>
    <script src="js/quantum/StateNormalizer.js"></script>
    <script src="js/quantum/EvolutionEngine.js"></script>

    <!-- UI Rendering (12) -->
    <script src="js/ui/CanvasUtils.js"></script>
    <script src="js/ui/ThemeManager.js"></script>
    <script src="js/ui/TooltipManager.js"></script>
    <script src="js/ui/GateUI.js"></script>
    <script src="js/ui/MeasurementOverlay.js"></script>
    <script src="js/ui/ProbabilityChart.js"></script>
    <script src="js/ui/BlochSphereRenderer.js"></script>
    <script src="js/ui/CircuitGridRenderer.js"></script>
    <script src="js/ui/TimelineRenderer.js"></script>
    <script src="js/ui/DraggableManager.js"></script>
    <script src="js/ui/AnimationEngine.js"></script>
    <script src="js/ui/UIManager.js"></script>

    <!-- App Framework (6) -->
    <script src="js/app/Config.js"></script>
    <script src="js/app/Logger.js"></script>
    <script src="js/app/StateManager.js"></script>
    <script src="js/app/InputHandler.js"></script>
    <script src="js/app/GameLoop.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
