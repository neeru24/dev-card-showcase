<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåç world war history ¬∑ portal 1914‚Äì1945</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #1a1e2a;
            background-image: radial-gradient(circle at 30% 40%, #2c3547 0%, #0e121c 90%);
            font-family: 'Inter', 'Segoe UI', Roboto, system-ui, sans-serif;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1.2rem;
            color: #eef3f9;
        }

        .history-portal {
            max-width: 1300px;
            width: 100%;
            background: rgba(12, 20, 30, 0.7);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border-radius: 3.5rem;
            padding: 2rem 2.2rem 2.5rem;
            box-shadow: 0 35px 70px -15px #000000cc, 0 0 0 1px #3d556e inset, 0 0 0 2px rgba(180, 210, 255, 0.1);
            border: 1px solid #4a688b;
        }

        /* header */
        .portal-header {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 2rem;
        }

        .title-section h1 {
            font-size: 2.6rem;
            font-weight: 600;
            letter-spacing: -1px;
            background: linear-gradient(145deg, #f5e9d8, #b4caf0);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .title-section h1 span {
            font-size: 2.8rem;
        }

        .era-badge {
            background: #1c3149;
            border: 1px solid #607d9f;
            padding: 0.5rem 2rem;
            border-radius: 60px;
            font-weight: 600;
            color: #f2e3c4;
            letter-spacing: 0.3px;
            box-shadow: 0 6px 14px #00000050;
            font-size: 1.2rem;
        }

        /* main timeline slider */
        .timeline-container {
            background: #0c1a27cc;
            border-radius: 60px;
            padding: 1.8rem 2rem 2.2rem;
            margin-bottom: 2.5rem;
            border: 1px solid #42648b;
            box-shadow: inset 0 2px 8px #00000080;
        }

        .timeline-epoch {
            display: flex;
            justify-content: space-between;
            color: #b6cde3;
            font-weight: 500;
            margin-bottom: 0.5rem;
        }

        input[type=range] {
            width: 100%;
            height: 10px;
            background: #1d344b;
            border-radius: 20px;
            -webkit-appearance: none;
            appearance: none;
            outline: none;
        }

        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 26px;
            height: 26px;
            background: #ffe1a3;
            border-radius: 50%;
            border: 3px solid #1b405b;
            box-shadow: 0 4px 12px black;
            cursor: pointer;
            transition: 0.1s;
        }

        .timeline-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 12px;
            font-size: 1rem;
            color: #a2bde0;
        }

        .timeline-labels span {
            background: #132232;
            padding: 0.3rem 1rem;
            border-radius: 30px;
            border: 1px solid #315577;
        }

        /* thematic quick filters */
        .theme-bar {
            display: flex;
            flex-wrap: wrap;
            gap: 0.8rem;
            margin: 1.8rem 0 1.2rem;
            justify-content: center;
        }

        .theme-btn {
            background: #162b40;
            border: 1px solid #45729b;
            color: #d8ebff;
            padding: 0.6rem 1.8rem;
            border-radius: 40px;
            font-weight: 600;
            font-size: 0.95rem;
            cursor: pointer;
            transition: 0.15s;
            box-shadow: 0 3px 8px black;
        }

        .theme-btn.active {
            background: #b89b6b;
            border-color: #fad68f;
            color: #0b1f2c;
            box-shadow: 0 0 15px #fbc96e;
        }

        .theme-btn:hover {
            background: #2f4d70;
            color: white;
        }

        /* main grid (event cards) */
        .events-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0 1.5rem;
        }

        .history-card {
            background: rgba(10, 22, 36, 0.9);
            backdrop-filter: blur(4px);
            border-radius: 2rem;
            padding: 1.5rem 1.2rem 1.2rem;
            border: 1px solid #3d6288;
            box-shadow: 0 16px 24px -12px #000000d0;
            transition: transform 0.15s, border-color 0.15s;
            cursor: pointer;
            display: flex;
            flex-direction: column;
        }

        .history-card:hover {
            transform: translateY(-6px);
            border-color: #d8b067;
            box-shadow: 0 24px 30px -12px #000000;
        }

        .card-year {
            font-size: 1.5rem;
            font-weight: 700;
            color: #dbb776;
            margin-bottom: 0.2rem;
            letter-spacing: -0.5px;
        }

        .card-title {
            font-size: 1.5rem;
            font-weight: 600;
            line-height: 1.2;
            margin-bottom: 0.75rem;
            color: #fff4e0;
        }

        .card-desc {
            font-size: 0.95rem;
            color: #bfd5f0;
            margin-bottom: 1.2rem;
            line-height: 1.5;
            flex: 1;
        }

        .card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top: 1px dashed #42648b;
            padding-top: 0.8rem;
            font-size: 0.85rem;
            color: #aac2df;
        }

        .card-theme {
            background: #1b3c5c;
            padding: 0.2rem 1rem;
            border-radius: 30px;
            color: #efdbbe;
        }

        /* modal (hidden by default) */
        .modal-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.75);
            backdrop-filter: blur(8px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            visibility: hidden;
            opacity: 0;
            transition: 0.2s;
            padding: 1.5rem;
        }

        .modal-overlay.show {
            visibility: visible;
            opacity: 1;
        }

        .modal-card {
            max-width: 550px;
            background: #1d2b3f;
            border-radius: 3rem;
            padding: 2.2rem 2.5rem;
            border: 2px solid #b6944e;
            box-shadow: 0 40px 80px #000;
            color: #f2e7d5;
            position: relative;
        }

        .modal-year {
            font-size: 2rem;
            font-weight: 700;
            color: #ebc36e;
        }

        .modal-title {
            font-size: 2.3rem;
            font-weight: 600;
            margin: 0.3rem 0 1rem;
        }

        .modal-desc {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 1.8rem;
            color: #dde5f2;
        }

        .modal-theme {
            display: inline-block;
            background: #23486b;
            padding: 0.4rem 2rem;
            border-radius: 60px;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .modal-close {
            background: #976b37;
            border: none;
            color: white;
            font-size: 1.2rem;
            padding: 0.6rem 2rem;
            border-radius: 60px;
            cursor: pointer;
            font-weight: 600;
            border: 1px solid #e2b87a;
        }

        .modal-close:hover {
            background: #b58b51;
        }

        .footer-note {
            display: flex;
            justify-content: space-between;
            color: #87a6c4;
            margin-top: 2rem;
            font-size: 0.95rem;
            border-top: 1px solid #2d4b6b;
            padding-top: 1.5rem;
        }

        .footer-note span {
            color: #d6e2f5;
        }
    </style>
</head>
<body>
    <div class="history-portal">
        <div class="portal-header">
            <div class="title-section">
                <h1>
                    <span>‚öîÔ∏è</span> world war history ¬∑ 1914‚Äì1945
                </h1>
            </div>
            <div class="era-badge" id="eraDisplay">interwar / WWII</div>
        </div>

        <!-- timeline slider (global filter) -->
        <div class="timeline-container">
            <div class="timeline-epoch">
                <span>üåπ WWI</span>
                <span>‚ö° interwar</span>
                <span>üî• WWII</span>
            </div>
            <input type="range" id="eraSlider" min="0" max="100" value="35" step="1">
            <div class="timeline-labels">
                <span>1914</span>
                <span>1918</span>
                <span>1929</span>
                <span>1939</span>
                <span>1945</span>
            </div>
        </div>

        <!-- theme / topic filters -->
        <div class="theme-bar" id="themeFilters">
            <button class="theme-btn active" data-theme="all">üìú all</button>
            <button class="theme-btn" data-theme="battle">‚öîÔ∏è battles</button>
            <button class="theme-btn" data-theme="leader">üë§ leaders</button>
            <button class="theme-btn" data-theme="tech">‚öôÔ∏è technology</button>
            <button class="theme-btn" data-theme="homefront">üè† home front</button>
        </div>

        <!-- dynamic card grid -->
        <div class="events-grid" id="cardsGrid"></div>

        <!-- footer stats / tip -->
        <div class="footer-note">
            <span>üìå click any card for full story</span>
            <span id="counterDisplay">showing 12 events</span>
        </div>
    </div>

    <!-- modal (hidden) -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal-card">
            <div class="modal-year" id="modalYear">1941</div>
            <div class="modal-title" id="modalTitle">Operation Barbarossa</div>
            <div class="modal-theme" id="modalTheme">battle</div>
            <div class="modal-desc" id="modalDesc">Germany invades the Soviet Union, breaking the Molotov‚ÄìRibbentrop Pact. It becomes the largest land front in history.</div>
            <button class="modal-close" id="closeModalBtn">close</button>
        </div>
    </div>

    <script>
        (function() {
            // ---------- WORLD WAR HISTORY DATASET ----------
            const events = [
                // WWI (1914-1918)
                { year: 1914, title: "Assassination of Franz Ferdinand", desc: "heir to Austro-Hungarian throne killed in Sarajevo, triggers July Crisis and war declarations.", theme: "leader", fullDesc: "On June 28, 1914, Gavrilo Princip shot Archduke Franz Ferdinand. Within weeks, alliances pulled major powers into war ‚Äì the start of WWI." },
                { year: 1914, title: "Battle of the Marne", desc: "Allied counter-offensive halts German advance; beginning of trench warfare.", theme: "battle", fullDesc: "First Battle of the Marne (Sept 1914) saved Paris. Both sides then dug in ‚Äì the 'race to the sea' began." },
                { year: 1916, title: "Battle of Verdun", desc: "Longest and one of the most costly battles in human history.", theme: "battle", fullDesc: "Verdun became a symbol of French determination. Casualties ~700,000 (dead/wounded)." },
                { year: 1916, title: "Battle of the Somme", desc: "Over 1 million casualties; first use of tanks.", theme: "tech", fullDesc: "British forces introduced the Mark I tank. The battle lasted from July to November 1916." },
                { year: 1917, title: "U.S. enters the war", desc: "Wilson asks Congress for declaration of war against Germany.", theme: "leader", fullDesc: "Following unrestricted submarine warfare and Zimmermann Telegram, US joined Allies in April 1917." },
                { year: 1918, title: "Armistice Day", desc: "Ceasefire on the Western Front; end of WWI.", theme: "homefront", fullDesc: "11 November 1918, at 11 a.m. ‚Äì the war ended. Celebrations worldwide." },
                // interwar (1919-1938)
                { year: 1919, title: "Treaty of Versailles", desc: "Officially ends WWI; imposes heavy reparations on Germany.", theme: "leader", fullDesc: "The treaty's 'war guilt' clause and reparations fueled resentment in Germany." },
                { year: 1922, title: "March on Rome", desc: "Mussolini becomes Italian Prime Minister; fascism rises.", theme: "leader", fullDesc: "Benito Mussolini's National Fascist Party seized power, inspiring other dictators." },
                { year: 1929, title: "Wall Street Crash", desc: "Stock market collapse triggers Great Depression.", theme: "homefront", fullDesc: "Economic crisis destabilized democracies and boosted extremists globally." },
                { year: 1933, title: "Hitler becomes Chancellor", desc: "Nazi Party gains power in Germany.", theme: "leader", fullDesc: "Paul von Hindenburg appointed Adolf Hitler on January 30, 1933." },
                { year: 1935, title: "Nuremberg Laws", desc: "Anti-Jewish racial laws enacted in Germany.", theme: "homefront", fullDesc: "Systematic persecution of Jews begins; stripped of citizenship." },
                { year: 1936, title: "Spanish Civil War begins", desc: "Nationalists vs Republicans; prelude to WWII.", theme: "battle", fullDesc: "Franco's rebellion; Germany and Italy support Nationalists, USSR aids Republicans." },
                { year: 1938, title: "Munich Agreement", desc: "UK, France, Italy allow Germany to annex Sudetenland.", theme: "leader", fullDesc: "Appeasement policy: 'peace for our time' ‚Äì but Hitler invaded rest of Czechoslovakia in 1939." },
                // WWII (1939-1945)
                { year: 1939, title: "Invasion of Poland", desc: "Germany attacks Poland; WWII begins.", theme: "battle", fullDesc: "September 1, 1939 ‚Äì Blitzkrieg. Britain and France declare war on Sept 3." },
                { year: 1940, title: "Fall of France", desc: "Germany conquers France in 6 weeks.", theme: "battle", fullDesc: "Dunkirk evacuation (Operation Dynamo) saved over 300,000 troops." },
                { year: 1940, title: "Battle of Britain", desc: "Luftwaffe vs RAF; first major defeat for Germany.", theme: "tech", fullDesc: "Radar and the Spitfire helped Britain resist invasion." },
                { year: 1941, title: "Operation Barbarossa", desc: "Germany invades Soviet Union.", theme: "battle", fullDesc: "Largest invasion in history; over 4 million Axis troops committed." },
                { year: 1941, title: "Pearl Harbor", desc: "Japan attacks US Pacific Fleet; US enters war.", theme: "battle", fullDesc: "December 7, 1941 ‚Äì 2,400 Americans killed. 'A date which will live in infamy.'" },
                { year: 1942, title: "Battle of Stalingrad", desc: "Turning point on Eastern Front; German 6th Army surrenders.", theme: "battle", fullDesc: "Harsh winter and urban warfare; over 2 million casualties." },
                { year: 1944, title: "D-Day (Normandy)", desc: "Allied landings in France; opens Western Front.", theme: "tech", fullDesc: "June 6, 1944 ‚Äì Operation Overlord. Largest amphibious invasion." },
                { year: 1945, title: "Battle of Berlin", desc: "Soviets capture Berlin; Hitler commits suicide.", theme: "battle", fullDesc: "April-May 1945, ending Nazi regime." },
                { year: 1945, title: "Atomic bombs dropped", desc: "Hiroshima & Nagasaki; Japan surrenders.", theme: "tech", fullDesc: "August 6 & 9, 1945 ‚Äì new era of warfare. WWII ends August 15." },
                { year: 1945, title: "Yalta Conference", desc: "Roosevelt, Churchill, Stalin plan post-war order.", theme: "leader", fullDesc: "February 1945; agreements on Germany, UN, and spheres of influence." }
            ];

            // ----- UI references -----
            const grid = document.getElementById('cardsGrid');
            const eraSlider = document.getElementById('eraSlider');
            const eraDisplay = document.getElementById('eraDisplay');
            const themeFilters = document.querySelectorAll('.theme-btn');
            const modalOverlay = document.getElementById('modalOverlay');
            const modalYear = document.getElementById('modalYear');
            const modalTitle = document.getElementById('modalTitle');
            const modalTheme = document.getElementById('modalTheme');
            const modalDesc = document.getElementById('modalDesc');
            const closeModalBtn = document.getElementById('closeModalBtn');
            const counterDisplay = document.getElementById('counterDisplay');

            // ----- state -----
            let activeTheme = 'all';
            let sliderYearMin = 1914;
            let sliderYearMax = 1945;
            // map slider 0-100 to year 1914-1945 (linear)
            function sliderToYear(val) {
                return Math.round(1914 + (val / 100) * (1945 - 1914));
            }
            function yearToSlider(year) {
                return ((year - 1914) / (1945 - 1914)) * 100;
            }

            // initial: set slider to 1933 (interwar/WWII border)
            eraSlider.value = yearToSlider(1933); // approx 45
            updateEraLabel(1933);

            function updateEraLabel(year) {
                if (year <= 1918) eraDisplay.textContent = 'üåπ WWI (1914‚Äì1918)';
                else if (year <= 1938) eraDisplay.textContent = '‚è≥ interwar (1919‚Äì1938)';
                else eraDisplay.textContent = 'üî• WWII (1939‚Äì1945)';
            }

            // filter events based on activeTheme and slider year range
            function filterEvents() {
                const sliderVal = parseInt(eraSlider.value, 10);
                const currentYear = sliderToYear(sliderVal);

                // filter by year <= currentYear? actually we want events with year <= currentYear (cumulative) or exact?
                // typical portal shows events up to that year, but we want to show all events from 1914 to selected year.
                const filtered = events.filter(ev => {
                    const yearMatch = ev.year <= currentYear;
                    const themeMatch = activeTheme === 'all' || ev.theme === activeTheme;
                    return yearMatch && themeMatch;
                });

                // sort descending (most recent first)
                filtered.sort((a,b) => b.year - a.year);
                renderCards(filtered);
                updateCounter(filtered.length, currentYear);
                updateEraLabel(currentYear);
            }

            function renderCards(eventList) {
                if (eventList.length === 0) {
                    grid.innerHTML = `<div style="grid-column:1/-1; text-align:center; padding:3rem; background:#0a1b30; border-radius:3rem; color:#ccc;">üì≠ no events match your filters</div>`;
                    return;
                }

                let html = '';
                eventList.forEach(ev => {
                    html += `
                        <div class="history-card" data-event-id="${ev.title.replace(/\s/g,'')}" data-year="${ev.year}" data-theme="${ev.theme}" data-title="${ev.title}" data-desc="${ev.desc}" data-fulldesc="${ev.fullDesc}">
                            <div class="card-year">${ev.year}</div>
                            <div class="card-title">${ev.title}</div>
                            <div class="card-desc">${ev.desc}</div>
                            <div class="card-footer">
                                <span class="card-theme">${ev.theme}</span>
                                <span>üîç click</span>
                            </div>
                        </div>
                    `;
                });
                grid.innerHTML = html;

                // attach click to each card (modal)
                document.querySelectorAll('.history-card').forEach(card => {
                    card.addEventListener('click', (e) => {
                        const year = card.dataset.year;
                        const title = card.dataset.title;
                        const theme = card.dataset.theme;
                        const fulldesc = card.dataset.fulldesc;
                        showModal(year, title, theme, fulldesc);
                    });
                });
            }

            function showModal(year, title, theme, fulldesc) {
                modalYear.textContent = year;
                modalTitle.textContent = title;
                modalTheme.textContent = theme;
                modalDesc.textContent = fulldesc || 'detailed description not available';
                modalOverlay.classList.add('show');
            }

            function updateCounter(count, currentYear) {
                counterDisplay.innerHTML = `üìÖ up to ${currentYear} ¬∑ ${count} event${count!==1?'s':''}`;
            }

            // theme click handler
            themeFilters.forEach(btn => {
                btn.addEventListener('click', () => {
                    themeFilters.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    activeTheme = btn.dataset.theme;
                    filterEvents();
                });
            });

            // slider input
            eraSlider.addEventListener('input', () => {
                filterEvents();
            });

            // close modal
            function closeModal() {
                modalOverlay.classList.remove('show');
            }
            closeModalBtn.addEventListener('click', closeModal);
            modalOverlay.addEventListener('click', (e) => {
                if (e.target === modalOverlay) closeModal();
            });

            // initial render
            filterEvents();

            // also set slider labels styling
        })();
    </script>
</body>
</html>