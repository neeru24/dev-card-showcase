<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Motivation Curve Tracker</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --pastel-blue: #b8d4ff;
            --pastel-green: #d4f1d4;
            --pastel-purple: #e6d4ff;
            --pastel-yellow: #fff9d6;
            --pastel-lavender: #f0e6ff;
            --pastel-pink: #ffd6e0;
            --pastel-coral: #ffd8d8;
            --pastel-mint: #d4f1e8;
            --motivation-high: #7acb9a;
            --motivation-medium: #ffd166;
            --motivation-low: #ff9b7a;
            --text-dark: #5a5a8a;
            --text-light: #7a7aaa;
            --shadow: rgba(0, 0, 0, 0.08);
            --shadow-hover: rgba(0, 0, 0, 0.15);
        }

        body {
            background: linear-gradient(135deg, var(--pastel-lavender), var(--pastel-mint));
            color: var(--text-dark);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            padding: 30px 20px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 25px;
            margin-bottom: 30px;
            box-shadow: 0 10px 20px var(--shadow);
            border: 3px solid white;
            position: relative;
            overflow: hidden;
        }

        .header-decoration {
            position: absolute;
            width: 120px;
            height: 120px;
            border-radius: 50%;
            opacity: 0.1;
            z-index: 0;
        }

        .decoration-1 {
            background-color: var(--motivation-high);
            top: -40px;
            left: -40px;
        }

        .decoration-2 {
            background-color: var(--motivation-low);
            bottom: -40px;
            right: -40px;
        }

        header > * {
            position: relative;
            z-index: 1;
        }

        h1 {
            font-size: 2.8rem;
            background: linear-gradient(45deg, var(--motivation-high), var(--motivation-medium), var(--motivation-low));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .subtitle {
            font-size: 1.2rem;
            color: var(--text-light);
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .main-content {
            display: flex;
            flex-wrap: wrap;
            gap: 25px;
            margin-bottom: 30px;
        }

        .panel {
            flex: 1;
            min-width: 300px;
            background-color: rgba(255, 255, 255, 0.85);
            border-radius: 25px;
            padding: 25px;
            box-shadow: 0 10px 20px var(--shadow);
            border: 3px solid white;
        }

        .panel-title {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px dashed var(--pastel-purple);
        }

        .panel-title i {
            margin-right: 12px;
            color: var(--text-dark);
            font-size: 1.5rem;
        }

        .panel-title h2 {
            font-size: 1.6rem;
            color: var(--text-dark);
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }

        .stat-card {
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 5px 15px var(--shadow);
            text-align: center;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-card.current {
            background: linear-gradient(135deg, var(--pastel-blue), #e3eeff);
            border-left: 5px solid var(--pastel-blue);
        }

        .stat-card.average {
            background: linear-gradient(135deg, var(--pastel-green), #e8f5e8);
            border-left: 5px solid var(--motivation-high);
        }

        .stat-card.high {
            background: linear-gradient(135deg, var(--pastel-yellow), #fffce8);
            border-left: 5px solid var(--motivation-medium);
        }

        .stat-card.trend {
            background: linear-gradient(135deg, var(--pastel-pink), #ffeef2);
            border-left: 5px solid var(--motivation-low);
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 10px;
        }

        .current .stat-value {
            color: #4a6fa5;
        }

        .average .stat-value {
            color: var(--motivation-high);
        }

        .high .stat-value {
            color: #e9c46a;
        }

        .trend .stat-value {
            color: var(--motivation-low);
        }

        .stat-label {
            font-size: 1rem;
            color: var(--text-dark);
            font-weight: 700;
        }

        .quick-log {
            background-color: white;
            border-radius: 20px;
            padding: 25px;
            margin-top: 20px;
            box-shadow: 0 5px 15px var(--shadow);
        }

        .log-title {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: var(--text-dark);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .motivation-slider {
            width: 100%;
            margin: 20px 0;
        }

        .slider-container {
            position: relative;
            margin-bottom: 30px;
        }

        .slider-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .slider-value {
            text-align: center;
            font-size: 2rem;
            font-weight: 800;
            margin: 15px 0;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        input[type="range"] {
            -webkit-appearance: none;
            width: 100%;
            height: 20px;
            border-radius: 10px;
            background: linear-gradient(90deg, var(--motivation-low), var(--motivation-medium), var(--motivation-high));
            outline: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: white;
            border: 3px solid var(--motivation-medium);
            cursor: pointer;
            box-shadow: 0 5px 15px var(--shadow-hover);
            transition: all 0.2s;
        }

        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.1);
        }

        .factors-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .factor-checkbox {
            display: none;
        }

        .factor-label {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 15px 10px;
            border-radius: 15px;
            background-color: var(--pastel-lavender);
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            gap: 10px;
        }

        .factor-label:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px var(--shadow);
        }

        .factor-checkbox:checked + .factor-label {
            background-color: var(--pastel-blue);
            border: 2px solid var(--motivation-high);
        }

        .factor-icon {
            font-size: 1.8rem;
            color: var(--text-dark);
        }

        .factor-name {
            font-size: 0.9rem;
            font-weight: 600;
        }

        .chart-container {
            height: 400px;
            width: 100%;
            margin-top: 20px;
            position: relative;
        }

        .chart-placeholder {
            width: 100%;
            height: 100%;
            background-color: white;
            border-radius: 20px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 5px 15px var(--shadow);
        }

        .chart-grid {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 40px 60px 60px 80px;
            pointer-events: none;
        }

        .grid-line {
            width: 100%;
            height: 1px;
            background-color: rgba(0, 0, 0, 0.05);
        }

        .grid-label {
            position: absolute;
            left: 30px;
            font-size: 0.9rem;
            color: var(--text-light);
            transform: translateY(50%);
        }

        .chart-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            padding: 40px 60px 60px 80px;
            pointer-events: none;
        }

        .chart-point {
            position: absolute;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background-color: white;
            border: 3px solid;
            transform: translate(-50%, 50%);
            cursor: pointer;
            transition: all 0.3s;
            pointer-events: auto;
            z-index: 2;
        }

        .chart-point:hover {
            transform: translate(-50%, 50%) scale(1.3);
            box-shadow: 0 5px 15px var(--shadow-hover);
        }

        .chart-point.high {
            border-color: var(--motivation-high);
        }

        .chart-point.medium {
            border-color: var(--motivation-medium);
        }

        .chart-point.low {
            border-color: var(--motivation-low);
        }

        .chart-line-path {
            fill: none;
            stroke-width: 3;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        .chart-line-path.high {
            stroke: var(--motivation-high);
        }

        .chart-line-path.medium {
            stroke: var(--motivation-medium);
        }

        .chart-line-path.low {
            stroke: var(--motivation-low);
        }

        .time-period-selector {
            display: flex;
            background-color: white;
            border-radius: 15px;
            padding: 10px;
            margin-top: 20px;
            box-shadow: 0 5px 15px var(--shadow);
            flex-wrap: wrap;
        }

        .period-btn {
            flex: 1;
            padding: 12px;
            text-align: center;
            cursor: pointer;
            border-radius: 10px;
            transition: all 0.3s;
            font-weight: 600;
            color: var(--text-dark);
            min-width: 100px;
        }

        .period-btn:hover {
            background-color: rgba(0, 0, 0, 0.05);
        }

        .period-btn.active {
            background-color: var(--pastel-blue);
            color: var(--text-dark);
        }

        .insights-container {
            background-color: white;
            border-radius: 20px;
            padding: 25px;
            margin-top: 30px;
            box-shadow: 0 5px 15px var(--shadow);
        }

        .insight-card {
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 15px;
            display: flex;
            align-items: flex-start;
            gap: 15px;
        }

        .insight-card.high {
            background-color: rgba(122, 203, 154, 0.1);
            border-left: 5px solid var(--motivation-high);
        }

        .insight-card.medium {
            background-color: rgba(255, 209, 102, 0.1);
            border-left: 5px solid var(--motivation-medium);
        }

        .insight-card.low {
            background-color: rgba(255, 155, 122, 0.1);
            border-left: 5px solid var(--motivation-low);
        }

        .insight-icon {
            font-size: 1.5rem;
            margin-top: 5px;
            flex-shrink: 0;
        }

        .insight-content h4 {
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .insight-content p {
            color: var(--text-light);
            line-height: 1.5;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 18px 35px;
            border: none;
            border-radius: 60px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 20px var(--shadow);
            min-width: 180px;
        }

        .btn-primary {
            background: linear-gradient(45deg, var(--motivation-high), var(--motivation-medium));
            color: white;
        }

        .btn-secondary {
            background-color: white;
            color: var(--text-dark);
            border: 3px solid var(--pastel-purple);
        }

        .btn:hover:not(:disabled) {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px var(--shadow-hover);
        }

        .btn:active:not(:disabled) {
            transform: translateY(-2px);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .btn i {
            margin-right: 12px;
            font-size: 1.2rem;
        }

        .motivation-tips {
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 30px;
            margin-top: 30px;
            border-left: 5px solid var(--motivation-medium);
        }

        .tips-title {
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--text-dark);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.5rem;
        }

        .tips-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .tip-card {
            padding: 20px;
            border-radius: 15px;
            background-color: white;
            box-shadow: 0 5px 15px var(--shadow);
            transition: transform 0.3s;
        }

        .tip-card:hover {
            transform: translateY(-5px);
        }

        .tip-icon {
            font-size: 2rem;
            color: var(--motivation-high);
            margin-bottom: 15px;
        }

        .tip-title {
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--text-dark);
        }

        .tip-desc {
            color: var(--text-light);
            line-height: 1.5;
            font-size: 0.95rem;
        }

        footer {
            text-align: center;
            padding: 25px;
            margin-top: 40px;
            color: var(--text-light);
            font-size: 0.95rem;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 20px;
            border: 3px solid white;
        }

        .entry-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
            display: none;
        }

        .modal-content {
            background-color: white;
            border-radius: 25px;
            padding: 40px;
            max-width: 600px;
            width: 100%;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text-light);
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .modal-close:hover {
            background-color: rgba(0, 0, 0, 0.05);
        }

        .modal-title {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: var(--text-dark);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .modal-slider-container {
            margin: 30px 0;
        }

        .modal-slider-value {
            font-size: 3rem;
            font-weight: 800;
            text-align: center;
            margin: 20px 0;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-factors {
            margin-top: 30px;
        }

        .modal-factors-title {
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--text-dark);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2.2rem;
                flex-direction: column;
                gap: 10px;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 300px;
            }
            
            .chart-grid {
                padding: 40px 40px 60px 60px;
            }
            
            .chart-line {
                padding: 40px 40px 60px 60px;
            }
            
            .factors-grid {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }
        }

        @media (max-width: 480px) {
            .chart-grid {
                padding: 40px 30px 60px 50px;
            }
            
            .chart-line {
                padding: 40px 30px 60px 50px;
            }
            
            .factors-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .period-btn {
                min-width: 80px;
                padding: 10px 5px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-decoration decoration-1"></div>
            <div class="header-decoration decoration-2"></div>
            
            <h1><i class="fas fa-chart-line"></i> Motivation Curve Tracker</h1>
            <p class="subtitle">Track your motivation levels over time, identify patterns, and discover what factors influence your drive and energy. Visualize your motivation curve and get personalized insights.</p>
        </header>

        <div class="main-content">
            <div class="panel">
                <div class="panel-title">
                    <i class="fas fa-tachometer-alt"></i>
                    <h2>Your Motivation Stats</h2>
                </div>
                
                <div class="stats-container">
                    <div class="stat-card current">
                        <div class="stat-value" id="current-motivation">72</div>
                        <div class="stat-label">Current Motivation</div>
                    </div>
                    
                    <div class="stat-card average">
                        <div class="stat-value" id="average-motivation">68</div>
                        <div class="stat-label">7-Day Average</div>
                    </div>
                    
                    <div class="stat-card high">
                        <div class="stat-value" id="high-motivation">89</div>
                        <div class="stat-label">Weekly High</div>
                    </div>
                    
                    <div class="stat-card trend">
                        <div class="stat-value" id="trend-direction">+5%</div>
                        <div class="stat-label">Trend vs Last Week</div>
                    </div>
                </div>
                
                <div class="quick-log">
                    <div class="log-title">
                        <i class="fas fa-bolt"></i> Quick Motivation Log
                    </div>
                    
                    <div class="slider-container">
                        <div class="slider-value" id="slider-value">72</div>
                        <input type="range" min="0" max="100" value="72" class="motivation-slider" id="motivation-slider">
                        <div class="slider-labels">
                            <span>Low Energy</span>
                            <span>Moderate</span>
                            <span>High Drive</span>
                        </div>
                    </div>
                    
                    <div class="log-title" style="margin-top: 30px;">
                        <i class="fas fa-filter"></i> Influencing Factors (Select all that apply)
                    </div>
                    
                    <div class="factors-grid" id="factors-grid">
                        <input type="checkbox" id="factor-sleep" class="factor-checkbox">
                        <label for="factor-sleep" class="factor-label">
                            <div class="factor-icon">
                                <i class="fas fa-bed"></i>
                            </div>
                            <div class="factor-name">Sleep Quality</div>
                        </label>
                        
                        <input type="checkbox" id="factor-nutrition" class="factor-checkbox">
                        <label for="factor-nutrition" class="factor-label">
                            <div class="factor-icon">
                                <i class="fas fa-apple-alt"></i>
                            </div>
                            <div class="factor-name">Nutrition</div>
                        </label>
                        
                        <input type="checkbox" id="factor-exercise" class="factor-checkbox">
                        <label for="factor-exercise" class="factor-label">
                            <div class="factor-icon">
                                <i class="fas fa-running"></i>
                            </div>
                            <div class="factor-name">Exercise</div>
                        </label>
                        
                        <input type="checkbox" id="factor-stress" class="factor-checkbox">
                        <label for="factor-stress" class="factor-label">
                            <div class="factor-icon">
                                <i class="fas fa-brain"></i>
                            </div>
                            <div class="factor-name">Stress Level</div>
                        </label>
                        
                        <input type="checkbox" id="factor-goals" class="factor-checkbox">
                        <label for="factor-goals" class="factor-label">
                            <div class="factor-icon">
                                <i class="fas fa-bullseye"></i>
                            </div>
                            <div class="factor-name">Clear Goals</div>
                        </label>
                        
                        <input type="checkbox" id="factor-social" class="factor-checkbox">
                        <label for="factor-social" class="factor-label">
                            <div class="factor-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="factor-name">Social Support</div>
                        </label>
                        
                        <input type="checkbox" id="factor-progress" class="factor-checkbox">
                        <label for="factor-progress" class="factor-label">
                            <div class="factor-icon">
                                <i class="fas fa-chart-bar"></i>
                            </div>
                            <div class="factor-name">Visible Progress</div>
                        </label>
                        
                        <input type="checkbox" id="factor-routine" class="factor-checkbox">
                        <label for="factor-routine" class="factor-label">
                            <div class="factor-icon">
                                <i class="fas fa-calendar-day"></i>
                            </div>
                            <div class="factor-name">Daily Routine</div>
                        </label>
                    </div>
                    
                    <div class="controls" style="margin-top: 30px;">
                        <button class="btn btn-primary" id="log-entry-btn">
                            <i class="fas fa-plus-circle"></i> Log Motivation
                        </button>
                        <button class="btn btn-secondary" id="detailed-entry-btn">
                            <i class="fas fa-edit"></i> Detailed Entry
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="panel">
                <div class="panel-title">
                    <i class="fas fa-chart-area"></i>
                    <h2>Motivation Curve</h2>
                </div>
                
                <div class="time-period-selector">
                    <div class="period-btn active" data-period="week">Past Week</div>
                    <div class="period-btn" data-period="month">Past Month</div>
                    <div class="period-btn" data-period="quarter">Past 3 Months</div>
                    <div class="period-btn" data-period="year">Past Year</div>
                </div>
                
                <div class="chart-container">
                    <div class="chart-placeholder">
                        <div class="chart-grid" id="chart-grid">
                            <!-- Grid lines will be generated by JavaScript -->
                        </div>
                        <svg class="chart-line" id="chart-line">
                            <!-- Chart line will be generated by JavaScript -->
                        </svg>
                        <div class="chart-points" id="chart-points">
                            <!-- Chart points will be generated by JavaScript -->
                        </div>
                    </div>
                </div>
                
                <div class="insights-container">
                    <div class="panel-title" style="border-bottom: none; margin-bottom: 10px;">
                        <i class="fas fa-lightbulb"></i>
                        <h2>Pattern Insights</h2>
                    </div>
                    
                    <div class="insight-card high">
                        <div class="insight-icon">
                            <i class="fas fa-arrow-up" style="color: var(--motivation-high);"></i>
                        </div>
                        <div class="insight-content">
                            <h4>Peak Performance Days</h4>
                            <p>Your motivation tends to peak on Tuesdays and Thursdays. Consider scheduling important tasks on these days.</p>
                        </div>
                    </div>
                    
                    <div class="insight-card medium">
                        <div class="insight-icon">
                            <i class="fas fa-balance-scale" style="color: var(--motivation-medium);"></i>
                        </div>
                        <div class="insight-content">
                            <h4>Sleep Connection</h4>
                            <p>On days when you report good sleep quality, your motivation is 24% higher on average.</p>
                        </div>
                    </div>
                    
                    <div class="insight-card low">
                        <div class="insight-icon">
                            <i class="fas fa-exclamation-triangle" style="color: var(--motivation-low);"></i>
                        </div>
                        <div class="insight-content">
                            <h4>Weekly Dip</h4>
                            <p>Your motivation typically dips on Sundays. Consider planning relaxing activities or reflection time.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="motivation-tips">
            <div class="tips-title">
                <i class="fas fa-magic"></i> Boost Your Motivation
            </div>
            <p style="color: var(--text-light); margin-bottom: 20px; line-height: 1.6;">
                Based on your motivation patterns, here are personalized strategies to maintain and increase your drive:
            </p>
            
            <div class="tips-grid">
                <div class="tip-card">
                    <div class="tip-icon">
                        <i class="fas fa-tasks"></i>
                    </div>
                    <div class="tip-title">Break Down Goals</div>
                    <div class="tip-desc">Large goals can be overwhelming. Break them into smaller, achievable tasks to maintain momentum.</div>
                </div>
                
                <div class="tip-card">
                    <div class="tip-icon">
                        <i class="fas fa-award"></i>
                    </div>
                    <div class="tip-title">Celebrate Small Wins</div>
                    <div class="tip-desc">Acknowledge and celebrate every small accomplishment to build positive reinforcement.</div>
                </div>
                
                <div class="tip-card">
                    <div class="tip-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="tip-title">Energy Matching</div>
                    <div class="tip-desc">Schedule demanding tasks during your high-energy periods based on your motivation curve.</div>
                </div>
                
                <div class="tip-card">
                    <div class="tip-icon">
                        <i class="fas fa-redo"></i>
                    </div>
                    <div class="tip-title">Reset Routines</div>
                    <div class="tip-desc">When motivation is low, change your environment or routine to break negative patterns.</div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Motivation Curve Tracker | Understand your drive patterns and optimize your productivity</p>
            <p>Motivation naturally fluctuates - tracking helps you work with your rhythms, not against them.</p>
        </footer>
    </div>

    <!-- Detailed Entry Modal -->
    <div class="entry-modal" id="entry-modal">
        <div class="modal-content">
            <button class="modal-close" id="modal-close">
                <i class="fas fa-times"></i>
            </button>
            
            <div class="modal-title">
                <i class="fas fa-calendar-plus"></i> Detailed Motivation Entry
            </div>
            
            <div class="modal-slider-container">
                <div class="slider-labels">
                    <span>Low Energy</span>
                    <span>Moderate</span>
                    <span>High Drive</span>
                </div>
                <input type="range" min="0" max="100" value="72" class="motivation-slider" id="modal-slider">
                <div class="modal-slider-value" id="modal-slider-value">72</div>
            </div>
            
            <div class="modal-factors">
                <div class="modal-factors-title">
                    <i class="fas fa-filter"></i> What influenced your motivation today?
                </div>
                
                <div class="factors-grid">
                    <input type="checkbox" id="modal-factor-sleep" class="factor-checkbox">
                    <label for="modal-factor-sleep" class="factor-label">
                        <div class="factor-icon">
                            <i class="fas fa-bed"></i>
                        </div>
                        <div class="factor-name">Sleep Quality</div>
                    </label>
                    
                    <input type="checkbox" id="modal-factor-nutrition" class="factor-checkbox">
                    <label for="modal-factor-nutrition" class="factor-label">
                        <div class="factor-icon">
                            <i class="fas fa-apple-alt"></i>
                        </div>
                        <div class="factor-name">Nutrition</div>
                    </label>
                    
                    <input type="checkbox" id="modal-factor-exercise" class="factor-checkbox">
                    <label for="modal-factor-exercise" class="factor-label">
                        <div class="factor-icon">
                            <i class="fas fa-running"></i>
                        </div>
                        <div class="factor-name">Exercise</div>
                    </label>
                    
                    <input type="checkbox" id="modal-factor-stress" class="factor-checkbox">
                    <label for="modal-factor-stress" class="factor-label">
                        <div class="factor-icon">
                            <i class="fas fa-brain"></i>
                        </div>
                        <div class="factor-name">Stress Level</div>
                    </label>
                    
                    <input type="checkbox" id="modal-factor-goals" class="factor-checkbox">
                    <label for="modal-factor-goals" class="factor-label">
                        <div class="factor-icon">
                            <i class="fas fa-bullseye"></i>
                        </div>
                        <div class="factor-name">Clear Goals</div>
                    </label>
                    
                    <input type="checkbox" id="modal-factor-social" class="factor-checkbox">
                    <label for="modal-factor-social" class="factor-label">
                        <div class="factor-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="factor-name">Social Support</div>
                    </label>
                    
                    <input type="checkbox" id="modal-factor-progress" class="factor-checkbox">
                    <label for="modal-factor-progress" class="factor-label">
                        <div class="factor-icon">
                            <i class="fas fa-chart-bar"></i>
                        </div>
                        <div class="factor-name">Visible Progress</div>
                    </label>
                    
                    <input type="checkbox" id="modal-factor-routine" class="factor-checkbox">
                    <label for="modal-factor-routine" class="factor-label">
                        <div class="factor-icon">
                            <i class="fas fa-calendar-day"></i>
                        </div>
                        <div class="factor-name">Daily Routine</div>
                    </label>
                </div>
            </div>
            
            <div style="margin-top: 30px;">
                <label style="display: block; font-weight: 600; margin-bottom: 10px; color: var(--text-dark);">
                    <i class="fas fa-comment-alt"></i> Additional Notes (Optional)
                </label>
                <textarea id="entry-notes" placeholder="Describe what affected your motivation today, any specific achievements or challenges..." style="width: 100%; height: 100px; padding: 15px; border-radius: 15px; border: 2px solid var(--pastel-lavender); font-family: inherit; font-size: 1rem; color: var(--text-dark); resize: vertical;"></textarea>
            </div>
            
            <div class="controls" style="margin-top: 30px;">
                <button class="btn btn-secondary" id="modal-cancel-btn">
                    Cancel
                </button>
                <button class="btn btn-primary" id="modal-save-btn">
                    <i class="fas fa-save"></i> Save Entry
                </button>
            </div>
        </div>
    </div>

    <script>
        // Application state
        const appState = {
            currentMotivation: 72,
            motivationEntries: [],
            selectedPeriod: 'week',
            selectedFactors: new Set(),
            insights: [],
            nextEntryId: 1
        };

        // Sample data for visualization
        const sampleData = {
            week: [
                { id: 1, date: 'Mon', value: 65, factors: ['sleep', 'exercise'] },
                { id: 2, date: 'Tue', value: 82, factors: ['goals', 'progress'] },
                { id: 3, date: 'Wed', value: 58, factors: ['stress'] },
                { id: 4, date: 'Thu', value: 89, factors: ['sleep', 'exercise', 'social'] },
                { id: 5, date: 'Fri', value: 76, factors: ['nutrition', 'routine'] },
                { id: 6, date: 'Sat', value: 71, factors: [] },
                { id: 7, date: 'Sun', value: 52, factors: ['stress', 'routine'] }
            ],
            month: [
                { id: 1, date: 'Week 1', value: 68, factors: ['sleep', 'exercise'] },
                { id: 2, date: 'Week 2', value: 74, factors: ['goals', 'progress'] },
                { id: 3, date: 'Week 3', value: 62, factors: ['stress', 'routine'] },
                { id: 4, date: 'Week 4', value: 71, factors: ['sleep', 'nutrition', 'social'] }
            ],
            quarter: [
                { id: 1, date: 'Jan', value: 65, factors: ['sleep', 'exercise'] },
                { id: 2, date: 'Feb', value: 72, factors: ['goals', 'progress'] },
                { id: 3, date: 'Mar', value: 68, factors: ['stress', 'routine'] }
            ],
            year: [
                { id: 1, date: 'Q1', value: 68, factors: ['sleep', 'exercise'] },
                { id: 2, date: 'Q2', value: 72, factors: ['goals', 'progress'] },
                { id: 3, date: 'Q3', value: 65, factors: ['stress', 'routine'] },
                { id: 4, date: 'Q4', value: 74, factors: ['sleep', 'nutrition', 'social'] }
            ]
        };

        // Factor definitions
        const factors = {
            sleep: { name: 'Sleep Quality', icon: 'fas fa-bed', color: '#8a7fcc' },
            nutrition: { name: 'Nutrition', icon: 'fas fa-apple-alt', color: '#7acb9a' },
            exercise: { name: 'Exercise', icon: 'fas fa-running', color: '#ff9b7a' },
            stress: { name: 'Stress Level', icon: 'fas fa-brain', color: '#ff6b6b' },
            goals: { name: 'Clear Goals', icon: 'fas fa-bullseye', color: '#4a6fa5' },
            social: { name: 'Social Support', icon: 'fas fa-users', color: '#c5a3ff' },
            progress: { name: 'Visible Progress', icon: 'fas fa-chart-bar', color: '#e9c46a' },
            routine: { name: 'Daily Routine', icon: 'fas fa-calendar-day', color: '#5a5a8a' }
        };

        // DOM Elements
        const currentMotivationEl = document.getElementById('current-motivation');
        const averageMotivationEl = document.getElementById('average-motivation');
        const highMotivationEl = document.getElementById('high-motivation');
        const trendDirectionEl = document.getElementById('trend-direction');
        const motivationSlider = document.getElementById('motivation-slider');
        const sliderValueEl = document.getElementById('slider-value');
        const factorsGrid = document.getElementById('factors-grid');
        const logEntryBtn = document.getElementById('log-entry-btn');
        const detailedEntryBtn = document.getElementById('detailed-entry-btn');
        const periodButtons = document.querySelectorAll('.period-btn');
        const chartGridEl = document.getElementById('chart-grid');
        const chartLineEl = document.getElementById('chart-line');
        const chartPointsEl = document.getElementById('chart-points');
        const entryModal = document.getElementById('entry-modal');
        const modalClose = document.getElementById('modal-close');
        const modalSlider = document.getElementById('modal-slider');
        const modalSliderValue = document.getElementById('modal-slider-value');
        const modalCancelBtn = document.getElementById('modal-cancel-btn');
        const modalSaveBtn = document.getElementById('modal-save-btn');
        const entryNotes = document.getElementById('entry-notes');

        // Initialize the application
        function initApp() {
            // Load sample data
            appState.motivationEntries = [...sampleData.week];
            
            // Calculate stats
            updateStats();
            
            // Setup event listeners
            setupEventListeners();
            
            // Render chart
            renderChart();
            
            // Setup factor checkboxes
            setupFactorCheckboxes();
        }

        // Update statistics display
        function updateStats() {
            const entries = appState.motivationEntries;
            
            if (entries.length === 0) {
                currentMotivationEl.textContent = '0';
                averageMotivationEl.textContent = '0';
                highMotivationEl.textContent = '0';
                trendDirectionEl.textContent = '0%';
                return;
            }
            
            // Current motivation (latest entry)
            const current = entries[entries.length - 1].value;
            currentMotivationEl.textContent = current;
            
            // Average motivation
            const sum = entries.reduce((total, entry) => total + entry.value, 0);
            const average = Math.round(sum / entries.length);
            averageMotivationEl.textContent = average;
            
            // High motivation
            const high = Math.max(...entries.map(entry => entry.value));
            highMotivationEl.textContent = high;
            
            // Trend (simple calculation for demo)
            const trend = entries.length >= 2 ? 
                Math.round(((entries[entries.length - 1].value - entries[0].value) / entries[0].value) * 100) : 0;
            trendDirectionEl.textContent = `${trend > 0 ? '+' : ''}${trend}%`;
            
            // Update slider to match current motivation
            motivationSlider.value = current;
            sliderValueEl.textContent = current;
            updateSliderColor(current);
        }

        // Update slider color based on value
        function updateSliderColor(value) {
            let color;
            if (value < 33) {
                color = 'var(--motivation-low)';
            } else if (value < 66) {
                color = 'var(--motivation-medium)';
            } else {
                color = 'var(--motivation-high)';
            }
            
            motivationSlider.style.background = `linear-gradient(90deg, var(--motivation-low) 0%, var(--motivation-medium) 33%, var(--motivation-high) 66%)`;
        }

        // Setup event listeners
        function setupEventListeners() {
            // Motivation slider
            motivationSlider.addEventListener('input', function() {
                const value = parseInt(this.value);
                sliderValueEl.textContent = value;
                updateSliderColor(value);
                appState.currentMotivation = value;
            });
            
            // Log entry button
            logEntryBtn.addEventListener('click', logQuickEntry);
            
            // Detailed entry button
            detailedEntryBtn.addEventListener('click', openDetailedEntry);
            
            // Period selector buttons
            periodButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    // Remove active class from all buttons
                    periodButtons.forEach(b => b.classList.remove('active'));
                    
                    // Add active class to clicked button
                    this.classList.add('active');
                    
                    // Update selected period
                    appState.selectedPeriod = this.dataset.period;
                    
                    // Update chart
                    renderChart();
                    
                    // Update stats for the period
                    updateStatsForPeriod();
                });
            });
            
            // Modal close button
            modalClose.addEventListener('click', closeModal);
            
            // Modal cancel button
            modalCancelBtn.addEventListener('click', closeModal);
            
            // Modal save button
            modalSaveBtn.addEventListener('click', saveDetailedEntry);
            
            // Modal slider
            modalSlider.addEventListener('input', function() {
                const value = parseInt(this.value);
                modalSliderValue.textContent = value;
                updateModalSliderColor(value);
            });
            
            // Close modal when clicking outside
            window.addEventListener('click', function(event) {
                if (event.target === entryModal) {
                    closeModal();
                }
            });
        }

        // Setup factor checkboxes
        function setupFactorCheckboxes() {
            // Quick log factors
            const factorCheckboxes = factorsGrid.querySelectorAll('.factor-checkbox');
            factorCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const factorId = this.id.replace('factor-', '');
                    
                    if (this.checked) {
                        appState.selectedFactors.add(factorId);
                    } else {
                        appState.selectedFactors.delete(factorId);
                    }
                });
            });
            
            // Modal factors (use same handler)
            const modalFactorCheckboxes = entryModal.querySelectorAll('.factor-checkbox');
            modalFactorCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const factorId = this.id.replace('modal-factor-', '');
                    
                    if (this.checked) {
                        appState.selectedFactors.add(factorId);
                    } else {
                        appState.selectedFactors.delete(factorId);
                    }
                });
            });
        }

        // Log quick entry
        function logQuickEntry() {
            const motivationValue = parseInt(motivationSlider.value);
            const factors = Array.from(appState.selectedFactors);
            
            // Create new entry
            const newEntry = {
                id: appState.nextEntryId++,
                date: getCurrentDateLabel(),
                value: motivationValue,
                factors: factors,
                notes: '',
                timestamp: new Date()
            };
            
            // Add to entries
            appState.motivationEntries.push(newEntry);
            
            // Clear selected factors
            appState.selectedFactors.clear();
            clearFactorCheckboxes();
            
            // Update display
            updateStats();
            renderChart();
            
            // Show confirmation
            showConfirmation('Motivation logged successfully!');
        }

        // Open detailed entry modal
        function openDetailedEntry() {
            // Set modal slider to current motivation
            const currentValue = parseInt(motivationSlider.value);
            modalSlider.value = currentValue;
            modalSliderValue.textContent = currentValue;
            updateModalSliderColor(currentValue);
            
            // Clear any previous selections
            appState.selectedFactors.clear();
            clearFactorCheckboxes();
            
            // Clear notes
            entryNotes.value = '';
            
            // Show modal
            entryModal.style.display = 'flex';
        }

        // Close modal
        function closeModal() {
            entryModal.style.display = 'none';
        }

        // Update modal slider color
        function updateModalSliderColor(value) {
            let color;
            if (value < 33) {
                color = 'var(--motivation-low)';
            } else if (value < 66) {
                color = 'var(--motivation-medium)';
            } else {
                color = 'var(--motivation-high)';
            }
            
            modalSlider.style.background = `linear-gradient(90deg, var(--motivation-low) 0%, var(--motivation-medium) 33%, var(--motivation-high) 66%)`;
        }

        // Save detailed entry
        function saveDetailedEntry() {
            const motivationValue = parseInt(modalSlider.value);
            const factors = Array.from(appState.selectedFactors);
            const notes = entryNotes.value.trim();
            
            // Create new entry
            const newEntry = {
                id: appState.nextEntryId++,
                date: getCurrentDateLabel(),
                value: motivationValue,
                factors: factors,
                notes: notes,
                timestamp: new Date()
            };
            
            // Add to entries
            appState.motivationEntries.push(newEntry);
            
            // Clear selections
            appState.selectedFactors.clear();
            clearFactorCheckboxes();
            
            // Update display
            updateStats();
            renderChart();
            
            // Close modal
            closeModal();
            
            // Show confirmation
            showConfirmation('Detailed motivation entry saved!');
        }

        // Clear all factor checkboxes
        function clearFactorCheckboxes() {
            const allCheckboxes = document.querySelectorAll('.factor-checkbox');
            allCheckboxes.forEach(checkbox => {
                checkbox.checked = false;
            });
        }

        // Get current date label based on selected period
        function getCurrentDateLabel() {
            const now = new Date();
            
            switch(appState.selectedPeriod) {
                case 'week':
                    const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
                    return days[now.getDay()];
                case 'month':
                    const weekOfMonth = Math.floor((now.getDate() - 1) / 7) + 1;
                    return `Week ${weekOfMonth}`;
                case 'quarter':
                    const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
                    return months[now.getMonth()];
                case 'year':
                    const quarter = Math.floor(now.getMonth() / 3) + 1;
                    return `Q${quarter}`;
                default:
                    return now.toLocaleDateString();
            }
        }

        // Update stats for selected period
        function updateStatsForPeriod() {
            // For demo purposes, we'll just use the sample data
            // In a real app, you would filter entries by date range
            appState.motivationEntries = [...sampleData[appState.selectedPeriod]];
            updateStats();
        }

        // Render the chart
        function renderChart() {
            const data = appState.motivationEntries;
            if (data.length === 0) return;
            
            // Clear previous chart
            chartGridEl.innerHTML = '';
            chartLineEl.innerHTML = '';
            chartPointsEl.innerHTML = '';
            
            // Chart dimensions
            const chartWidth = 800;
            const chartHeight = 300;
            const padding = { top: 40, right: 40, bottom: 60, left: 80 };
            
            // Calculate scaling factors
            const xScale = (chartWidth - padding.left - padding.right) / (data.length - 1);
            const yScale = (chartHeight - padding.top - padding.bottom) / 100;
            
            // Create grid lines and labels
            createChartGrid(chartHeight, padding);
            
            // Create chart line
            createChartLine(data, xScale, yScale, chartHeight, padding);
            
            // Create chart points
            createChartPoints(data, xScale, yScale, chartHeight, padding);
            
            // Create date labels at the bottom
            createDateLabels(data, xScale, chartHeight, padding);
        }

        // Create chart grid lines and labels
        function createChartGrid(chartHeight, padding) {
            // Y-axis grid lines and labels
            const yLevels = [0, 25, 50, 75, 100];
            const yStep = (chartHeight - padding.top - padding.bottom) / 4;
            
            yLevels.forEach((level, index) => {
                const yPos = padding.top + (yStep * index);
                
                // Grid line
                const line = document.createElement('div');
                line.className = 'grid-line';
                line.style.top = `${yPos}px`;
                chartGridEl.appendChild(line);
                
                // Grid label
                const label = document.createElement('div');
                label.className = 'grid-label';
                label.textContent = level;
                label.style.top = `${yPos}px`;
                chartGridEl.appendChild(label);
            });
        }

        // Create chart line
        function createChartLine(data, xScale, yScale, chartHeight, padding) {
            // Create SVG path
            let pathData = '';
            
            data.forEach((entry, index) => {
                const x = padding.left + (index * xScale);
                const y = chartHeight - padding.bottom - (entry.value * yScale);
                
                if (index === 0) {
                    pathData += `M ${x} ${y}`;
                } else {
                    pathData += ` L ${x} ${y}`;
                }
            });
            
            // Determine line color based on average motivation
            const avgMotivation = data.reduce((sum, entry) => sum + entry.value, 0) / data.length;
            let lineClass = 'medium';
            if (avgMotivation < 33) {
                lineClass = 'low';
            } else if (avgMotivation > 66) {
                lineClass = 'high';
            }
            
            // Create path element
            const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            path.setAttribute('d', pathData);
            path.setAttribute('class', `chart-line-path ${lineClass}`);
            chartLineEl.appendChild(path);
        }

        // Create chart points
        function createChartPoints(data, xScale, yScale, chartHeight, padding) {
            data.forEach((entry, index) => {
                const x = padding.left + (index * xScale);
                const y = chartHeight - padding.bottom - (entry.value * yScale);
                
                // Determine point class based on motivation value
                let pointClass = 'medium';
                if (entry.value < 33) {
                    pointClass = 'low';
                } else if (entry.value > 66) {
                    pointClass = 'high';
                }
                
                // Create point element
                const point = document.createElement('div');
                point.className = `chart-point ${pointClass}`;
                point.style.left = `${x}px`;
                point.style.bottom = `${chartHeight - y}px`;
                point.dataset.index = index;
                
                // Add tooltip
                point.title = `${entry.date}: ${entry.value}/100\nFactors: ${entry.factors.map(f => factors[f]?.name || f).join(', ') || 'None'}`;
                
                // Add click event to edit entry
                point.addEventListener('click', function() {
                    const entryIndex = parseInt(this.dataset.index);
                    editEntry(entryIndex);
                });
                
                chartPointsEl.appendChild(point);
            });
        }

        // Create date labels at the bottom
        function createDateLabels(data, xScale, chartHeight, padding) {
            data.forEach((entry, index) => {
                const x = padding.left + (index * xScale);
                
                // Create date label
                const label = document.createElement('div');
                label.className = 'grid-label';
                label.textContent = entry.date;
                label.style.position = 'absolute';
                label.style.bottom = '20px';
                label.style.left = `${x}px`;
                label.style.transform = 'translateX(-50%)';
                label.style.color = 'var(--text-light)';
                label.style.fontSize = '0.9rem';
                label.style.whiteSpace = 'nowrap';
                
                chartPointsEl.appendChild(label);
            });
        }

        // Edit an entry
        function editEntry(index) {
            const entry = appState.motivationEntries[index];
            
            // Populate modal with entry data
            modalSlider.value = entry.value;
            modalSliderValue.textContent = entry.value;
            updateModalSliderColor(entry.value);
            
            // Clear and set factors
            appState.selectedFactors.clear();
            clearFactorCheckboxes();
            
            entry.factors.forEach(factor => {
                const checkbox = document.getElementById(`modal-factor-${factor}`);
                if (checkbox) {
                    checkbox.checked = true;
                    appState.selectedFactors.add(factor);
                }
            });
            
            // Set notes
            entryNotes.value = entry.notes || '';
            
            // Change save button text
            modalSaveBtn.innerHTML = '<i class="fas fa-save"></i> Update Entry';
            
            // Store the index for updating
            modalSaveBtn.dataset.editIndex = index;
            
            // Show modal
            entryModal.style.display = 'flex';
            
            // Update save button event for editing
            const originalSaveHandler = modalSaveBtn.onclick;
            modalSaveBtn.onclick = function() {
                updateEntry(index);
            };
        }

        // Update an existing entry
        function updateEntry(index) {
            const motivationValue = parseInt(modalSlider.value);
            const factors = Array.from(appState.selectedFactors);
            const notes = entryNotes.value.trim();
            
            // Update entry
            appState.motivationEntries[index] = {
                ...appState.motivationEntries[index],
                value: motivationValue,
                factors: factors,
                notes: notes
            };
            
            // Clear selections
            appState.selectedFactors.clear();
            clearFactorCheckboxes();
            
            // Update display
            updateStats();
            renderChart();
            
            // Close modal
            closeModal();
            
            // Show confirmation
            showConfirmation('Motivation entry updated!');
            
            // Reset save button
            modalSaveBtn.innerHTML = '<i class="fas fa-save"></i> Save Entry';
            modalSaveBtn.onclick = saveDetailedEntry;
            delete modalSaveBtn.dataset.editIndex;
        }

        // Show confirmation message
        function showConfirmation(message) {
            // Create confirmation element
            const confirmation = document.createElement('div');
            confirmation.innerHTML = `
                <div style="position: fixed; bottom: 100px; left: 50%; transform: translateX(-50%); background-color: white; padding: 15px 25px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.15); z-index: 100; border-left: 5px solid var(--motivation-high); max-width: 400px; width: 90%;">
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <i class="fas fa-check-circle" style="color: var(--motivation-high);"></i>
                        <div>
                            <div style="font-weight: 700; margin-bottom: 5px;">Success!</div>
                            <div style="color: var(--text-light);">${message}</div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(confirmation);
            
            // Remove after 3 seconds
            setTimeout(() => {
                if (confirmation.parentNode) {
                    confirmation.parentNode.removeChild(confirmation);
                }
            }, 3000);
        }

        // Initialize the app when page loads
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>