<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Autonomous Feature Flag Manager</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1><i class="fas fa-toggle-on"></i> Autonomous Feature Flag Manager</h1>
            <p class="subtitle">Dynamic feature rollout control based on usage metrics, risk assessment, and system health monitoring</p>
        </header>

        <div class="dashboard-grid">
            <!-- Control Panel -->
            <div class="control-panel">
                <h2><i class="fas fa-sliders-h"></i> Feature Management</h2>

                <div class="control-group">
                    <label for="selectedFeature">Select Feature:</label>
                    <select id="selectedFeature">
                        <option value="new-payment-flow">New Payment Flow</option>
                        <option value="dark-mode-ui">Dark Mode UI</option>
                        <option value="ai-recommendations">AI Recommendations</option>
                        <option value="advanced-analytics">Advanced Analytics</option>
                        <option value="social-sharing">Social Sharing</option>
                        <option value="mobile-optimization">Mobile Optimization</option>
                    </select>
                </div>

                <div class="control-group">
                    <label for="rolloutStrategy">Rollout Strategy:</label>
                    <select id="rolloutStrategy">
                        <option value="gradual">Gradual Rollout</option>
                        <option value="canary">Canary Deployment</option>
                        <option value="percentage">Percentage-Based</option>
                        <option value="user-segment">User Segment</option>
                    </select>
                </div>

                <div class="control-group">
                    <label for="automationLevel">Automation Level:</label>
                    <select id="automationLevel">
                        <option value="manual">Manual Control</option>
                        <option value="semi-auto">Semi-Automatic</option>
                        <option value="full-auto">Fully Automatic</option>
                    </select>
                </div>

                <div class="control-buttons">
                    <button id="startRollout" class="btn-primary">
                        <i class="fas fa-rocket"></i> Start Rollout
                    </button>
                    <button id="pauseRollout" class="btn-secondary" disabled>
                        <i class="fas fa-pause"></i> Pause
                    </button>
                    <button id="rollbackFeature" class="btn-danger">
                        <i class="fas fa-undo"></i> Rollback
                    </button>
                </div>

                <div class="feature-injection">
                    <h3><i class="fas fa-plus-circle"></i> Create New Feature</h3>
                    <div class="feature-form">
                        <input type="text" id="newFeatureName" placeholder="Feature name..." maxlength="30">
                        <select id="newFeatureRisk">
                            <option value="low">Low Risk</option>
                            <option value="medium">Medium Risk</option>
                            <option value="high">High Risk</option>
                        </select>
                        <button id="createFeature" class="btn-secondary">
                            <i class="fas fa-plus"></i> Create
                        </button>
                    </div>
                </div>
            </div>

            <!-- Environment Overview -->
            <div class="environments-panel">
                <h2><i class="fas fa-server"></i> Environment Overview</h2>

                <div class="environments-grid" id="environmentsGrid">
                    <!-- Environments will be dynamically generated -->
                </div>

                <div class="global-controls">
                    <h3>Global Controls</h3>
                    <div class="global-buttons">
                        <button id="enableAllFeatures" class="btn-success">
                            <i class="fas fa-check-circle"></i> Enable All
                        </button>
                        <button id="disableAllFeatures" class="btn-warning">
                            <i class="fas fa-ban"></i> Disable All
                        </button>
                        <button id="emergencyStop" class="btn-danger">
                            <i class="fas fa-exclamation-triangle"></i> Emergency Stop
                        </button>
                    </div>
                </div>
            </div>

            <!-- Real-time Monitoring -->
            <div class="monitoring-panel">
                <h2><i class="fas fa-chart-line"></i> Real-Time Monitoring</h2>

                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-header">
                            <i class="fas fa-users"></i>
                            <span>Active Users</span>
                        </div>
                        <div class="metric-value" id="activeUsers">0</div>
                        <div class="metric-trend" id="usersTrend">
                            <i class="fas fa-arrow-up"></i> +0%
                        </div>
                    </div>

                    <div class="metric-card">
                        <div class="metric-header">
                            <i class="fas fa-exclamation-circle"></i>
                            <span>Error Rate</span>
                        </div>
                        <div class="metric-value" id="errorRate">0</div>
                        <div class="metric-unit">%</div>
                    </div>

                    <div class="metric-card">
                        <div class="metric-header">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>Response Time</span>
                        </div>
                        <div class="metric-value" id="responseTime">0</div>
                        <div class="metric-unit">ms</div>
                    </div>

                    <div class="metric-card">
                        <div class="metric-header">
                            <i class="fas fa-heartbeat"></i>
                            <span>System Health</span>
                        </div>
                        <div class="metric-value" id="systemHealth">100</div>
                        <div class="metric-unit">%</div>
                    </div>
                </div>

                <div class="rollout-progress">
                    <h3>Rollout Progress</h3>
                    <div class="progress-container">
                        <div class="progress-bar" id="rolloutProgress">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <div class="progress-text" id="progressText">0% Complete</div>
                    </div>
                </div>
            </div>

            <!-- Risk Assessment & Decisions -->
            <div class="risk-panel">
                <h2><i class="fas fa-shield-alt"></i> Risk Assessment</h2>

                <div class="risk-overview">
                    <div class="risk-score">
                        <div class="score-display">
                            <div class="score-circle" id="riskScore">
                                <span class="score-value">25</span>
                                <span class="score-label">/100</span>
                            </div>
                        </div>
                        <div class="score-label-text">Risk Score</div>
                    </div>

                    <div class="risk-indicators">
                        <div class="indicator" id="errorIndicator">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span>Errors</span>
                        </div>
                        <div class="indicator" id="performanceIndicator">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>Performance</span>
                        </div>
                        <div class="indicator" id="userImpactIndicator">
                            <i class="fas fa-users"></i>
                            <span>User Impact</span>
                        </div>
                    </div>
                </div>

                <div class="decision-log">
                    <h3><i class="fas fa-brain"></i> Automated Decisions</h3>
                    <div class="log-container" id="decisionLog">
                        <div class="log-entry">System initialized - Monitoring active</div>
                    </div>
                </div>

                <div class="safety-controls">
                    <h3>Safety Thresholds</h3>
                    <div class="threshold-controls">
                        <div class="threshold-item">
                            <label>Max Error Rate:</label>
                            <input type="number" id="maxErrorRate" value="5" min="0" max="100">%
                        </div>
                        <div class="threshold-item">
                            <label>Max Response Time:</label>
                            <input type="number" id="maxResponseTime" value="2000" min="100" max="10000">ms
                        </div>
                        <div class="threshold-item">
                            <label>Min System Health:</label>
                            <input type="number" id="minSystemHealth" value="90" min="0" max="100">%
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Feature Details Modal -->
        <div class="modal" id="featureModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="featureModalTitle">Feature Details</h3>
                    <button class="modal-close" id="closeFeatureModal">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="feature-details" id="featureDetails">
                        <!-- Feature details will be populated here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>&copy; 2024 Autonomous Feature Flag Manager. Built with HTML5, CSS3, and JavaScript.</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>