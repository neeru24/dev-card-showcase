<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="game_container"></div>
<div id="white_flash"></div>
<div id="drag_marker"></div>
<div id="ui_layer">
	<div id="damage_layer"></div>
	<button class="pause-btn" onclick="togglePause()" style="display:none;" id="btn_pause">â¸ï¸</button>
	<div class="hud-top" id="hud" style="display:none;">
		<div class="stat-box">
			<div class="label">Health</div>
			<div class="bar-frame">
				<div id="hp_bar_fill" class="fill hp"></div>
			</div>
		</div>
		<div class="timer-container">
			<div id="timer_display">00:00</div>
			<div id="wave_display">Wave 1</div>
			<div id="score_display">Score: 0</div>
			<div id="player_label"></div>
		</div>
		<div class="stat-box" style="align-items: flex-end;">
			<div class="label">Experience</div>
			<div class="bar-frame">
				<div id="xp_bar_fill" class="fill xp"></div>
			</div>
		</div>
	</div>
	<div id="inventory"></div>
</div>

<div id="start_screen" class="screen">
	<div id="top_socials">
		<nav>
			<ul>
				<li><a href="https://julibe.com/" target="_blank" title="Web"> <i class="fa-solid fa-globe"></i> </a></li>
				<li><a href="https://julibe.com/github" target="_blank" title="GitHub"> <i class="fa-brands fa-github"></i> </a></li>
				<li><a href="https://julibe.com/whatsapp" target="_blank" title="WhatsApp"> <i class="fa-brands fa-whatsapp"></i> </a></li>
				<li><a href="https://julibe.com/twitter" target="_blank" title="Twitter"> <i class="fa-brands fa-twitter"></i> </a></li>
				<li><a href="https://julibe.com/instagram" target="_blank" title="Instagram"> <i class="fa-brands fa-instagram"></i> </a></li>
				<li><a href="mailto:mail@julibe.com" title="Email"> <i class="fa-solid fa-envelope"></i> </a></li>
			</ul>
		</nav>
	</div>

	<h1>Emoji Survivors</h1>
	<p style="color: #aaa; letter-spacing: 5px; text-transform: uppercase; font-weight: bold;">Infinite Realms</p>

	<button class="menu-btn" onclick="document.getElementById('info_modal').classList.add('active')">How to Play</button>

	<div class="info-btn-row">
		<button onclick="document.getElementById('intro_modal').classList.add('active')">Intro</button>
		<button onclick="document.getElementById('theory_modal').classList.add('active')">Theory</button>
		<button onclick="document.getElementById('about_modal').classList.add('active')">About</button>
	</div>

	<div class="controls-row">
		<input type="text" id="start_name" placeholder="ENTER NAME" maxlength="12">
		<div class="toggle-group">
			<button id="btn_male" class="selected" onclick="setGender('male')">ğŸ¤´ğŸ»</button>
			<button id="btn_female" onclick="setGender('female')">ğŸ‘¸ğŸ¼</button>
		</div>
		<div class="biome-selector">
			<button onclick="changeBiome(-1)">â®</button>
			<span id="biome_label">Forest ğŸŒ²</span>
			<button onclick="changeBiome(1)">â¯</button>
		</div>
	</div>

	<div class="hero-grid" id="hero_selection"></div>

	<div id="leaderboard">
		<h3>High Scores</h3>
		<div id="score_list"></div>
	</div>
</div>

<div id="info_modal" class="info-modal-screen">
	<div class="modal-box">
		<h2>How to Play</h2>
		<p>ğŸ•¹ï¸ <strong>Drag / WASD / Arrows</strong> to Move</p>
		<p>âš”ï¸ Your hero attacks <strong>automatically</strong>.</p>
		<p>ğŸ’ Collect <strong>Gems</strong> to level up.</p>
		<p>â¤ï¸ Find <strong>Hearts</strong> to heal.</p>
		<p>ğŸ‘¹ The world is <strong>infinite</strong>. Explore!</p>
		<button class="close-btn" onclick="document.getElementById('info_modal').classList.remove('active')">Got it!</button>
	</div>
</div>

<div id="intro_modal" class="info-modal-screen">
	<div class="modal-box">
		<h1>Emoji Survivors</h1>
		<p>Dive into a chaotic, infinite world where emojis fight back! Survive endless waves of enemies, explore unique biomes, and become the ultimate survivor in this addictively fast-paced roguelike adventure.</p>
		<button class="close-btn" onclick="document.getElementById('intro_modal').classList.remove('active')">Close</button>
	</div>
</div>

<div id="theory_modal" class="info-modal-screen">
	<div class="modal-box">
		<h2>Behind the Madness</h2>
		<p>This project explores browser-based performance using Three.js. By rendering thousands of sprite-based entities and procedurally generating infinite chunks, 'Emoji Survivors' demonstrates how modern web technologies can create immersive experiences without heavy assets.</p>
		<button class="close-btn" onclick="document.getElementById('theory_modal').classList.remove('active')">Close</button>
	</div>
</div>

<div id="about_modal" class="info-modal-screen">
	<div class="modal-box">
		<h2>Stay Connected</h2>
		<p>Find <a href="https://julibe.com/" target="_blank">@Julibe</a> and share your high scores.</p>
		<button class="share-btn" onclick="shareTwitter()"><i class="fa-brands fa-twitter"></i> &nbsp; Share High Score</button>
		<div class="copyright">Copyright &copy; 2025 <a href="https://julibe.com/" target="_blank">Julibe.com</a>.</div>
		<button class="close-btn" onclick="document.getElementById('about_modal').classList.remove('active')">Close</button>
	</div>
</div>

<div id="pause_screen" class="screen hidden">
	<h1>PAUSED</h1>
	<div class="btn-column">
		<button onclick="togglePause()">Continue</button>
		<button onclick="resurrect()">Restart</button>
		<button class="secondary" onclick="returnToMenu()">Main Menu</button>
	</div>
</div>

<div id="levelup_screen" class="screen hidden">
	<h2 style="color:var(--accent); font-size: 4rem;">DIVINE FAVOR</h2>
	<p style="color: #888;">Select a Blessing</p>
	<div class="cards-container" id="upgrade_cards"></div>
</div>

<div id="gameover_screen" class="screen hidden">
	<h1 style="color: var(--blood); font-size: 7rem;">SLAIN</h1>
	<h2 id="final_stats" style="color: #ccc; margin-bottom: 20px;"></h2>
	<div class="btn-column">
		<div class="btn-row">
			<button class="secondary" onclick="saveAndMenu()">Save & Menu</button>
			<button onclick="resurrect()">Resurrect</button>
		</div>
	</div>
</div>
<script src="app.js" type="module"></script>
</body>
</html>